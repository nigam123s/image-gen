(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var zc={exports:{}},Ki={},Uc={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=Symbol.for("react.element"),Uf=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Ff=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Hf=Symbol.for("react.memo"),Gf=Symbol.for("react.lazy"),ru=Symbol.iterator;function Vf(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var $c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bc=Object.assign,Dc={};function Cn(e,t,r){this.props=e,this.context=t,this.refs=Dc,this.updater=r||$c}Cn.prototype.isReactComponent={};Cn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fc(){}Fc.prototype=Cn.prototype;function el(e,t,r){this.props=e,this.context=t,this.refs=Dc,this.updater=r||$c}var tl=el.prototype=new Fc;tl.constructor=el;Bc(tl,Cn.prototype);tl.isPureReactComponent=!0;var nu=Array.isArray,Mc=Object.prototype.hasOwnProperty,rl={current:null},Wc={key:!0,ref:!0,__self:!0,__source:!0};function Kc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Mc.call(t,n)&&!Wc.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ns,type:e,key:i,ref:o,props:s,_owner:rl.current}}function qf(e,t){return{$$typeof:Ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ns}function Zf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var su=/\/+/g;function mo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zf(""+e.key):t.toString(36)}function si(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ns:case Uf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+mo(o,0):n,nu(s)?(r="",e!=null&&(r=e.replace(su,"$&/")+"/"),si(s,t,r,"",function(c){return c})):s!=null&&(nl(s)&&(s=qf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(su,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",nu(e))for(var a=0;a<e.length;a++){i=e[a];var u=n+mo(i,a);o+=si(i,t,r,u,s)}else if(u=Vf(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=n+mo(i,a++),o+=si(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ls(e,t,r){if(e==null)return e;var n=[],s=0;return si(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Jf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},ii={transition:null},Qf={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ii,ReactCurrentOwner:rl};function Hc(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Ls,forEach:function(e,t,r){Ls(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ls(e,function(){t++}),t},toArray:function(e){return Ls(e,function(t){return t})||[]},only:function(e){if(!nl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Cn;fe.Fragment=$f;fe.Profiler=Df;fe.PureComponent=el;fe.StrictMode=Bf;fe.Suspense=Kf;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qf;fe.act=Hc;fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Bc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=rl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Mc.call(t,u)&&!Wc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Ns,type:e.type,key:s,ref:i,props:n,_owner:o}};fe.createContext=function(e){return e={$$typeof:Mf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ff,_context:e},e.Consumer=e};fe.createElement=Kc;fe.createFactory=function(e){var t=Kc.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:Wf,render:e}};fe.isValidElement=nl;fe.lazy=function(e){return{$$typeof:Gf,_payload:{_status:-1,_result:e},_init:Jf}};fe.memo=function(e,t){return{$$typeof:Hf,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=ii.transition;ii.transition={};try{e()}finally{ii.transition=t}};fe.unstable_act=Hc;fe.useCallback=function(e,t){return Qe.current.useCallback(e,t)};fe.useContext=function(e){return Qe.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Qe.current.useEffect(e,t)};fe.useId=function(){return Qe.current.useId()};fe.useImperativeHandle=function(e,t,r){return Qe.current.useImperativeHandle(e,t,r)};fe.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Qe.current.useMemo(e,t)};fe.useReducer=function(e,t,r){return Qe.current.useReducer(e,t,r)};fe.useRef=function(e){return Qe.current.useRef(e)};fe.useState=function(e){return Qe.current.useState(e)};fe.useSyncExternalStore=function(e,t,r){return Qe.current.useSyncExternalStore(e,t,r)};fe.useTransition=function(){return Qe.current.useTransition()};fe.version="18.3.1";Uc.exports=fe;var Y=Uc.exports;const Yf=Lc(Y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=Y,ep=Symbol.for("react.element"),tp=Symbol.for("react.fragment"),rp=Object.prototype.hasOwnProperty,np=Xf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sp={key:!0,ref:!0,__self:!0,__source:!0};function Gc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)rp.call(t,n)&&!sp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ep,type:e,key:i,ref:o,props:s,_owner:np.current}}Ki.Fragment=tp;Ki.jsx=Gc;Ki.jsxs=Gc;zc.exports=Ki;var l=zc.exports,Vc={exports:{}},ht={},qc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,L){var z=A.length;A.push(L);e:for(;0<z;){var E=z-1>>>1,T=A[E];if(0<s(T,L))A[E]=L,A[z]=T,z=E;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var L=A[0],z=A.pop();if(z!==L){A[0]=z;e:for(var E=0,T=A.length,X=T>>>1;E<X;){var q=2*(E+1)-1,Z=A[q],ae=q+1,ce=A[ae];if(0>s(Z,z))ae<T&&0>s(ce,Z)?(A[E]=ce,A[ae]=z,E=ae):(A[E]=Z,A[q]=z,E=q);else if(ae<T&&0>s(ce,z))A[E]=ce,A[ae]=z,E=ae;else break e}}return L}function s(A,L){var z=A.sortIndex-L.sortIndex;return z!==0?z:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,y=3,f=!1,x=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=A)n(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=r(c)}}function k(A){if(m=!1,w(A),!x)if(r(u)!==null)x=!0,se(j);else{var L=r(c);L!==null&&K(k,L.startTime-A)}}function j(A,L){x=!1,m&&(m=!1,h(U),U=-1),f=!0;var z=y;try{for(w(L),p=r(u);p!==null&&(!(p.expirationTime>L)||A&&!re());){var E=p.callback;if(typeof E=="function"){p.callback=null,y=p.priorityLevel;var T=E(p.expirationTime<=L);L=e.unstable_now(),typeof T=="function"?p.callback=T:p===r(u)&&n(u),w(L)}else n(u);p=r(u)}if(p!==null)var X=!0;else{var q=r(c);q!==null&&K(k,q.startTime-L),X=!1}return X}finally{p=null,y=z,f=!1}}var P=!1,O=null,U=-1,$=5,M=-1;function re(){return!(e.unstable_now()-M<$)}function I(){if(O!==null){var A=e.unstable_now();M=A;var L=!0;try{L=O(!0,A)}finally{L?F():(P=!1,O=null)}}else P=!1}var F;if(typeof g=="function")F=function(){g(I)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,H=_.port2;_.port1.onmessage=I,F=function(){H.postMessage(null)}}else F=function(){b(I,0)};function se(A){O=A,P||(P=!0,F())}function K(A,L){U=b(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,se(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(A){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var z=y;y=L;try{return A()}finally{y=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=y;y=A;try{return L()}finally{y=z}},e.unstable_scheduleCallback=function(A,L,z){var E=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?E+z:E):z=E,A){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=z+T,A={id:d++,callback:L,priorityLevel:A,startTime:z,expirationTime:T,sortIndex:-1},z>E?(A.sortIndex=z,t(c,A),r(u)===null&&A===r(c)&&(m?(h(U),U=-1):m=!0,K(k,z-E))):(A.sortIndex=T,t(u,A),x||f||(x=!0,se(j))),A},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(A){var L=y;return function(){var z=y;y=L;try{return A.apply(this,arguments)}finally{y=z}}}})(Zc);qc.exports=Zc;var ip=qc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=Y,dt=ip;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jc=new Set,ls={};function Wr(e,t){wn(e,t),wn(e+"Capture",t)}function wn(e,t){for(ls[e]=t,e=0;e<t.length;e++)Jc.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qo=Object.prototype.hasOwnProperty,ap=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iu={},ou={};function lp(e){return qo.call(ou,e)?!0:qo.call(iu,e)?!1:ap.test(e)?ou[e]=!0:(iu[e]=!0,!1)}function up(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cp(e,t,r,n){if(t===null||typeof t>"u"||up(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var sl=/[\-:]([a-z])/g;function il(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sl,il);Fe[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sl,il);Fe[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sl,il);Fe[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function ol(e,t,r,n){var s=Fe.hasOwnProperty(t)?Fe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cp(t,r,s,n)&&(r=null),n||s===null?lp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jt=op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zs=Symbol.for("react.element"),en=Symbol.for("react.portal"),tn=Symbol.for("react.fragment"),al=Symbol.for("react.strict_mode"),Zo=Symbol.for("react.profiler"),Qc=Symbol.for("react.provider"),Yc=Symbol.for("react.context"),ll=Symbol.for("react.forward_ref"),Jo=Symbol.for("react.suspense"),Qo=Symbol.for("react.suspense_list"),ul=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),Xc=Symbol.for("react.offscreen"),au=Symbol.iterator;function Rn(e){return e===null||typeof e!="object"?null:(e=au&&e[au]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,go;function Kn(e){if(go===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);go=t&&t[1]||""}return`
`+go+e}var yo=!1;function vo(e,t){if(!e||yo)return"";yo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{yo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Kn(e):""}function dp(e){switch(e.tag){case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 2:case 15:return e=vo(e.type,!1),e;case 11:return e=vo(e.type.render,!1),e;case 1:return e=vo(e.type,!0),e;default:return""}}function Yo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tn:return"Fragment";case en:return"Portal";case Zo:return"Profiler";case al:return"StrictMode";case Jo:return"Suspense";case Qo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yc:return(e.displayName||"Context")+".Consumer";case Qc:return(e._context.displayName||"Context")+".Provider";case ll:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ul:return t=e.displayName||null,t!==null?t:Yo(e.type)||"Memo";case er:t=e._payload,e=e._init;try{return Yo(e(t))}catch{}}return null}function hp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yo(t);case 8:return t===al?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ed(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fp(e){var t=ed(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Us(e){e._valueTracker||(e._valueTracker=fp(e))}function td(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ed(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xo(e,t){var r=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=yr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rd(e,t){t=t.checked,t!=null&&ol(e,"checked",t,!1)}function ea(e,t){rd(e,t);var r=yr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ta(e,t.type,r):t.hasOwnProperty("defaultValue")&&ta(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ta(e,t,r){(t!=="number"||gi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hn=Array.isArray;function fn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+yr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(Hn(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yr(r)}}function nd(e,t){var r=yr(t.value),n=yr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $s,id=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function us(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pp=["Webkit","ms","Moz","O"];Object.keys(Zn).forEach(function(e){pp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zn[t]=Zn[e]})});function od(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zn.hasOwnProperty(e)&&Zn[e]?(""+t).trim():t+"px"}function ad(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=od(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var mp=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(e,t){if(t){if(mp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function ia(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oa=null;function cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aa=null,pn=null,mn=null;function hu(e){if(e=Is(e)){if(typeof aa!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Zi(t),aa(e.stateNode,e.type,t))}}function ld(e){pn?mn?mn.push(e):mn=[e]:pn=e}function ud(){if(pn){var e=pn,t=mn;if(mn=pn=null,hu(e),t)for(e=0;e<t.length;e++)hu(t[e])}}function cd(e,t){return e(t)}function dd(){}var wo=!1;function hd(e,t,r){if(wo)return e(t,r);wo=!0;try{return cd(e,t,r)}finally{wo=!1,(pn!==null||mn!==null)&&(dd(),ud())}}function cs(e,t){var r=e.stateNode;if(r===null)return null;var n=Zi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var la=!1;if(Gt)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){la=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{la=!1}function gp(e,t,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Jn=!1,yi=null,vi=!1,ua=null,yp={onError:function(e){Jn=!0,yi=e}};function vp(e,t,r,n,s,i,o,a,u){Jn=!1,yi=null,gp.apply(yp,arguments)}function wp(e,t,r,n,s,i,o,a,u){if(vp.apply(this,arguments),Jn){if(Jn){var c=yi;Jn=!1,yi=null}else throw Error(Q(198));vi||(vi=!0,ua=c)}}function Kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fu(e){if(Kr(e)!==e)throw Error(Q(188))}function xp(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return fu(s),e;if(i===n)return fu(s),t;i=i.sibling}throw Error(Q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function pd(e){return e=xp(e),e!==null?md(e):null}function md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=md(e);if(t!==null)return t;e=e.sibling}return null}var gd=dt.unstable_scheduleCallback,pu=dt.unstable_cancelCallback,bp=dt.unstable_shouldYield,_p=dt.unstable_requestPaint,Pe=dt.unstable_now,kp=dt.unstable_getCurrentPriorityLevel,dl=dt.unstable_ImmediatePriority,yd=dt.unstable_UserBlockingPriority,wi=dt.unstable_NormalPriority,jp=dt.unstable_LowPriority,vd=dt.unstable_IdlePriority,Hi=null,zt=null;function Sp(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Hi,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Cp,Np=Math.log,Ep=Math.LN2;function Cp(e){return e>>>=0,e===0?32:31-(Np(e)/Ep|0)|0}var Bs=64,Ds=4194304;function Gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Gn(a):(i&=o,i!==0&&(n=Gn(i)))}else o=r&~s,o!==0?n=Gn(o):i!==0&&(n=Gn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Et(t),s=1<<r,n|=e[r],t&=~s;return n}function Ip(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Et(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=Ip(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wd(){var e=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),e}function xo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Es(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=r}function Op(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Et(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function hl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Et(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ve=0;function xd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bd,fl,_d,kd,jd,da=!1,Fs=[],lr=null,ur=null,cr=null,ds=new Map,hs=new Map,nr=[],Tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,t){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(t.pointerId)}}function zn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Is(t),t!==null&&fl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ap(e,t,r,n,s){switch(t){case"focusin":return lr=zn(lr,e,t,r,n,s),!0;case"dragenter":return ur=zn(ur,e,t,r,n,s),!0;case"mouseover":return cr=zn(cr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ds.set(i,zn(ds.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,hs.set(i,zn(hs.get(i)||null,e,t,r,n,s)),!0}return!1}function Sd(e){var t=Pr(e.target);if(t!==null){var r=Kr(t);if(r!==null){if(t=r.tag,t===13){if(t=fd(r),t!==null){e.blockedOn=t,jd(e.priority,function(){_d(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ha(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);oa=n,r.target.dispatchEvent(n),oa=null}else return t=Is(r),t!==null&&fl(t),e.blockedOn=r,!1;t.shift()}return!0}function gu(e,t,r){oi(e)&&r.delete(t)}function Rp(){da=!1,lr!==null&&oi(lr)&&(lr=null),ur!==null&&oi(ur)&&(ur=null),cr!==null&&oi(cr)&&(cr=null),ds.forEach(gu),hs.forEach(gu)}function Un(e,t){e.blockedOn===t&&(e.blockedOn=null,da||(da=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Rp)))}function fs(e){function t(s){return Un(s,e)}if(0<Fs.length){Un(Fs[0],e);for(var r=1;r<Fs.length;r++){var n=Fs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(lr!==null&&Un(lr,e),ur!==null&&Un(ur,e),cr!==null&&Un(cr,e),ds.forEach(t),hs.forEach(t),r=0;r<nr.length;r++)n=nr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)Sd(r),r.blockedOn===null&&nr.shift()}var gn=Jt.ReactCurrentBatchConfig,bi=!0;function Lp(e,t,r,n){var s=ve,i=gn.transition;gn.transition=null;try{ve=1,pl(e,t,r,n)}finally{ve=s,gn.transition=i}}function zp(e,t,r,n){var s=ve,i=gn.transition;gn.transition=null;try{ve=4,pl(e,t,r,n)}finally{ve=s,gn.transition=i}}function pl(e,t,r,n){if(bi){var s=ha(e,t,r,n);if(s===null)Po(e,t,n,_i,r),mu(e,n);else if(Ap(s,e,t,r,n))n.stopPropagation();else if(mu(e,n),t&4&&-1<Tp.indexOf(e)){for(;s!==null;){var i=Is(s);if(i!==null&&bd(i),i=ha(e,t,r,n),i===null&&Po(e,t,n,_i,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Po(e,t,n,null,r)}}var _i=null;function ha(e,t,r,n){if(_i=null,e=cl(n),e=Pr(e),e!==null)if(t=Kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _i=e,null}function Nd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kp()){case dl:return 1;case yd:return 4;case wi:case jp:return 16;case vd:return 536870912;default:return 16}default:return 16}}var or=null,ml=null,ai=null;function Ed(){if(ai)return ai;var e,t=ml,r=t.length,n,s="value"in or?or.value:or.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ai=s.slice(e,1<n?1-n:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function yu(){return!1}function ft(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ms:yu,this.isPropagationStopped=yu,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),t}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=ft(In),Cs=Ce({},In,{view:0,detail:0}),Up=ft(Cs),bo,_o,$n,Gi=Ce({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(bo=e.screenX-$n.screenX,_o=e.screenY-$n.screenY):_o=bo=0,$n=e),bo)},movementY:function(e){return"movementY"in e?e.movementY:_o}}),vu=ft(Gi),$p=Ce({},Gi,{dataTransfer:0}),Bp=ft($p),Dp=Ce({},Cs,{relatedTarget:0}),ko=ft(Dp),Fp=Ce({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Mp=ft(Fp),Wp=Ce({},In,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=ft(Wp),Hp=Ce({},In,{data:0}),wu=ft(Hp),Gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qp[e])?!!t[e]:!1}function yl(){return Zp}var Jp=Ce({},Cs,{key:function(e){if(e.key){var t=Gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qp=ft(Jp),Yp=Ce({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=ft(Yp),Xp=Ce({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),e0=ft(Xp),t0=Ce({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),r0=ft(t0),n0=Ce({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=ft(n0),i0=[9,13,27,32],vl=Gt&&"CompositionEvent"in window,Qn=null;Gt&&"documentMode"in document&&(Qn=document.documentMode);var o0=Gt&&"TextEvent"in window&&!Qn,Cd=Gt&&(!vl||Qn&&8<Qn&&11>=Qn),bu=" ",_u=!1;function Id(e,t){switch(e){case"keyup":return i0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rn=!1;function a0(e,t){switch(e){case"compositionend":return Pd(t);case"keypress":return t.which!==32?null:(_u=!0,bu);case"textInput":return e=t.data,e===bu&&_u?null:e;default:return null}}function l0(e,t){if(rn)return e==="compositionend"||!vl&&Id(e,t)?(e=Ed(),ai=ml=or=null,rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cd&&t.locale!=="ko"?null:t.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u0[e.type]:t==="textarea"}function Od(e,t,r,n){ld(n),t=ki(t,"onChange"),0<t.length&&(r=new gl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yn=null,ps=null;function c0(e){Md(e,0)}function Vi(e){var t=on(e);if(td(t))return e}function d0(e,t){if(e==="change")return t}var Td=!1;if(Gt){var jo;if(Gt){var So="oninput"in document;if(!So){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),So=typeof ju.oninput=="function"}jo=So}else jo=!1;Td=jo&&(!document.documentMode||9<document.documentMode)}function Su(){Yn&&(Yn.detachEvent("onpropertychange",Ad),ps=Yn=null)}function Ad(e){if(e.propertyName==="value"&&Vi(ps)){var t=[];Od(t,ps,e,cl(e)),hd(c0,t)}}function h0(e,t,r){e==="focusin"?(Su(),Yn=t,ps=r,Yn.attachEvent("onpropertychange",Ad)):e==="focusout"&&Su()}function f0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vi(ps)}function p0(e,t){if(e==="click")return Vi(t)}function m0(e,t){if(e==="input"||e==="change")return Vi(t)}function g0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:g0;function ms(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!qo.call(t,s)||!It(e[s],t[s]))return!1}return!0}function Nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eu(e,t){var r=Nu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nu(r)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(){for(var e=window,t=gi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gi(e.document)}return t}function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y0(e){var t=Ld(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rd(r.ownerDocument.documentElement,r)){if(n!==null&&wl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Eu(r,i);var o=Eu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var v0=Gt&&"documentMode"in document&&11>=document.documentMode,nn=null,fa=null,Xn=null,pa=!1;function Cu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pa||nn==null||nn!==gi(n)||(n=nn,"selectionStart"in n&&wl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xn&&ms(Xn,n)||(Xn=n,n=ki(fa,"onSelect"),0<n.length&&(t=new gl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nn)))}function Ws(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sn={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},No={},zd={};Gt&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function qi(e){if(No[e])return No[e];if(!sn[e])return e;var t=sn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zd)return No[e]=t[r];return e}var Ud=qi("animationend"),$d=qi("animationiteration"),Bd=qi("animationstart"),Dd=qi("transitionend"),Fd=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Fd.set(e,t),Wr(t,[e])}for(var Eo=0;Eo<Iu.length;Eo++){var Co=Iu[Eo],w0=Co.toLowerCase(),x0=Co[0].toUpperCase()+Co.slice(1);xr(w0,"on"+x0)}xr(Ud,"onAnimationEnd");xr($d,"onAnimationIteration");xr(Bd,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(Dd,"onTransitionEnd");wn("onMouseEnter",["mouseout","mouseover"]);wn("onMouseLeave",["mouseout","mouseover"]);wn("onPointerEnter",["pointerout","pointerover"]);wn("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vn));function Pu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wp(n,t,void 0,e),e.currentTarget=null}function Md(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Pu(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Pu(s,a,c),i=u}}}if(vi)throw e=ua,vi=!1,ua=null,e}function _e(e,t){var r=t[wa];r===void 0&&(r=t[wa]=new Set);var n=e+"__bubble";r.has(n)||(Wd(t,e,2,!1),r.add(n))}function Io(e,t,r){var n=0;t&&(n|=4),Wd(r,e,n,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function gs(e){if(!e[Ks]){e[Ks]=!0,Jc.forEach(function(r){r!=="selectionchange"&&(b0.has(r)||Io(r,!1,e),Io(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ks]||(t[Ks]=!0,Io("selectionchange",!1,t))}}function Wd(e,t,r,n){switch(Nd(t)){case 1:var s=Lp;break;case 4:s=zp;break;default:s=pl}r=s.bind(null,t,r,e),s=void 0,!la||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Po(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Pr(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}hd(function(){var c=i,d=cl(r),p=[];e:{var y=Fd.get(e);if(y!==void 0){var f=gl,x=e;switch(e){case"keypress":if(li(r)===0)break e;case"keydown":case"keyup":f=Qp;break;case"focusin":x="focus",f=ko;break;case"focusout":x="blur",f=ko;break;case"beforeblur":case"afterblur":f=ko;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=e0;break;case Ud:case $d:case Bd:f=Mp;break;case Dd:f=r0;break;case"scroll":f=Up;break;case"wheel":f=s0;break;case"copy":case"cut":case"paste":f=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=xu}var m=(t&4)!==0,b=!m&&e==="scroll",h=m?y!==null?y+"Capture":null:y;m=[];for(var g=c,w;g!==null;){w=g;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,h!==null&&(k=cs(g,h),k!=null&&m.push(ys(g,k,w)))),b)break;g=g.return}0<m.length&&(y=new f(y,x,null,r,d),p.push({event:y,listeners:m}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",y&&r!==oa&&(x=r.relatedTarget||r.fromElement)&&(Pr(x)||x[Vt]))break e;if((f||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,f?(x=r.relatedTarget||r.toElement,f=c,x=x?Pr(x):null,x!==null&&(b=Kr(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=c),f!==x)){if(m=vu,k="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=xu,k="onPointerLeave",h="onPointerEnter",g="pointer"),b=f==null?y:on(f),w=x==null?y:on(x),y=new m(k,g+"leave",f,r,d),y.target=b,y.relatedTarget=w,k=null,Pr(d)===c&&(m=new m(h,g+"enter",x,r,d),m.target=w,m.relatedTarget=b,k=m),b=k,f&&x)t:{for(m=f,h=x,g=0,w=m;w;w=Gr(w))g++;for(w=0,k=h;k;k=Gr(k))w++;for(;0<g-w;)m=Gr(m),g--;for(;0<w-g;)h=Gr(h),w--;for(;g--;){if(m===h||h!==null&&m===h.alternate)break t;m=Gr(m),h=Gr(h)}m=null}else m=null;f!==null&&Ou(p,y,f,m,!1),x!==null&&b!==null&&Ou(p,b,x,m,!0)}}e:{if(y=c?on(c):window,f=y.nodeName&&y.nodeName.toLowerCase(),f==="select"||f==="input"&&y.type==="file")var j=d0;else if(ku(y))if(Td)j=m0;else{j=f0;var P=h0}else(f=y.nodeName)&&f.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(j=p0);if(j&&(j=j(e,c))){Od(p,j,r,d);break e}P&&P(e,y,c),e==="focusout"&&(P=y._wrapperState)&&P.controlled&&y.type==="number"&&ta(y,"number",y.value)}switch(P=c?on(c):window,e){case"focusin":(ku(P)||P.contentEditable==="true")&&(nn=P,fa=c,Xn=null);break;case"focusout":Xn=fa=nn=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,Cu(p,r,d);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":Cu(p,r,d)}var O;if(vl)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else rn?Id(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(Cd&&r.locale!=="ko"&&(rn||U!=="onCompositionStart"?U==="onCompositionEnd"&&rn&&(O=Ed()):(or=d,ml="value"in or?or.value:or.textContent,rn=!0)),P=ki(c,U),0<P.length&&(U=new wu(U,e,null,r,d),p.push({event:U,listeners:P}),O?U.data=O:(O=Pd(r),O!==null&&(U.data=O)))),(O=o0?a0(e,r):l0(e,r))&&(c=ki(c,"onBeforeInput"),0<c.length&&(d=new wu("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=O))}Md(p,t)})}function ys(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ki(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=cs(e,r),i!=null&&n.unshift(ys(e,i,s)),i=cs(e,t),i!=null&&n.push(ys(e,i,s))),e=e.return}return n}function Gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ou(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=cs(r,i),u!=null&&o.unshift(ys(r,u,a))):s||(u=cs(r,i),u!=null&&o.push(ys(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var _0=/\r\n?/g,k0=/\u0000|\uFFFD/g;function Tu(e){return(typeof e=="string"?e:""+e).replace(_0,`
`).replace(k0,"")}function Hs(e,t,r){if(t=Tu(t),Tu(e)!==t&&r)throw Error(Q(425))}function ji(){}var ma=null,ga=null;function ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var va=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(e){return Au.resolve(null).then(e).catch(N0)}:va;function N0(e){setTimeout(function(){throw e})}function Oo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),fs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);fs(t)}function dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ru(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Pn,vs="__reactProps$"+Pn,Vt="__reactContainer$"+Pn,wa="__reactEvents$"+Pn,E0="__reactListeners$"+Pn,C0="__reactHandles$"+Pn;function Pr(e){var t=e[Rt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vt]||r[Rt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ru(e);e!==null;){if(r=e[Rt])return r;e=Ru(e)}return t}e=r,r=e.parentNode}return null}function Is(e){return e=e[Rt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function on(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Zi(e){return e[vs]||null}var xa=[],an=-1;function br(e){return{current:e}}function ke(e){0>an||(e.current=xa[an],xa[an]=null,an--)}function be(e,t){an++,xa[an]=e.current,e.current=t}var vr={},Ve=br(vr),st=br(!1),Lr=vr;function xn(e,t){var r=e.type.contextTypes;if(!r)return vr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function it(e){return e=e.childContextTypes,e!=null}function Si(){ke(st),ke(Ve)}function Lu(e,t,r){if(Ve.current!==vr)throw Error(Q(168));be(Ve,t),be(st,r)}function Kd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Q(108,hp(e)||"Unknown",s));return Ce({},r,n)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Lr=Ve.current,be(Ve,e),be(st,st.current),!0}function zu(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=Kd(e,t,Lr),n.__reactInternalMemoizedMergedChildContext=e,ke(st),ke(Ve),be(Ve,e)):ke(st),be(st,r)}var Mt=null,Ji=!1,To=!1;function Hd(e){Mt===null?Mt=[e]:Mt.push(e)}function I0(e){Ji=!0,Hd(e)}function _r(){if(!To&&Mt!==null){To=!0;var e=0,t=ve;try{var r=Mt;for(ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Mt=null,Ji=!1}catch(s){throw Mt!==null&&(Mt=Mt.slice(e+1)),gd(dl,_r),s}finally{ve=t,To=!1}}return null}var ln=[],un=0,Ei=null,Ci=0,mt=[],gt=0,zr=null,Wt=1,Kt="";function Nr(e,t){ln[un++]=Ci,ln[un++]=Ei,Ei=e,Ci=t}function Gd(e,t,r){mt[gt++]=Wt,mt[gt++]=Kt,mt[gt++]=zr,zr=e;var n=Wt;e=Kt;var s=32-Et(n)-1;n&=~(1<<s),r+=1;var i=32-Et(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Wt=1<<32-Et(t)+s|r<<s|n,Kt=i+e}else Wt=1<<i|r<<s|n,Kt=e}function xl(e){e.return!==null&&(Nr(e,1),Gd(e,1,0))}function bl(e){for(;e===Ei;)Ei=ln[--un],ln[un]=null,Ci=ln[--un],ln[un]=null;for(;e===zr;)zr=mt[--gt],mt[gt]=null,Kt=mt[--gt],mt[gt]=null,Wt=mt[--gt],mt[gt]=null}var ct=null,ut=null,je=!1,Nt=null;function Vd(e,t){var r=yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,ut=dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zr!==null?{id:Wt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ct=e,ut=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _a(e){if(je){var t=ut;if(t){var r=t;if(!Uu(e,t)){if(ba(e))throw Error(Q(418));t=dr(r.nextSibling);var n=ct;t&&Uu(e,t)?Vd(n,r):(e.flags=e.flags&-4097|2,je=!1,ct=e)}}else{if(ba(e))throw Error(Q(418));e.flags=e.flags&-4097|2,je=!1,ct=e}}}function $u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Gs(e){if(e!==ct)return!1;if(!je)return $u(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ya(e.type,e.memoizedProps)),t&&(t=ut)){if(ba(e))throw qd(),Error(Q(418));for(;t;)Vd(e,t),t=dr(t.nextSibling)}if($u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ut=dr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ct?dr(e.stateNode.nextSibling):null;return!0}function qd(){for(var e=ut;e;)e=dr(e.nextSibling)}function bn(){ut=ct=null,je=!1}function _l(e){Nt===null?Nt=[e]:Nt.push(e)}var P0=Jt.ReactCurrentBatchConfig;function Bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bu(e){var t=e._init;return t(e._payload)}function Zd(e){function t(h,g){if(e){var w=h.deletions;w===null?(h.deletions=[g],h.flags|=16):w.push(g)}}function r(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function n(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function s(h,g){return h=mr(h,g),h.index=0,h.sibling=null,h}function i(h,g,w){return h.index=w,e?(w=h.alternate,w!==null?(w=w.index,w<g?(h.flags|=2,g):w):(h.flags|=2,g)):(h.flags|=1048576,g)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,g,w,k){return g===null||g.tag!==6?(g=Bo(w,h.mode,k),g.return=h,g):(g=s(g,w),g.return=h,g)}function u(h,g,w,k){var j=w.type;return j===tn?d(h,g,w.props.children,k,w.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===er&&Bu(j)===g.type)?(k=s(g,w.props),k.ref=Bn(h,g,w),k.return=h,k):(k=mi(w.type,w.key,w.props,null,h.mode,k),k.ref=Bn(h,g,w),k.return=h,k)}function c(h,g,w,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Do(w,h.mode,k),g.return=h,g):(g=s(g,w.children||[]),g.return=h,g)}function d(h,g,w,k,j){return g===null||g.tag!==7?(g=Rr(w,h.mode,k,j),g.return=h,g):(g=s(g,w),g.return=h,g)}function p(h,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Bo(""+g,h.mode,w),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zs:return w=mi(g.type,g.key,g.props,null,h.mode,w),w.ref=Bn(h,null,g),w.return=h,w;case en:return g=Do(g,h.mode,w),g.return=h,g;case er:var k=g._init;return p(h,k(g._payload),w)}if(Hn(g)||Rn(g))return g=Rr(g,h.mode,w,null),g.return=h,g;Vs(h,g)}return null}function y(h,g,w,k){var j=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:a(h,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zs:return w.key===j?u(h,g,w,k):null;case en:return w.key===j?c(h,g,w,k):null;case er:return j=w._init,y(h,g,j(w._payload),k)}if(Hn(w)||Rn(w))return j!==null?null:d(h,g,w,k,null);Vs(h,w)}return null}function f(h,g,w,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return h=h.get(w)||null,a(g,h,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case zs:return h=h.get(k.key===null?w:k.key)||null,u(g,h,k,j);case en:return h=h.get(k.key===null?w:k.key)||null,c(g,h,k,j);case er:var P=k._init;return f(h,g,w,P(k._payload),j)}if(Hn(k)||Rn(k))return h=h.get(w)||null,d(g,h,k,j,null);Vs(g,k)}return null}function x(h,g,w,k){for(var j=null,P=null,O=g,U=g=0,$=null;O!==null&&U<w.length;U++){O.index>U?($=O,O=null):$=O.sibling;var M=y(h,O,w[U],k);if(M===null){O===null&&(O=$);break}e&&O&&M.alternate===null&&t(h,O),g=i(M,g,U),P===null?j=M:P.sibling=M,P=M,O=$}if(U===w.length)return r(h,O),je&&Nr(h,U),j;if(O===null){for(;U<w.length;U++)O=p(h,w[U],k),O!==null&&(g=i(O,g,U),P===null?j=O:P.sibling=O,P=O);return je&&Nr(h,U),j}for(O=n(h,O);U<w.length;U++)$=f(O,h,U,w[U],k),$!==null&&(e&&$.alternate!==null&&O.delete($.key===null?U:$.key),g=i($,g,U),P===null?j=$:P.sibling=$,P=$);return e&&O.forEach(function(re){return t(h,re)}),je&&Nr(h,U),j}function m(h,g,w,k){var j=Rn(w);if(typeof j!="function")throw Error(Q(150));if(w=j.call(w),w==null)throw Error(Q(151));for(var P=j=null,O=g,U=g=0,$=null,M=w.next();O!==null&&!M.done;U++,M=w.next()){O.index>U?($=O,O=null):$=O.sibling;var re=y(h,O,M.value,k);if(re===null){O===null&&(O=$);break}e&&O&&re.alternate===null&&t(h,O),g=i(re,g,U),P===null?j=re:P.sibling=re,P=re,O=$}if(M.done)return r(h,O),je&&Nr(h,U),j;if(O===null){for(;!M.done;U++,M=w.next())M=p(h,M.value,k),M!==null&&(g=i(M,g,U),P===null?j=M:P.sibling=M,P=M);return je&&Nr(h,U),j}for(O=n(h,O);!M.done;U++,M=w.next())M=f(O,h,U,M.value,k),M!==null&&(e&&M.alternate!==null&&O.delete(M.key===null?U:M.key),g=i(M,g,U),P===null?j=M:P.sibling=M,P=M);return e&&O.forEach(function(I){return t(h,I)}),je&&Nr(h,U),j}function b(h,g,w,k){if(typeof w=="object"&&w!==null&&w.type===tn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zs:e:{for(var j=w.key,P=g;P!==null;){if(P.key===j){if(j=w.type,j===tn){if(P.tag===7){r(h,P.sibling),g=s(P,w.props.children),g.return=h,h=g;break e}}else if(P.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===er&&Bu(j)===P.type){r(h,P.sibling),g=s(P,w.props),g.ref=Bn(h,P,w),g.return=h,h=g;break e}r(h,P);break}else t(h,P);P=P.sibling}w.type===tn?(g=Rr(w.props.children,h.mode,k,w.key),g.return=h,h=g):(k=mi(w.type,w.key,w.props,null,h.mode,k),k.ref=Bn(h,g,w),k.return=h,h=k)}return o(h);case en:e:{for(P=w.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(h,g.sibling),g=s(g,w.children||[]),g.return=h,h=g;break e}else{r(h,g);break}else t(h,g);g=g.sibling}g=Do(w,h.mode,k),g.return=h,h=g}return o(h);case er:return P=w._init,b(h,g,P(w._payload),k)}if(Hn(w))return x(h,g,w,k);if(Rn(w))return m(h,g,w,k);Vs(h,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(h,g.sibling),g=s(g,w),g.return=h,h=g):(r(h,g),g=Bo(w,h.mode,k),g.return=h,h=g),o(h)):r(h,g)}return b}var _n=Zd(!0),Jd=Zd(!1),Ii=br(null),Pi=null,cn=null,kl=null;function jl(){kl=cn=Pi=null}function Sl(e){var t=Ii.current;ke(Ii),e._currentValue=t}function ka(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yn(e,t){Pi=e,kl=cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(kl!==e)if(e={context:e,memoizedValue:t,next:null},cn===null){if(Pi===null)throw Error(Q(308));cn=e,Pi.dependencies={lanes:0,firstContext:e}}else cn=cn.next=e;return t}var Or=null;function Nl(e){Or===null?Or=[e]:Or.push(e)}function Qd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Nl(t)):(r.next=s.next,s.next=r),t.interleaved=r,qt(e,n)}function qt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var tr=!1;function El(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ge&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,qt(e,r)}return s=n.interleaved,s===null?(t.next=t,Nl(n)):(t.next=s.next,s.next=t),n.interleaved=t,qt(e,r)}function ui(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hl(e,r)}}function Du(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Oi(e,t,r,n){var s=e.updateQueue;tr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,d=c=u=null,a=i;do{var y=a.lane,f=a.eventTime;if((n&y)===y){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,m=a;switch(y=t,f=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){p=x.call(f,p,y);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,y=typeof x=="function"?x.call(f,p,y):x,y==null)break e;p=Ce({},p,y);break e;case 2:tr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[a]:y.push(a))}else f={eventTime:f,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=f,u=p):d=d.next=f,o|=y;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;y=a,a=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);$r|=o,e.lanes=o,e.memoizedState=p}}function Fu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Q(191,s));s.call(n)}}}var Ps={},Ut=br(Ps),ws=br(Ps),xs=br(Ps);function Tr(e){if(e===Ps)throw Error(Q(174));return e}function Cl(e,t){switch(be(xs,t),be(ws,e),be(Ut,Ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=na(t,e)}ke(Ut),be(Ut,t)}function kn(){ke(Ut),ke(ws),ke(xs)}function Xd(e){Tr(xs.current);var t=Tr(Ut.current),r=na(t,e.type);t!==r&&(be(ws,e),be(Ut,r))}function Il(e){ws.current===e&&(ke(Ut),ke(ws))}var Ne=br(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ao=[];function Pl(){for(var e=0;e<Ao.length;e++)Ao[e]._workInProgressVersionPrimary=null;Ao.length=0}var ci=Jt.ReactCurrentDispatcher,Ro=Jt.ReactCurrentBatchConfig,Ur=0,Ee=null,Te=null,ze=null,Ai=!1,es=!1,bs=0,O0=0;function Me(){throw Error(Q(321))}function Ol(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!It(e[r],t[r]))return!1;return!0}function Tl(e,t,r,n,s,i){if(Ur=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ci.current=e===null||e.memoizedState===null?L0:z0,e=r(n,s),es){i=0;do{if(es=!1,bs=0,25<=i)throw Error(Q(301));i+=1,ze=Te=null,t.updateQueue=null,ci.current=U0,e=r(n,s)}while(es)}if(ci.current=Ri,t=Te!==null&&Te.next!==null,Ur=0,ze=Te=Ee=null,Ai=!1,t)throw Error(Q(300));return e}function Al(){var e=bs!==0;return bs=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ee.memoizedState=ze=e:ze=ze.next=e,ze}function xt(){if(Te===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=ze===null?Ee.memoizedState:ze.next;if(t!==null)ze=t,Te=e;else{if(e===null)throw Error(Q(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},ze===null?Ee.memoizedState=ze=e:ze=ze.next=e}return ze}function _s(e,t){return typeof t=="function"?t(e):t}function Lo(e){var t=xt(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=Te,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((Ur&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=n):u=u.next=p,Ee.lanes|=d,$r|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,It(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ee.lanes|=i,$r|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zo(e){var t=xt(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);It(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function eh(){}function th(e,t){var r=Ee,n=xt(),s=t(),i=!It(n.memoizedState,s);if(i&&(n.memoizedState=s,nt=!0),n=n.queue,Rl(sh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,ks(9,nh.bind(null,r,n,s,t),void 0,null),$e===null)throw Error(Q(349));Ur&30||rh(r,t,s)}return s}function rh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function nh(e,t,r,n){t.value=r,t.getSnapshot=n,ih(t)&&oh(e)}function sh(e,t,r){return r(function(){ih(t)&&oh(e)})}function ih(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!It(e,r)}catch{return!0}}function oh(e){var t=qt(e,1);t!==null&&Ct(t,e,1,-1)}function Mu(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=R0.bind(null,Ee,e),[t.memoizedState,e]}function ks(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ah(){return xt().memoizedState}function di(e,t,r,n){var s=Tt();Ee.flags|=e,s.memoizedState=ks(1|t,r,void 0,n===void 0?null:n)}function Qi(e,t,r,n){var s=xt();n=n===void 0?null:n;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,n!==null&&Ol(n,o.deps)){s.memoizedState=ks(t,r,i,n);return}}Ee.flags|=e,s.memoizedState=ks(1|t,r,i,n)}function Wu(e,t){return di(8390656,8,e,t)}function Rl(e,t){return Qi(2048,8,e,t)}function lh(e,t){return Qi(4,2,e,t)}function uh(e,t){return Qi(4,4,e,t)}function ch(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dh(e,t,r){return r=r!=null?r.concat([e]):null,Qi(4,4,ch.bind(null,t,e),r)}function Ll(){}function hh(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ol(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fh(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ol(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ph(e,t,r){return Ur&21?(It(r,t)||(r=wd(),Ee.lanes|=r,$r|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r)}function T0(e,t){var r=ve;ve=r!==0&&4>r?r:4,e(!0);var n=Ro.transition;Ro.transition={};try{e(!1),t()}finally{ve=r,Ro.transition=n}}function mh(){return xt().memoizedState}function A0(e,t,r){var n=pr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gh(e))yh(t,r);else if(r=Qd(e,t,r,n),r!==null){var s=Je();Ct(r,e,n,s),vh(r,t,n)}}function R0(e,t,r){var n=pr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gh(e))yh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,It(a,o)){var u=t.interleaved;u===null?(s.next=s,Nl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Qd(e,t,s,n),r!==null&&(s=Je(),Ct(r,e,n,s),vh(r,t,n))}}function gh(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function yh(e,t){es=Ai=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hl(e,r)}}var Ri={readContext:wt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},L0={readContext:wt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:Wu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,di(4194308,4,ch.bind(null,t,e),r)},useLayoutEffect:function(e,t){return di(4194308,4,e,t)},useInsertionEffect:function(e,t){return di(4,2,e,t)},useMemo:function(e,t){var r=Tt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Tt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=A0.bind(null,Ee,e),[n.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Mu,useDebugValue:Ll,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Mu(!1),t=e[0];return e=T0.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ee,s=Tt();if(je){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),$e===null)throw Error(Q(349));Ur&30||rh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Wu(sh.bind(null,n,i,e),[e]),n.flags|=2048,ks(9,nh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Tt(),t=$e.identifierPrefix;if(je){var r=Kt,n=Wt;r=(n&~(1<<32-Et(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=O0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z0={readContext:wt,useCallback:hh,useContext:wt,useEffect:Rl,useImperativeHandle:dh,useInsertionEffect:lh,useLayoutEffect:uh,useMemo:fh,useReducer:Lo,useRef:ah,useState:function(){return Lo(_s)},useDebugValue:Ll,useDeferredValue:function(e){var t=xt();return ph(t,Te.memoizedState,e)},useTransition:function(){var e=Lo(_s)[0],t=xt().memoizedState;return[e,t]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1},U0={readContext:wt,useCallback:hh,useContext:wt,useEffect:Rl,useImperativeHandle:dh,useInsertionEffect:lh,useLayoutEffect:uh,useMemo:fh,useReducer:zo,useRef:ah,useState:function(){return zo(_s)},useDebugValue:Ll,useDeferredValue:function(e){var t=xt();return Te===null?t.memoizedState=e:ph(t,Te.memoizedState,e)},useTransition:function(){var e=zo(_s)[0],t=xt().memoizedState;return[e,t]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ja(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yi={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Je(),s=pr(e),i=Ht(n,s);i.payload=t,r!=null&&(i.callback=r),t=hr(e,i,s),t!==null&&(Ct(t,e,s,n),ui(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Je(),s=pr(e),i=Ht(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=hr(e,i,s),t!==null&&(Ct(t,e,s,n),ui(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Je(),n=pr(e),s=Ht(r,n);s.tag=2,t!=null&&(s.callback=t),t=hr(e,s,n),t!==null&&(Ct(t,e,n,r),ui(t,e,n))}};function Ku(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ms(r,n)||!ms(s,i):!0}function wh(e,t,r){var n=!1,s=vr,i=t.contextType;return typeof i=="object"&&i!==null?i=wt(i):(s=it(t)?Lr:Ve.current,n=t.contextTypes,i=(n=n!=null)?xn(e,s):vr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yi.enqueueReplaceState(t,t.state,null)}function Sa(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},El(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=wt(i):(i=it(t)?Lr:Ve.current,s.context=xn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ja(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yi.enqueueReplaceState(s,s.state,null),Oi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function jn(e,t){try{var r="",n=t;do r+=dp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Uo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Na(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $0=typeof WeakMap=="function"?WeakMap:Map;function xh(e,t,r){r=Ht(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zi||(zi=!0,za=n),Na(e,t)},r}function bh(e,t,r){r=Ht(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Na(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Na(e,t),typeof n!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Gu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Y0.bind(null,e,t,r),t.then(e,e))}function Vu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ht(-1,1),t.tag=2,hr(r,t,1))),r.lanes|=1),e)}var B0=Jt.ReactCurrentOwner,nt=!1;function qe(e,t,r,n){t.child=e===null?Jd(t,null,r,n):_n(t,e.child,r,n)}function Zu(e,t,r,n,s){r=r.render;var i=t.ref;return yn(t,s),n=Tl(e,t,r,n,i,s),r=Al(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(je&&r&&xl(t),t.flags|=1,qe(e,t,n,s),t.child)}function Ju(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Wl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,_h(e,t,i,n,s)):(e=mi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ms,r(o,n)&&e.ref===t.ref)return Zt(e,t,s)}return t.flags|=1,e=mr(i,n),e.ref=t.ref,e.return=t,t.child=e}function _h(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ms(i,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,Zt(e,t,s)}return Ea(e,t,r,n,s)}function kh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(hn,lt),lt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(hn,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,be(hn,lt),lt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,be(hn,lt),lt|=n;return qe(e,t,s,r),t.child}function jh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,r,n,s){var i=it(r)?Lr:Ve.current;return i=xn(t,i),yn(t,s),r=Tl(e,t,r,n,i,s),n=Al(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(je&&n&&xl(t),t.flags|=1,qe(e,t,r,s),t.child)}function Qu(e,t,r,n,s){if(it(r)){var i=!0;Ni(t)}else i=!1;if(yn(t,s),t.stateNode===null)hi(e,t),wh(t,r,n),Sa(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=wt(c):(c=it(r)?Lr:Ve.current,c=xn(t,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&Hu(t,o,n,c),tr=!1;var y=t.memoizedState;o.state=y,Oi(t,n,o,s),u=t.memoizedState,a!==n||y!==u||st.current||tr?(typeof d=="function"&&(ja(t,r,d,n),u=t.memoizedState),(a=tr||Ku(t,r,a,n,y,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Yd(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:kt(t.type,a),o.props=c,p=t.pendingProps,y=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=wt(u):(u=it(r)?Lr:Ve.current,u=xn(t,u));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||y!==u)&&Hu(t,o,n,u),tr=!1,y=t.memoizedState,o.state=y,Oi(t,n,o,s);var x=t.memoizedState;a!==p||y!==x||st.current||tr?(typeof f=="function"&&(ja(t,r,f,n),x=t.memoizedState),(c=tr||Ku(t,r,c,n,y,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return Ca(e,t,r,n,i,s)}function Ca(e,t,r,n,s,i){jh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&zu(t,r,!1),Zt(e,t,i);n=t.stateNode,B0.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=_n(t,e.child,null,i),t.child=_n(t,null,a,i)):qe(e,t,a,i),t.memoizedState=n.state,s&&zu(t,r,!0),t.child}function Sh(e){var t=e.stateNode;t.pendingContext?Lu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lu(e,t.context,!1),Cl(e,t.containerInfo)}function Yu(e,t,r,n,s){return bn(),_l(s),t.flags|=256,qe(e,t,r,n),t.child}var Ia={dehydrated:null,treeContext:null,retryLane:0};function Pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nh(e,t,r){var n=t.pendingProps,s=Ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),be(Ne,s&1),e===null)return _a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=to(o,n,0,null),e=Rr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pa(r),t.memoizedState=Ia,e):zl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return D0(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=mr(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=mr(a,i):(i=Rr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Pa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ia,n}return i=e.child,e=i.sibling,n=mr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zl(e,t){return t=to({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qs(e,t,r,n){return n!==null&&_l(n),_n(t,e.child,null,r),e=zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function D0(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Uo(Error(Q(422))),qs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=to({mode:"visible",children:n.children},s,0,null),i=Rr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&_n(t,e.child,null,o),t.child.memoizedState=Pa(o),t.memoizedState=Ia,i);if(!(t.mode&1))return qs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(Q(419)),n=Uo(i,n,void 0),qs(e,t,o,n)}if(a=(o&e.childLanes)!==0,nt||a){if(n=$e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qt(e,s),Ct(n,e,s,-1))}return Ml(),n=Uo(Error(Q(421))),qs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=X0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ut=dr(s.nextSibling),ct=t,je=!0,Nt=null,e!==null&&(mt[gt++]=Wt,mt[gt++]=Kt,mt[gt++]=zr,Wt=e.id,Kt=e.overflow,zr=t),t=zl(t,n.children),t.flags|=4096,t)}function Xu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ka(e.return,t,r)}function $o(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Eh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(qe(e,t,n.children,r),n=Ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xu(e,r,t);else if(e.tag===19)Xu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(be(Ne,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ti(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$o(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$o(t,!0,r,null,i);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=mr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function F0(e,t,r){switch(t.tag){case 3:Sh(t),bn();break;case 5:Xd(t);break;case 1:it(t.type)&&Ni(t);break;case 4:Cl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;be(Ii,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(be(Ne,Ne.current&1),t.flags|=128,null):r&t.child.childLanes?Nh(e,t,r):(be(Ne,Ne.current&1),e=Zt(e,t,r),e!==null?e.sibling:null);be(Ne,Ne.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Eh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Ne,Ne.current),n)break;return null;case 22:case 23:return t.lanes=0,kh(e,t,r)}return Zt(e,t,r)}var Ch,Oa,Ih,Ph;Ch=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oa=function(){};Ih=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Tr(Ut.current);var i=null;switch(r){case"input":s=Xo(e,s),n=Xo(e,n),i=[];break;case"select":s=Ce({},s,{value:void 0}),n=Ce({},n,{value:void 0}),i=[];break;case"textarea":s=ra(e,s),n=ra(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ji)}sa(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ls.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ls.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&_e("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ph=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dn(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function M0(e,t,r){var n=t.pendingProps;switch(bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return it(t.type)&&Si(),We(t),null;case 3:return n=t.stateNode,kn(),ke(st),ke(Ve),Pl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Ba(Nt),Nt=null))),Oa(e,t),We(t),null;case 5:Il(t);var s=Tr(xs.current);if(r=t.type,e!==null&&t.stateNode!=null)Ih(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return We(t),null}if(e=Tr(Ut.current),Gs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Rt]=t,n[vs]=i,e=(t.mode&1)!==0,r){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(s=0;s<Vn.length;s++)_e(Vn[s],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":lu(n,i),_e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_e("invalid",n);break;case"textarea":cu(n,i),_e("invalid",n)}sa(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hs(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hs(n.textContent,a,e),s=["children",""+a]):ls.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",n)}switch(r){case"input":Us(n),uu(n,i,!0);break;case"textarea":Us(n),du(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ji)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Rt]=t,e[vs]=n,Ch(e,t,!1,!1),t.stateNode=e;e:{switch(o=ia(r,n),r){case"dialog":_e("cancel",e),_e("close",e),s=n;break;case"iframe":case"object":case"embed":_e("load",e),s=n;break;case"video":case"audio":for(s=0;s<Vn.length;s++)_e(Vn[s],e);s=n;break;case"source":_e("error",e),s=n;break;case"img":case"image":case"link":_e("error",e),_e("load",e),s=n;break;case"details":_e("toggle",e),s=n;break;case"input":lu(e,n),s=Xo(e,n),_e("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ce({},n,{value:void 0}),_e("invalid",e);break;case"textarea":cu(e,n),s=ra(e,n),_e("invalid",e);break;default:s=n}sa(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?ad(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&id(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&us(e,u):typeof u=="number"&&us(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ls.hasOwnProperty(i)?u!=null&&i==="onScroll"&&_e("scroll",e):u!=null&&ol(e,i,u,o))}switch(r){case"input":Us(e),uu(e,n,!1);break;case"textarea":Us(e),du(e);break;case"option":n.value!=null&&e.setAttribute("value",""+yr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?fn(e,!!n.multiple,i,!1):n.defaultValue!=null&&fn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ji)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Ph(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=Tr(xs.current),Tr(Ut.current),Gs(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rt]=t,(i=n.nodeValue!==r)&&(e=ct,e!==null))switch(e.tag){case 3:Hs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rt]=t,t.stateNode=n}return We(t),null;case 13:if(ke(Ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&ut!==null&&t.mode&1&&!(t.flags&128))qd(),bn(),t.flags|=98560,i=!1;else if(i=Gs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Rt]=t}else bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else Nt!==null&&(Ba(Nt),Nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Re===0&&(Re=3):Ml())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return kn(),Oa(e,t),e===null&&gs(t.stateNode.containerInfo),We(t),null;case 10:return Sl(t.type._context),We(t),null;case 17:return it(t.type)&&Si(),We(t),null;case 19:if(ke(Ne),i=t.memoizedState,i===null)return We(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Dn(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ti(e),o!==null){for(t.flags|=128,Dn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return be(Ne,Ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>Sn&&(t.flags|=128,n=!0,Dn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ti(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return We(t),null}else 2*Pe()-i.renderingStartTime>Sn&&r!==1073741824&&(t.flags|=128,n=!0,Dn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,r=Ne.current,be(Ne,n?r&1|2:r&1),t):(We(t),null);case 22:case 23:return Fl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?lt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function W0(e,t){switch(bl(t),t.tag){case 1:return it(t.type)&&Si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(),ke(st),ke(Ve),Pl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Il(t),null;case 13:if(ke(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ne),null;case 4:return kn(),null;case 10:return Sl(t.type._context),null;case 22:case 23:return Fl(),null;case 24:return null;default:return null}}var Zs=!1,He=!1,K0=typeof WeakSet=="function"?WeakSet:Set,te=null;function dn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ie(e,t,n)}else r.current=null}function Ta(e,t,r){try{r()}catch(n){Ie(e,t,n)}}var ec=!1;function H0(e,t){if(ma=bi,e=Ld(),wl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=e,y=null;t:for(;;){for(var f;p!==r||s!==0&&p.nodeType!==3||(a=o+s),p!==i||n!==0&&p.nodeType!==3||(u=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(f=p.firstChild)!==null;)y=p,p=f;for(;;){if(p===e)break t;if(y===r&&++c===s&&(a=o),y===i&&++d===n&&(u=o),(f=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=f}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ga={focusedElem:e,selectionRange:r},bi=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,b=x.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?m:kt(t.type,m),b);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(k){Ie(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return x=ec,ec=!1,x}function ts(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ta(t,r,i)}s=s.next}while(s!==n)}}function Xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Aa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Oh(e){var t=e.alternate;t!==null&&(e.alternate=null,Oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[vs],delete t[wa],delete t[E0],delete t[C0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Th(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ra(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ji));else if(n!==4&&(e=e.child,e!==null))for(Ra(e,t,r),e=e.sibling;e!==null;)Ra(e,t,r),e=e.sibling}function La(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(La(e,t,r),e=e.sibling;e!==null;)La(e,t,r),e=e.sibling}var Be=null,jt=!1;function Yt(e,t,r){for(r=r.child;r!==null;)Ah(e,t,r),r=r.sibling}function Ah(e,t,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Hi,r)}catch{}switch(r.tag){case 5:He||dn(r,t);case 6:var n=Be,s=jt;Be=null,Yt(e,t,r),Be=n,jt=s,Be!==null&&(jt?(e=Be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Be.removeChild(r.stateNode));break;case 18:Be!==null&&(jt?(e=Be,r=r.stateNode,e.nodeType===8?Oo(e.parentNode,r):e.nodeType===1&&Oo(e,r),fs(e)):Oo(Be,r.stateNode));break;case 4:n=Be,s=jt,Be=r.stateNode.containerInfo,jt=!0,Yt(e,t,r),Be=n,jt=s;break;case 0:case 11:case 14:case 15:if(!He&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ta(r,t,o),s=s.next}while(s!==n)}Yt(e,t,r);break;case 1:if(!He&&(dn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ie(r,t,a)}Yt(e,t,r);break;case 21:Yt(e,t,r);break;case 22:r.mode&1?(He=(n=He)||r.memoizedState!==null,Yt(e,t,r),He=n):Yt(e,t,r);break;default:Yt(e,t,r)}}function rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new K0),t.forEach(function(n){var s=em.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function bt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,jt=!1;break e;case 3:Be=a.stateNode.containerInfo,jt=!0;break e;case 4:Be=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(Be===null)throw Error(Q(160));Ah(i,o,s),Be=null,jt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ie(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}function Rh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Ot(e),n&4){try{ts(3,e,e.return),Xi(3,e)}catch(m){Ie(e,e.return,m)}try{ts(5,e,e.return)}catch(m){Ie(e,e.return,m)}}break;case 1:bt(t,e),Ot(e),n&512&&r!==null&&dn(r,r.return);break;case 5:if(bt(t,e),Ot(e),n&512&&r!==null&&dn(r,r.return),e.flags&32){var s=e.stateNode;try{us(s,"")}catch(m){Ie(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rd(s,i),ia(a,o);var c=ia(a,i);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?ad(s,p):d==="dangerouslySetInnerHTML"?id(s,p):d==="children"?us(s,p):ol(s,d,p,c)}switch(a){case"input":ea(s,i);break;case"textarea":nd(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?fn(s,!!i.multiple,f,!1):y!==!!i.multiple&&(i.defaultValue!=null?fn(s,!!i.multiple,i.defaultValue,!0):fn(s,!!i.multiple,i.multiple?[]:"",!1))}s[vs]=i}catch(m){Ie(e,e.return,m)}}break;case 6:if(bt(t,e),Ot(e),n&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Ie(e,e.return,m)}}break;case 3:if(bt(t,e),Ot(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fs(t.containerInfo)}catch(m){Ie(e,e.return,m)}break;case 4:bt(t,e),Ot(e);break;case 13:bt(t,e),Ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bl=Pe())),n&4&&rc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(He=(c=He)||d,bt(t,e),He=c):bt(t,e),Ot(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(p=te=d;te!==null;){switch(y=te,f=y.child,y.tag){case 0:case 11:case 14:case 15:ts(4,y,y.return);break;case 1:dn(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){Ie(n,r,m)}}break;case 5:dn(y,y.return);break;case 22:if(y.memoizedState!==null){sc(p);continue}}f!==null?(f.return=y,te=f):sc(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=od("display",o))}catch(m){Ie(e,e.return,m)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(m){Ie(e,e.return,m)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:bt(t,e),Ot(e),n&4&&rc(e);break;case 21:break;default:bt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Th(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(us(s,""),n.flags&=-33);var i=tc(e);La(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=tc(e);Ra(e,a,o);break;default:throw Error(Q(161))}}catch(u){Ie(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G0(e,t,r){te=e,Lh(e)}function Lh(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Zs;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||He;a=Zs;var c=He;if(Zs=o,(He=u)&&!c)for(te=s;te!==null;)o=te,u=o.child,o.tag===22&&o.memoizedState!==null?ic(s):u!==null?(u.return=o,te=u):ic(s);for(;i!==null;)te=i,Lh(i),i=i.sibling;te=s,Zs=a,He=c}nc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):nc(e)}}function nc(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||Xi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!He)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:kt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fu(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&fs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}He||t.flags&512&&Aa(t)}catch(y){Ie(t,t.return,y)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function sc(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function ic(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xi(4,t)}catch(u){Ie(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){Ie(t,s,u)}}var i=t.return;try{Aa(t)}catch(u){Ie(t,i,u)}break;case 5:var o=t.return;try{Aa(t)}catch(u){Ie(t,o,u)}}}catch(u){Ie(t,t.return,u)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var V0=Math.ceil,Li=Jt.ReactCurrentDispatcher,Ul=Jt.ReactCurrentOwner,vt=Jt.ReactCurrentBatchConfig,ge=0,$e=null,Oe=null,De=0,lt=0,hn=br(0),Re=0,js=null,$r=0,eo=0,$l=0,rs=null,tt=null,Bl=0,Sn=1/0,Dt=null,zi=!1,za=null,fr=null,Js=!1,ar=null,Ui=0,ns=0,Ua=null,fi=-1,pi=0;function Je(){return ge&6?Pe():fi!==-1?fi:fi=Pe()}function pr(e){return e.mode&1?ge&2&&De!==0?De&-De:P0.transition!==null?(pi===0&&(pi=wd()),pi):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Nd(e.type)),e):1}function Ct(e,t,r,n){if(50<ns)throw ns=0,Ua=null,Error(Q(185));Es(e,r,n),(!(ge&2)||e!==$e)&&(e===$e&&(!(ge&2)&&(eo|=r),Re===4&&sr(e,De)),ot(e,n),r===1&&ge===0&&!(t.mode&1)&&(Sn=Pe()+500,Ji&&_r()))}function ot(e,t){var r=e.callbackNode;Pp(e,t);var n=xi(e,e===$e?De:0);if(n===0)r!==null&&pu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pu(r),t===1)e.tag===0?I0(oc.bind(null,e)):Hd(oc.bind(null,e)),S0(function(){!(ge&6)&&_r()}),r=null;else{switch(xd(n)){case 1:r=dl;break;case 4:r=yd;break;case 16:r=wi;break;case 536870912:r=vd;break;default:r=wi}r=Wh(r,zh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zh(e,t){if(fi=-1,pi=0,ge&6)throw Error(Q(327));var r=e.callbackNode;if(vn()&&e.callbackNode!==r)return null;var n=xi(e,e===$e?De:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$i(e,n);else{t=n;var s=ge;ge|=2;var i=$h();($e!==e||De!==t)&&(Dt=null,Sn=Pe()+500,Ar(e,t));do try{J0();break}catch(a){Uh(e,a)}while(!0);jl(),Li.current=i,ge=s,Oe!==null?t=0:($e=null,De=0,t=Re)}if(t!==0){if(t===2&&(s=ca(e),s!==0&&(n=s,t=$a(e,s))),t===1)throw r=js,Ar(e,0),sr(e,n),ot(e,Pe()),r;if(t===6)sr(e,n);else{if(s=e.current.alternate,!(n&30)&&!q0(s)&&(t=$i(e,n),t===2&&(i=ca(e),i!==0&&(n=i,t=$a(e,i))),t===1))throw r=js,Ar(e,0),sr(e,n),ot(e,Pe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:Er(e,tt,Dt);break;case 3:if(sr(e,n),(n&130023424)===n&&(t=Bl+500-Pe(),10<t)){if(xi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=va(Er.bind(null,e,tt,Dt),t);break}Er(e,tt,Dt);break;case 4:if(sr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Et(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V0(n/1960))-n,10<n){e.timeoutHandle=va(Er.bind(null,e,tt,Dt),n);break}Er(e,tt,Dt);break;case 5:Er(e,tt,Dt);break;default:throw Error(Q(329))}}}return ot(e,Pe()),e.callbackNode===r?zh.bind(null,e):null}function $a(e,t){var r=rs;return e.current.memoizedState.isDehydrated&&(Ar(e,t).flags|=256),e=$i(e,t),e!==2&&(t=tt,tt=r,t!==null&&Ba(t)),e}function Ba(e){tt===null?tt=e:tt.push.apply(tt,e)}function q0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!It(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sr(e,t){for(t&=~$l,t&=~eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Et(t),n=1<<r;e[r]=-1,t&=~n}}function oc(e){if(ge&6)throw Error(Q(327));vn();var t=xi(e,0);if(!(t&1))return ot(e,Pe()),null;var r=$i(e,t);if(e.tag!==0&&r===2){var n=ca(e);n!==0&&(t=n,r=$a(e,n))}if(r===1)throw r=js,Ar(e,0),sr(e,t),ot(e,Pe()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Er(e,tt,Dt),ot(e,Pe()),null}function Dl(e,t){var r=ge;ge|=1;try{return e(t)}finally{ge=r,ge===0&&(Sn=Pe()+500,Ji&&_r())}}function Br(e){ar!==null&&ar.tag===0&&!(ge&6)&&vn();var t=ge;ge|=1;var r=vt.transition,n=ve;try{if(vt.transition=null,ve=1,e)return e()}finally{ve=n,vt.transition=r,ge=t,!(ge&6)&&_r()}}function Fl(){lt=hn.current,ke(hn)}function Ar(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,j0(r)),Oe!==null)for(r=Oe.return;r!==null;){var n=r;switch(bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Si();break;case 3:kn(),ke(st),ke(Ve),Pl();break;case 5:Il(n);break;case 4:kn();break;case 13:ke(Ne);break;case 19:ke(Ne);break;case 10:Sl(n.type._context);break;case 22:case 23:Fl()}r=r.return}if($e=e,Oe=e=mr(e.current,null),De=lt=t,Re=0,js=null,$l=eo=$r=0,tt=rs=null,Or!==null){for(t=0;t<Or.length;t++)if(r=Or[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Or=null}return e}function Uh(e,t){do{var r=Oe;try{if(jl(),ci.current=Ri,Ai){for(var n=Ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ai=!1}if(Ur=0,ze=Te=Ee=null,es=!1,bs=0,Ul.current=null,r===null||r.return===null){Re=1,js=t,Oe=null;break}e:{var i=e,o=r.return,a=r,u=t;if(t=De,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Vu(o);if(f!==null){f.flags&=-257,qu(f,o,a,i,t),f.mode&1&&Gu(i,c,t),t=f,u=c;var x=t.updateQueue;if(x===null){var m=new Set;m.add(u),t.updateQueue=m}else x.add(u);break e}else{if(!(t&1)){Gu(i,c,t),Ml();break e}u=Error(Q(426))}}else if(je&&a.mode&1){var b=Vu(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),qu(b,o,a,i,t),_l(jn(u,a));break e}}i=u=jn(u,a),Re!==4&&(Re=2),rs===null?rs=[i]:rs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=xh(i,u,t);Du(i,h);break e;case 1:a=u;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fr===null||!fr.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=bh(i,a,t);Du(i,k);break e}}i=i.return}while(i!==null)}Dh(r)}catch(j){t=j,Oe===r&&r!==null&&(Oe=r=r.return);continue}break}while(!0)}function $h(){var e=Li.current;return Li.current=Ri,e===null?Ri:e}function Ml(){(Re===0||Re===3||Re===2)&&(Re=4),$e===null||!($r&268435455)&&!(eo&268435455)||sr($e,De)}function $i(e,t){var r=ge;ge|=2;var n=$h();($e!==e||De!==t)&&(Dt=null,Ar(e,t));do try{Z0();break}catch(s){Uh(e,s)}while(!0);if(jl(),ge=r,Li.current=n,Oe!==null)throw Error(Q(261));return $e=null,De=0,Re}function Z0(){for(;Oe!==null;)Bh(Oe)}function J0(){for(;Oe!==null&&!bp();)Bh(Oe)}function Bh(e){var t=Mh(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Dh(e):Oe=t,Ul.current=null}function Dh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=W0(r,t),r!==null){r.flags&=32767,Oe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Oe=null;return}}else if(r=M0(r,t,lt),r!==null){Oe=r;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Re===0&&(Re=5)}function Er(e,t,r){var n=ve,s=vt.transition;try{vt.transition=null,ve=1,Q0(e,t,r,n)}finally{vt.transition=s,ve=n}return null}function Q0(e,t,r,n){do vn();while(ar!==null);if(ge&6)throw Error(Q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Op(e,i),e===$e&&(Oe=$e=null,De=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Js||(Js=!0,Wh(wi,function(){return vn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vt.transition,vt.transition=null;var o=ve;ve=1;var a=ge;ge|=4,Ul.current=null,H0(e,r),Rh(r,e),y0(ga),bi=!!ma,ga=ma=null,e.current=r,G0(r),_p(),ge=a,ve=o,vt.transition=i}else e.current=r;if(Js&&(Js=!1,ar=e,Ui=s),i=e.pendingLanes,i===0&&(fr=null),Sp(r.stateNode),ot(e,Pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zi)throw zi=!1,e=za,za=null,e;return Ui&1&&e.tag!==0&&vn(),i=e.pendingLanes,i&1?e===Ua?ns++:(ns=0,Ua=e):ns=0,_r(),null}function vn(){if(ar!==null){var e=xd(Ui),t=vt.transition,r=ve;try{if(vt.transition=null,ve=16>e?16:e,ar===null)var n=!1;else{if(e=ar,ar=null,Ui=0,ge&6)throw Error(Q(331));var s=ge;for(ge|=4,te=e.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:ts(8,d,i)}var p=d.child;if(p!==null)p.return=d,te=p;else for(;te!==null;){d=te;var y=d.sibling,f=d.return;if(Oh(d),d===c){te=null;break}if(y!==null){y.return=f,te=y;break}te=f}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ts(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,te=h;break e}te=i.return}}var g=e.current;for(te=g;te!==null;){o=te;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,te=w;else e:for(o=g;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xi(9,a)}}catch(j){Ie(a,a.return,j)}if(a===o){te=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,te=k;break e}te=a.return}}if(ge=s,_r(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Hi,e)}catch{}n=!0}return n}finally{ve=r,vt.transition=t}}return!1}function ac(e,t,r){t=jn(r,t),t=xh(e,t,1),e=hr(e,t,1),t=Je(),e!==null&&(Es(e,1,t),ot(e,t))}function Ie(e,t,r){if(e.tag===3)ac(e,e,r);else for(;t!==null;){if(t.tag===3){ac(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fr===null||!fr.has(n))){e=jn(r,e),e=bh(t,e,1),t=hr(t,e,1),e=Je(),t!==null&&(Es(t,1,e),ot(t,e));break}}t=t.return}}function Y0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(De&r)===r&&(Re===4||Re===3&&(De&130023424)===De&&500>Pe()-Bl?Ar(e,0):$l|=r),ot(e,t)}function Fh(e,t){t===0&&(e.mode&1?(t=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):t=1);var r=Je();e=qt(e,t),e!==null&&(Es(e,t,r),ot(e,r))}function X0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fh(e,r)}function em(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),Fh(e,r)}var Mh;Mh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nt=!1,F0(e,t,r);nt=!!(e.flags&131072)}else nt=!1,je&&t.flags&1048576&&Gd(t,Ci,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hi(e,t),e=t.pendingProps;var s=xn(t,Ve.current);yn(t,r),s=Tl(null,t,n,e,s,r);var i=Al();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)?(i=!0,Ni(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,El(t),s.updater=Yi,t.stateNode=s,s._reactInternals=t,Sa(t,n,e,r),t=Ca(null,t,n,!0,i,r)):(t.tag=0,je&&i&&xl(t),qe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=rm(n),e=kt(n,e),s){case 0:t=Ea(null,t,n,e,r);break e;case 1:t=Qu(null,t,n,e,r);break e;case 11:t=Zu(null,t,n,e,r);break e;case 14:t=Ju(null,t,n,kt(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Ea(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Qu(e,t,n,s,r);case 3:e:{if(Sh(t),e===null)throw Error(Q(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Yd(e,t),Oi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=jn(Error(Q(423)),t),t=Yu(e,t,n,r,s);break e}else if(n!==s){s=jn(Error(Q(424)),t),t=Yu(e,t,n,r,s);break e}else for(ut=dr(t.stateNode.containerInfo.firstChild),ct=t,je=!0,Nt=null,r=Jd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bn(),n===s){t=Zt(e,t,r);break e}qe(e,t,n,r)}t=t.child}return t;case 5:return Xd(t),e===null&&_a(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ya(n,s)?o=null:i!==null&&ya(n,i)&&(t.flags|=32),jh(e,t),qe(e,t,o,r),t.child;case 6:return e===null&&_a(t),null;case 13:return Nh(e,t,r);case 4:return Cl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_n(t,null,n,r):qe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Zu(e,t,n,s,r);case 7:return qe(e,t,t.pendingProps,r),t.child;case 8:return qe(e,t,t.pendingProps.children,r),t.child;case 12:return qe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,be(Ii,n._currentValue),n._currentValue=o,i!==null)if(It(i.value,o)){if(i.children===s.children&&!st.current){t=Zt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Ht(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),ka(i.return,r,t),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ka(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,yn(t,r),s=wt(s),n=n(s),t.flags|=1,qe(e,t,n,r),t.child;case 14:return n=t.type,s=kt(n,t.pendingProps),s=kt(n.type,s),Ju(e,t,n,s,r);case 15:return _h(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),hi(e,t),t.tag=1,it(n)?(e=!0,Ni(t)):e=!1,yn(t,r),wh(t,n,s),Sa(t,n,s,r),Ca(null,t,n,!0,e,r);case 19:return Eh(e,t,r);case 22:return kh(e,t,r)}throw Error(Q(156,t.tag))};function Wh(e,t){return gd(e,t)}function tm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,r,n){return new tm(e,t,r,n)}function Wl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rm(e){if(typeof e=="function")return Wl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ll)return 11;if(e===ul)return 14}return 2}function mr(e,t){var r=e.alternate;return r===null?(r=yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mi(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Wl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case tn:return Rr(r.children,s,i,t);case al:o=8,s|=8;break;case Zo:return e=yt(12,r,t,s|2),e.elementType=Zo,e.lanes=i,e;case Jo:return e=yt(13,r,t,s),e.elementType=Jo,e.lanes=i,e;case Qo:return e=yt(19,r,t,s),e.elementType=Qo,e.lanes=i,e;case Xc:return to(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qc:o=10;break e;case Yc:o=9;break e;case ll:o=11;break e;case ul:o=14;break e;case er:o=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=yt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Rr(e,t,r,n){return e=yt(7,e,n,t),e.lanes=r,e}function to(e,t,r,n){return e=yt(22,e,n,t),e.elementType=Xc,e.lanes=r,e.stateNode={isHidden:!1},e}function Bo(e,t,r){return e=yt(6,e,null,t),e.lanes=r,e}function Do(e,t,r){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nm(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xo(0),this.expirationTimes=xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kl(e,t,r,n,s,i,o,a,u){return e=new nm(e,t,r,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=yt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(i),e}function sm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:en,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Kh(e){if(!e)return vr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(it(r))return Kd(e,r,t)}return t}function Hh(e,t,r,n,s,i,o,a,u){return e=Kl(r,n,!0,e,s,i,o,a,u),e.context=Kh(null),r=e.current,n=Je(),s=pr(r),i=Ht(n,s),i.callback=t??null,hr(r,i,s),e.current.lanes=s,Es(e,s,n),ot(e,n),e}function ro(e,t,r,n){var s=t.current,i=Je(),o=pr(s);return r=Kh(r),t.context===null?t.context=r:t.pendingContext=r,t=Ht(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=hr(s,t,o),e!==null&&(Ct(e,s,o,i),ui(e,s,o)),o}function Bi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hl(e,t){lc(e,t),(e=e.alternate)&&lc(e,t)}function im(){return null}var Gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gl(e){this._internalRoot=e}no.prototype.render=Gl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));ro(e,t,null,null)};no.prototype.unmount=Gl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Br(function(){ro(null,e,null,null)}),t[Vt]=null}};function no(e){this._internalRoot=e}no.prototype.unstable_scheduleHydration=function(e){if(e){var t=kd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<nr.length&&t!==0&&t<nr[r].priority;r++);nr.splice(r,0,e),r===0&&Sd(e)}};function Vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function so(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uc(){}function om(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Bi(o);i.call(c)}}var o=Hh(t,n,e,0,null,!1,!1,"",uc);return e._reactRootContainer=o,e[Vt]=o.current,gs(e.nodeType===8?e.parentNode:e),Br(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Bi(u);a.call(c)}}var u=Kl(e,0,!1,null,null,!1,!1,"",uc);return e._reactRootContainer=u,e[Vt]=u.current,gs(e.nodeType===8?e.parentNode:e),Br(function(){ro(t,u,r,n)}),u}function io(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Bi(o);a.call(u)}}ro(t,o,e,s)}else o=om(r,t,e,s,n);return Bi(o)}bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gn(t.pendingLanes);r!==0&&(hl(t,r|1),ot(t,Pe()),!(ge&6)&&(Sn=Pe()+500,_r()))}break;case 13:Br(function(){var n=qt(e,1);if(n!==null){var s=Je();Ct(n,e,1,s)}}),Hl(e,1)}};fl=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var r=Je();Ct(t,e,134217728,r)}Hl(e,134217728)}};_d=function(e){if(e.tag===13){var t=pr(e),r=qt(e,t);if(r!==null){var n=Je();Ct(r,e,t,n)}Hl(e,t)}};kd=function(){return ve};jd=function(e,t){var r=ve;try{return ve=e,t()}finally{ve=r}};aa=function(e,t,r){switch(t){case"input":if(ea(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Zi(n);if(!s)throw Error(Q(90));td(n),ea(n,s)}}}break;case"textarea":nd(e,r);break;case"select":t=r.value,t!=null&&fn(e,!!r.multiple,t,!1)}};cd=Dl;dd=Br;var am={usingClientEntryPoint:!1,Events:[Is,on,Zi,ld,ud,Dl]},Fn={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lm={bundleType:Fn.bundleType,version:Fn.version,rendererPackageName:Fn.rendererPackageName,rendererConfig:Fn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pd(e),e===null?null:e.stateNode},findFiberByHostInstance:Fn.findFiberByHostInstance||im,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Hi=Qs.inject(lm),zt=Qs}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=am;ht.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vl(t))throw Error(Q(200));return sm(e,t,null,r)};ht.createRoot=function(e,t){if(!Vl(e))throw Error(Q(299));var r=!1,n="",s=Gh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Kl(e,1,!1,null,null,r,!1,n,s),e[Vt]=t.current,gs(e.nodeType===8?e.parentNode:e),new Gl(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=pd(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return Br(e)};ht.hydrate=function(e,t,r){if(!so(t))throw Error(Q(200));return io(null,e,t,!0,r)};ht.hydrateRoot=function(e,t,r){if(!Vl(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Gh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Hh(t,null,e,1,r??null,s,!1,i,o),e[Vt]=t.current,gs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new no(t)};ht.render=function(e,t,r){if(!so(t))throw Error(Q(200));return io(null,e,t,!1,r)};ht.unmountComponentAtNode=function(e){if(!so(e))throw Error(Q(40));return e._reactRootContainer?(Br(function(){io(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};ht.unstable_batchedUpdates=Dl;ht.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!so(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return io(e,t,r,!1,n)};ht.version="18.3.1-next-f1338f8080-20240426";function Vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vh)}catch(e){console.error(e)}}Vh(),Vc.exports=ht;var um=Vc.exports,qh,cc=um;qh=cc.createRoot,cc.hydrateRoot;const cm="modulepreload",dm=function(e){return"/"+e},dc={},Ze=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=dm(u),u in dc)return;dc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":cm,c||(p.as="script"),p.crossOrigin="",p.href=u,a&&p.setAttribute("nonce",a),document.head.appendChild(p),c)return new Promise((y,f)=>{p.addEventListener("load",y),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,t)=>{const r=Y.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>Y.createElement("svg",{ref:d,...hm,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${fm(e)}`,a].join(" "),...c},[...t.map(([p,y])=>Y.createElement(p,y)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=ue("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ue("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ue("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=ue("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ue("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ue("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=ue("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ue("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Im=({selectedType:e,onTypeSelect:t,disabled:r=!1})=>l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Image Type"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Select the type of image you want to generate and let AI create stunning visuals for your content"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:`group relative overflow-hidden rounded-3xl p-8 cursor-pointer transition-all duration-500 transform hover:scale-[1.02] ${e==="blog"?"bg-gradient-to-br from-blue-50 to-indigo-100 border-2 border-blue-300 shadow-xl":"bg-white border-2 border-gray-200 hover:border-blue-200 hover:shadow-lg"} ${r?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!r&&t("blog"),children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 to-indigo-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 mb-6 mx-auto shadow-lg",children:l.jsx(Qh,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 text-center",children:"Blog Featured Image"}),l.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:"Create eye-catching featured images for your blog posts with custom titles and engaging visuals"}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Ue,{className:"w-4 h-4 mr-3 text-blue-500"}),"Blog title and content"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Ue,{className:"w-4 h-4 mr-3 text-blue-500"}),"Professional layouts"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Ue,{className:"w-4 h-4 mr-3 text-blue-500"}),"Social media ready"]})]}),l.jsxs("div",{className:`flex items-center justify-center text-blue-600 font-medium transition-transform duration-300 ${r?"":"group-hover:translate-x-1"}`,children:["Get Started ",l.jsx(Di,{className:"w-4 h-4 ml-2"})]})]})]}),l.jsxs("div",{className:`group relative overflow-hidden rounded-3xl p-8 cursor-pointer transition-all duration-500 transform hover:scale-[1.02] ${e==="infographic"?"bg-gradient-to-br from-purple-50 to-pink-100 border-2 border-purple-300 shadow-xl":"bg-white border-2 border-gray-200 hover:border-purple-200 hover:shadow-lg"} ${r?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!r&&t("infographic"),children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/5 to-pink-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 mb-6 mx-auto shadow-lg",children:l.jsx(Fr,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 text-center",children:"Infographic Image"}),l.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:"Transform your data and content into visually appealing infographics that tell your story"}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Ue,{className:"w-4 h-4 mr-3 text-purple-500"}),"Data visualization"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Ue,{className:"w-4 h-4 mr-3 text-purple-500"}),"Custom graphics"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Ue,{className:"w-4 h-4 mr-3 text-purple-500"}),"Engaging layouts"]})]}),l.jsxs("div",{className:`flex items-center justify-center text-purple-600 font-medium transition-transform duration-300 ${r?"":"group-hover:translate-x-1"}`,children:["Get Started ",l.jsx(Di,{className:"w-4 h-4 ml-2"})]})]})]})]})]}),Pm=e=>e?e.replace(/"/g,"'").replace(/\\/g,"").replace(/\n/g," ").replace(/\r/g," ").replace(/\t/g," ").replace(/\s+/g," ").trim():"",Nn=e=>{if(typeof e=="string")return Pm(e);if(Array.isArray(e))return e.map(Nn);if(e&&typeof e=="object"){const t={};for(const[r,n]of Object.entries(e))t[r]=Nn(n);return t}return e},Om=[{value:"",label:"Default"},{value:"very simple",label:"Very Simple"},{value:"minimalist",label:"Minimalist"},{value:"modern",label:"Modern"},{value:"professional",label:"Professional"},{value:"creative",label:"Creative"},{value:"elegant",label:"Elegant"},{value:"bold",label:"Bold"},{value:"vintage",label:"Vintage"},{value:"custom",label:"Custom (specify below)"}],Tm=[{value:"",label:"Default"},{value:"red",label:"Red"},{value:"blue",label:"Blue"},{value:"green",label:"Green"},{value:"purple",label:"Purple"},{value:"orange",label:"Orange"},{value:"yellow",label:"Yellow"},{value:"pink",label:"Pink"},{value:"teal",label:"Teal"},{value:"black",label:"Black"},{value:"white",label:"White"},{value:"gray",label:"Gray"},{value:"multicolor",label:"Multicolor"},{value:"custom",label:"Custom (specify below)"}],Am=({onSubmit:e,isLoading:t,disabled:r=!1,onOpenBulkModal:n})=>{const[s,i]=Y.useState(""),[o,a]=Y.useState(""),[u,c]=Y.useState(""),[d,p]=Y.useState(""),[y,f]=Y.useState(""),[x,m]=Y.useState(""),b=h=>{if(h.preventDefault(),s.trim()&&o.trim()){const g=u==="custom"?d.trim():u,w=y==="custom"?x.trim():y,k=Nn({title:s.trim(),intro:o.trim(),...g&&{style:g},...w&&{colour:w}});e(k)}};return l.jsxs("form",{onSubmit:b,className:"space-y-6 h-full flex flex-col",children:[l.jsxs("div",{className:"space-y-6 flex-1",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Blog Title *"}),l.jsx("input",{type:"text",id:"title",value:s,onChange:h=>i(h.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your blog title...",required:!0})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("label",{htmlFor:"intro",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Blog Content / Keywords *"}),l.jsx("textarea",{id:"intro",value:o,onChange:h=>a(h.target.value),disabled:r,className:"w-full flex-1 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 resize-none min-h-[200px] disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your blog content, summary, or keywords that should influence the visual design...",required:!0}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Provide blog content, theme, keywords, or any details that should influence the featured image design."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"style",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Style ",l.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{id:"style",value:u,onChange:h=>c(h.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:Om.map(h=>l.jsx("option",{value:h.value,children:h.label},h.value))}),l.jsx(Fi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),u==="custom"&&l.jsx("input",{type:"text",value:d,onChange:h=>p(h.target.value),disabled:r,className:"w-full mt-2 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Specify custom style..."})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"colour",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Colour ",l.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{id:"colour",value:y,onChange:h=>f(h.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:Tm.map(h=>l.jsx("option",{value:h.value,children:h.label},h.value))}),l.jsx(Fi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),y==="custom"&&l.jsx("input",{type:"text",value:x,onChange:h=>m(h.target.value),disabled:r,className:"w-full mt-2 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Specify custom colour..."})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{type:"submit",disabled:!s.trim()||!o.trim()||t||r,className:"w-full py-4 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100 shadow-lg",children:t?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Generating Image..."]}):l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(ql,{className:"w-5 h-5 mr-2"}),"Generate Featured Image"]})}),n&&l.jsx("button",{type:"button",onClick:n,disabled:t||r,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Mr,{className:"w-5 h-5 mr-2"}),"Bulk Process Multiple Blogs"]})})]})]})},Rm=[{value:"",label:"Default"},{value:"very simple",label:"Very Simple"},{value:"minimalist",label:"Minimalist"},{value:"modern",label:"Modern"},{value:"professional",label:"Professional"},{value:"creative",label:"Creative"},{value:"elegant",label:"Elegant"},{value:"bold",label:"Bold"},{value:"vintage",label:"Vintage"},{value:"custom",label:"Custom (specify below)"}],Lm=[{value:"",label:"Default"},{value:"red",label:"Red"},{value:"blue",label:"Blue"},{value:"green",label:"Green"},{value:"purple",label:"Purple"},{value:"orange",label:"Orange"},{value:"yellow",label:"Yellow"},{value:"pink",label:"Pink"},{value:"teal",label:"Teal"},{value:"black",label:"Black"},{value:"white",label:"White"},{value:"gray",label:"Gray"},{value:"multicolor",label:"Multicolor"},{value:"custom",label:"Custom (specify below)"}],zm=({onSubmit:e,isLoading:t,disabled:r=!1,onOpenBulkModal:n})=>{const[s,i]=Y.useState(""),[o,a]=Y.useState(""),[u,c]=Y.useState(""),[d,p]=Y.useState(""),[y,f]=Y.useState(""),x=m=>{if(m.preventDefault(),s.trim()){const b=o==="custom"?u.trim():o,h=d==="custom"?y.trim():d,g=Nn({content:s.trim(),...b&&{style:b},...h&&{colour:h}});e(g)}};return l.jsxs("form",{onSubmit:x,className:"space-y-6 h-full flex flex-col",children:[l.jsxs("div",{className:"flex-1 flex flex-col space-y-6",children:[l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("label",{htmlFor:"content",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Content to Visualize *"}),l.jsx("textarea",{id:"content",value:s,onChange:m=>i(m.target.value),disabled:r,className:"w-full flex-1 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 resize-none min-h-[250px] disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter the content, data points, statistics, or blog section you want to visualize as an infographic...",required:!0}),l.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Include data points, statistics, key points, processes, or any content you want to transform into a visual infographic."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"style",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Style ",l.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{id:"style",value:o,onChange:m=>a(m.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:Rm.map(m=>l.jsx("option",{value:m.value,children:m.label},m.value))}),l.jsx(Fi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),o==="custom"&&l.jsx("input",{type:"text",value:u,onChange:m=>c(m.target.value),disabled:r,className:"w-full mt-2 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Specify custom style..."})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"colour",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Colour ",l.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{id:"colour",value:d,onChange:m=>p(m.target.value),disabled:r,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:Lm.map(m=>l.jsx("option",{value:m.value,children:m.label},m.value))}),l.jsx(Fi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),d==="custom"&&l.jsx("input",{type:"text",value:y,onChange:m=>f(m.target.value),disabled:r,className:"w-full mt-2 px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Specify custom colour..."})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{type:"submit",disabled:!s.trim()||t||r,className:"w-full py-4 px-6 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100 shadow-lg",children:t?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Generating Infographic..."]}):l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(ql,{className:"w-5 h-5 mr-2"}),"Generate Infographic"]})}),n&&l.jsx("button",{type:"button",onClick:n,disabled:t||r,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Mr,{className:"w-5 h-5 mr-2"}),"Bulk Process Multiple Infographics"]})})]})]})},Um=({imageBase64:e,imageType:t,onClose:r})=>{const[n,s]=Y.useState("png"),[i,o]=Y.useState(!1),a=[{value:"png",label:"PNG",description:"Best quality, larger file size"},{value:"jpeg",label:"JPEG",description:"Good quality, smaller file size"},{value:"webp",label:"WebP",description:"Modern format, excellent compression"}],u=async c=>{o(!0);try{const d=atob(e),p=new Array(d.length);for(let b=0;b<d.length;b++)p[b]=d.charCodeAt(b);const y=new Uint8Array(p),f=document.createElement("canvas"),x=f.getContext("2d"),m=new Image;m.onload=()=>{f.width=m.width,f.height=m.height,x==null||x.drawImage(m,0,0);const b=`image/${c}`,h=c==="jpeg"?.9:void 0;f.toBlob(g=>{if(g){const w=URL.createObjectURL(g),k=document.createElement("a");k.href=w,k.download=`seo-engine-${t}-${Date.now()}.${c}`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(w)}o(!1)},b,h)},m.src=`data:image/png;base64,${e}`}catch(d){console.error("Download error:",d),o(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"aspect-video bg-gray-100 rounded-xl overflow-hidden shadow-inner",children:l.jsx("img",{src:`data:image/png;base64,${e}`,alt:`Generated ${t} image`,className:"w-full h-full object-cover"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Download Format"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:a.map(c=>l.jsxs("button",{onClick:()=>s(c.value),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left ${n===c.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-semibold text-gray-900",children:c.label}),n===c.value&&l.jsx(Jh,{className:"w-5 h-5 text-blue-500"})]}),l.jsx("p",{className:"text-sm text-gray-600",children:c.description})]},c.value))})]}),l.jsx("button",{onClick:()=>u(n),disabled:i,className:"w-full py-4 px-6 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100 shadow-lg",children:i?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Preparing Download..."]}):l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(gr,{className:"w-5 h-5 mr-2"}),"Download as ",n.toUpperCase()]})})]})},jr=[{text:"Understanding your creative vision...",icon:xm,color:"text-yellow-500",bgColor:"bg-yellow-50"},{text:"Ideating stunning concepts...",icon:Ue,color:"text-purple-500",bgColor:"bg-purple-50"},{text:"Dipping the digital brush...",icon:mm,color:"text-blue-500",bgColor:"bg-blue-50"},{text:"Opening the creative canvas...",icon:Xh,color:"text-green-500",bgColor:"bg-green-50"},{text:"Painting your masterpiece...",icon:Fr,color:"text-pink-500",bgColor:"bg-pink-50"},{text:"Adding final touches...",icon:Ha,color:"text-orange-500",bgColor:"bg-orange-50"}],$m=({isLoading:e,generatedImage:t,formData:r,imageType:n,onGenerateNew:s,isBulkProcessing:i=!1,bulkProgress:o,onOpenBulkModal:a})=>{const[u,c]=Y.useState(0),[d,p]=Y.useState(!1),[y,f]=Y.useState(1);Y.useEffect(()=>{if(!e&&!i)return;const w=setInterval(()=>{c(k=>(k+1)%jr.length)},1e4);return()=>clearInterval(w)},[e,i]),Y.useEffect(()=>{(e||i)&&c(0)},[e,i]);const x=()=>{f(w=>Math.min(w+.25,3))},m=()=>{f(w=>Math.max(w-.25,.25))},b=()=>{f(1)},h=()=>{const w=jr[u],k=w.icon,j=o?o.completed/o.total*100:0,P=o&&o.completed===o.total&&o.total>0;return l.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:P?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"relative mb-8 p-6 rounded-2xl bg-green-50 border border-green-200",children:l.jsx("div",{className:"relative",children:l.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center",children:l.jsx(Mr,{className:"w-10 h-10 text-green-600"})})})}),l.jsxs("div",{className:"space-y-4 max-w-md",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Bulk Processing Complete!"}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Final Results"}),l.jsxs("span",{className:"text-sm text-green-600",children:[o.completed,"/",o.total," completed"]})]}),l.jsx("div",{className:"w-full bg-green-200 rounded-full h-3",children:l.jsx("div",{className:"bg-green-600 h-3 rounded-full w-full"})}),l.jsx("p",{className:"text-xs text-green-600 mt-2",children:"100% complete"})]}),l.jsxs("div",{className:"space-y-3",children:[a&&l.jsx("button",{onClick:a,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all duration-300 transform hover:scale-[1.02] shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Dr,{className:"w-5 h-5 mr-2"}),"View & Download Results"]})}),l.jsx("button",{onClick:s,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-300 transform hover:scale-[1.02] shadow-lg",children:"Generate New Images"})]}),l.jsx("div",{className:"flex items-center justify-center text-sm text-gray-500 space-x-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ue,{className:"w-4 h-4 mr-2"}),"All images saved to history"]})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`relative mb-8 p-6 rounded-2xl ${w.bgColor} border border-opacity-20 transition-all duration-1000`,children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-20 h-20 rounded-full ${w.color.replace("text-","bg-")} opacity-20 animate-pulse absolute inset-0`}),l.jsx("div",{className:"relative w-20 h-20 rounded-full bg-white shadow-lg flex items-center justify-center",children:l.jsx(Mr,{className:`w-10 h-10 ${w.color} animate-pulse`})}),l.jsx("div",{className:"absolute inset-0 w-20 h-20 rounded-full border-4 border-transparent border-t-current animate-spin opacity-30",style:{color:w.color.replace("text-","")}})]})}),l.jsxs("div",{className:"space-y-4 max-w-md",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Bulk Processing Active"}),o&&l.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Progress"}),l.jsxs("span",{className:"text-sm text-blue-600",children:[o.completed,"/",o.total," completed"]})]}),l.jsx("div",{className:"w-full bg-blue-200 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 h-3 rounded-full transition-all duration-500",style:{width:`${j}%`}})}),l.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[Math.round(j),"% complete"]})]}),l.jsxs("div",{className:`p-4 rounded-xl ${w.bgColor} border border-opacity-20`,children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx(k,{className:`w-5 h-5 mr-3 ${w.color} animate-pulse`}),l.jsxs("p",{className:`font-semibold ${w.color}`,children:["Step ",u+1," of ",jr.length]})]}),l.jsx("p",{className:"text-gray-700 font-medium animate-pulse",children:w.text})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${w.color.replace("text-","bg-")}`,style:{width:`${(u+1)/jr.length*100}%`}})}),a&&l.jsx("button",{onClick:a,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-300 transform hover:scale-[1.02] shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Dr,{className:"w-5 h-5 mr-2"}),"View Processing Details"]})}),l.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ue,{className:"w-4 h-4 mr-2"}),"SEO Engine AI at work"]}),l.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Processing in background"]})]})]})]})})},g=()=>{var w;if(i)return h();if(e){const k=jr[u],j=k.icon;return l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[l.jsx("div",{className:`relative mb-8 p-6 rounded-2xl ${k.bgColor} border border-opacity-20 transition-all duration-1000`,children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-20 h-20 rounded-full ${k.color.replace("text-","bg-")} opacity-20 animate-pulse absolute inset-0`}),l.jsx("div",{className:"relative w-20 h-20 rounded-full bg-white shadow-lg flex items-center justify-center",children:l.jsx(j,{className:`w-10 h-10 ${k.color} animate-pulse`})}),l.jsx("div",{className:"absolute inset-0 w-20 h-20 rounded-full border-4 border-transparent border-t-current animate-spin opacity-30",style:{color:k.color.replace("text-","")}})]})}),l.jsxs("div",{className:"space-y-4 max-w-md",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Generating Your Image"}),l.jsxs("div",{className:`p-4 rounded-xl ${k.bgColor} border border-opacity-20`,children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx(j,{className:`w-5 h-5 mr-3 ${k.color} animate-pulse`}),l.jsxs("p",{className:`font-semibold ${k.color}`,children:["Step ",u+1," of ",jr.length]})]}),l.jsx("p",{className:"text-gray-700 font-medium animate-pulse",children:k.text})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${k.color.replace("text-","bg-")}`,style:{width:`${(u+1)/jr.length*100}%`}})}),l.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ue,{className:"w-4 h-4 mr-2"}),"SEO Engine AI at work"]}),l.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),l.jsx("div",{children:"Usually takes 30-60 seconds"})]})]})]})}return t?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:["Your ",t.type==="blog"?"Featured":"Infographic"," Image"]}),l.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Choose format and download your image"})]}),l.jsxs("button",{onClick:()=>{p(!0),f(1)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center",children:[l.jsx(mc,{className:"w-4 h-4 mr-2"}),"Full Preview"]})]}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[l.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Generated by SEO Engine AI"]})]}),l.jsxs("div",{className:"flex-1 p-4 sm:p-6 overflow-y-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"aspect-video bg-gray-100 rounded-xl overflow-hidden shadow-inner cursor-pointer",onClick:()=>p(!0),children:l.jsx("img",{src:`data:image/png;base64,${t.base64}`,alt:`Generated ${t.type} image`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),l.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Click to view full size"})]}),l.jsx(Um,{imageBase64:t.base64,imageType:t.type}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{onClick:s,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-300 transform hover:scale-[1.02] shadow-lg",children:"Generate Another Image"})})]})]}):r?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center mb-6",children:l.jsx(Fr,{className:"w-8 h-8 text-gray-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ready to Generate"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Click the generate button to create your image with SEO Engine AI"}),l.jsx("div",{className:"bg-gray-50 rounded-xl p-4 max-w-sm",children:l.jsx("p",{className:"text-sm text-gray-600",children:n==="blog"?`Title: "${r.title}"`:`Content: "${(w=r.content)==null?void 0:w.substring(0,50)}..."`})})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center mb-6",children:l.jsx(Fr,{className:"w-8 h-8 text-gray-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Image Preview"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Fill out the form to see your generated image here"}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Powered by SEO Engine AI"]})]})};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"h-full flex flex-col",children:l.jsx("div",{className:"flex-1",children:g()})}),d&&t&&l.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-7xl max-h-[95vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-white",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.type==="blog"?"Blog Featured Image":"Infographic Image"}),l.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:l.jsxs("span",{children:["Zoom: ",Math.round(y*100),"%"]})})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:m,disabled:y<=.25,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom Out",children:l.jsx(Cm,{className:"w-5 h-5"})}),l.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset Zoom",children:l.jsx(jm,{className:"w-5 h-5"})}),l.jsx("button",{onClick:x,disabled:y>=3,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom In",children:l.jsx(mc,{className:"w-5 h-5"})}),l.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),l.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(wr,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 p-4",children:l.jsx("div",{className:"flex items-center justify-center min-h-full",children:l.jsx("img",{src:`data:image/png;base64,${t.base64}`,alt:`Generated ${t.type} image`,className:"max-w-none rounded-lg shadow-lg transition-transform duration-300 cursor-move",style:{transform:`scale(${y})`,transformOrigin:"center center"},draggable:!1})})}),l.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Use zoom controls to inspect details • Click and drag to pan when zoomed"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>{(()=>{try{const k=atob(t.base64),j=new Array(k.length);for(let M=0;M<k.length;M++)j[M]=k.charCodeAt(M);const P=new Uint8Array(j),O=new Blob([P],{type:"image/png"}),U=URL.createObjectURL(O),$=document.createElement("a");$.href=U,$.download=`seo-engine-${t.type}-${Date.now()}.png`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(U)}catch(k){console.error("Download error:",k)}})()},className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-300",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(gr,{className:"w-4 h-4 mr-2"}),"Download PNG"]})}),l.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-300",children:"Close"})]})]})})]})})]})},Bm=({currentStep:e,steps:t})=>l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("div",{className:"flex items-center space-x-4",children:t.map((r,n)=>l.jsxs(Yf.Fragment,{children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all duration-300 ${n<e?"bg-gradient-to-r from-blue-600 to-indigo-600 border-blue-600 text-white shadow-lg":n===e?"border-blue-600 text-blue-600 bg-blue-50":"border-gray-300 text-gray-400 bg-white"}`,children:n<e?l.jsx(Jh,{className:"w-5 h-5"}):l.jsx("span",{className:"text-sm font-semibold",children:n+1})}),l.jsx("span",{className:`ml-3 text-sm font-medium ${n<=e?"text-gray-900":"text-gray-500"}`,children:r})]}),n<t.length-1&&l.jsx("div",{className:`w-12 h-0.5 transition-all duration-300 ${n<e?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gray-300"}`})]},n))})}),Dm=({currentType:e,onTypeSelect:t,isVisible:r,disabled:n=!1})=>r?l.jsx("div",{className:"bg-white/80 backdrop-blur-xl border-b border-gray-200/50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3",children:l.jsx("div",{className:"flex items-center justify-center space-x-4",children:l.jsxs("div",{className:"flex items-center bg-gray-100 rounded-xl p-1",children:[l.jsxs("button",{onClick:()=>!n&&t("blog"),disabled:n,className:`flex items-center px-4 py-2 rounded-lg font-medium text-sm transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${e==="blog"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[l.jsx(Qh,{className:"w-4 h-4 mr-2"}),"Blog Featured Image",e!=="blog"&&!n&&l.jsx(Di,{className:"w-3 h-3 ml-2 opacity-50"})]}),l.jsxs("button",{onClick:()=>!n&&t("infographic"),disabled:n,className:`flex items-center px-4 py-2 rounded-lg font-medium text-sm transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${e==="infographic"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-purple-600 hover:bg-purple-50"}`,children:[l.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Infographic Image",e!=="infographic"&&!n&&l.jsx(Di,{className:"w-3 h-3 ml-2 opacity-50"})]})]})})})}):null,Fm=({isOpen:e,onClose:t,onSignInWithEmail:r,onSignInAnonymously:n,onOpenSignUp:s})=>{const[i,o]=Y.useState(""),[a,u]=Y.useState(""),[c,d]=Y.useState(!1),[p,y]=Y.useState(!1),[f,x]=Y.useState("");if(!e)return null;const m=async h=>{h.preventDefault(),y(!0),x("");const g=await r(i,a);g.success?(t(),o(""),u("")):x(g.error||"Failed to sign in. Please try again."),y(!1)},b=()=>{t(),s()};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white relative",children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:l.jsx(wr,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 mr-4",children:l.jsx(Ue,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Welcome Back"}),l.jsx("p",{className:"text-blue-100",children:"Sign in to SEO Engine"})]})]})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[f&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:l.jsx("p",{className:"text-red-600 text-sm",children:f})}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),l.jsx("input",{type:"email",id:"email",value:i,onChange:h=>o(h.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:c?"text":"password",id:"password",value:a,onChange:h=>u(h.target.value),className:"w-full px-4 py-3 pr-12 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your password",required:!0}),l.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?l.jsx(Wa,{className:"w-5 h-5"}):l.jsx(Dr,{className:"w-5 h-5"})})]})]}),l.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:p?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing In..."]}):l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(_m,{className:"w-5 h-5 mr-2"}),"Sign In with Email"]})})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-4 bg-white text-gray-500",children:"or"})})]}),l.jsx("button",{onClick:b,disabled:p,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Em,{className:"w-5 h-5 mr-2"}),"Create New Account (100 Free Credits!)"]})}),l.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]})]})})},Mm=({isOpen:e,onClose:t,onSignUp:r})=>{const[n,s]=Y.useState({email:"",name:"",username:"",brand_name:"",website_url:"",password:"",confirmPassword:""}),[i,o]=Y.useState(!1),[a,u]=Y.useState(!1),[c,d]=Y.useState(!1),[p,y]=Y.useState("");if(!e)return null;const f=async m=>{if(m.preventDefault(),d(!0),y(""),n.password!==n.confirmPassword){y("Passwords do not match"),d(!1);return}if(n.password.length<6){y("Password must be at least 6 characters long"),d(!1);return}if(n.username.length<3){y("Username must be at least 3 characters long"),d(!1);return}try{await r({email:n.email,name:n.name,username:n.username,brand_name:n.brand_name||void 0,website_url:n.website_url||void 0,password:n.password})&&(t(),s({email:"",name:"",username:"",brand_name:"",website_url:"",password:"",confirmPassword:""}))}catch(b){y(b.message||"Failed to create account")}d(!1)},x=(m,b)=>{s(h=>({...h,[m]:b})),p&&y("")};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white relative",children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:l.jsx(wr,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 mr-4",children:l.jsx(Ue,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Create Account"}),l.jsx("p",{className:"text-blue-100",children:"Join SEO Engine and get 100 free credits!"})]})]})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[p&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:l.jsx("p",{className:"text-red-600 text-sm",children:p})}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address *"}),l.jsx("input",{type:"email",id:"email",value:n.email,onChange:m=>x("email",m.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Full Name *"}),l.jsxs("div",{className:"relative",children:[l.jsx(ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",id:"name",value:n.name,onChange:m=>x("name",m.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your full name",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Username *"}),l.jsxs("div",{className:"relative",children:[l.jsx(pm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",id:"username",value:n.username,onChange:m=>x("username",m.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"unique_username",required:!0})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only lowercase letters, numbers, and underscores allowed"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"brand_name",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Brand Name ",l.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(gm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",id:"brand_name",value:n.brand_name,onChange:m=>x("brand_name",m.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your brand name"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"website_url",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Website URL ",l.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(vm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"url",id:"website_url",value:n.website_url,onChange:m=>x("website_url",m.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"https://yourwebsite.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx(hc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:i?"text":"password",id:"password",value:n.password,onChange:m=>x("password",m.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your password",required:!0}),l.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?l.jsx(Wa,{className:"w-5 h-5"}):l.jsx(Dr,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Confirm Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx(hc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:a?"text":"password",id:"confirmPassword",value:n.confirmPassword,onChange:m=>x("confirmPassword",m.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Confirm your password",required:!0}),l.jsx("button",{type:"button",onClick:()=>u(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?l.jsx(Wa,{className:"w-5 h-5"}):l.jsx(Dr,{className:"w-5 h-5"})})]})]}),l.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] disabled:hover:scale-100",children:c?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Creating Account..."]}):"Create Account & Get 100 Credits"})]}),l.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]})})},Wm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ze(async()=>{const{default:n}=await Promise.resolve().then(()=>On);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Zl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Km extends Zl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Hm extends Zl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gm extends Zl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ga;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ga||(Ga={}));var Vm=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class qm{constructor(t,{headers:r={},customFetch:n,region:s=Ga.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Wm(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Vm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(a["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new Km(x)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new Hm(d);if(!d.ok)throw new Gm(d);let y=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return y==="application/json"?f=yield d.json():y==="application/octet-stream"?f=yield d.blob():y==="text/event-stream"?f=d:y==="multipart/form-data"?f=yield d.formData():f=yield d.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var rt={},Jl={},oo={},Os={},ao={},lo={},Zm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},En=Zm();const Jm=En.fetch,tf=En.fetch.bind(En),rf=En.Headers,Qm=En.Request,Ym=En.Response,On=Object.freeze(Object.defineProperty({__proto__:null,Headers:rf,Request:Qm,Response:Ym,default:tf,fetch:Jm},Symbol.toStringTag,{value:"Module"})),Xm=zf(On);var uo={};Object.defineProperty(uo,"__esModule",{value:!0});let eg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};uo.default=eg;var nf=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lo,"__esModule",{value:!0});const tg=nf(Xm),rg=nf(uo);let ng=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u;let c=null,d=null,p=null,y=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const h=await i.text();h===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=h:d=JSON.parse(h))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(p=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,y=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(d=[],c=null,y=200,f="OK")}catch{i.status===404&&m===""?(y=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,y=200,f="OK"),c&&this.shouldThrowOnError)throw new rg.default(c)}return{error:c,data:d,count:p,status:y,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};lo.default=ng;var sg=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ao,"__esModule",{value:!0});const ig=sg(lo);let og=class extends ig.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ao.default=og;var ag=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Os,"__esModule",{value:!0});const lg=ag(ao);let ug=class extends lg.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Os.default=ug;var cg=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oo,"__esModule",{value:!0});const Mn=cg(Os);let dg=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Mn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new Mn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Mn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Mn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Mn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};oo.default=dg;var co={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.version=void 0;ho.version="0.0.0-automated";Object.defineProperty(co,"__esModule",{value:!0});co.DEFAULT_HEADERS=void 0;const hg=ho;co.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hg.version}`};var sf=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jl,"__esModule",{value:!0});const fg=sf(oo),pg=sf(Os),mg=co;let gg=class of{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},mg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new fg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new of(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{a.searchParams.append(d,p)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new pg.default({method:o,url:a,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Jl.default=gg;var Tn=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const af=Tn(Jl);rt.PostgrestClient=af.default;const lf=Tn(oo);rt.PostgrestQueryBuilder=lf.default;const uf=Tn(Os);rt.PostgrestFilterBuilder=uf.default;const cf=Tn(ao);rt.PostgrestTransformBuilder=cf.default;const df=Tn(lo);rt.PostgrestBuilder=df.default;const hf=Tn(uo);rt.PostgrestError=hf.default;var yg=rt.default={PostgrestClient:af.default,PostgrestQueryBuilder:lf.default,PostgrestFilterBuilder:uf.default,PostgrestTransformBuilder:cf.default,PostgrestBuilder:df.default,PostgrestError:hf.default};const{PostgrestClient:vg,PostgrestQueryBuilder:kv,PostgrestFilterBuilder:jv,PostgrestTransformBuilder:Sv,PostgrestBuilder:Nv,PostgrestError:Ev}=yg;function wg(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const xg=wg(),bg="2.11.15",_g=`realtime-js/${bg}`,kg="1.0.0",ff=1e4,jg=1e3;var ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ss||(ss={}));var Ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ke||(Ke={}));var St;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(St||(St={}));var Va;(function(e){e.websocket="websocket"})(Va||(Va={}));var Ir;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ir||(Ir={}));class Sg{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class pf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const gc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Ng(o,e,t,s),i),{})},Ng=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?mf(i,o):qa(o)},mf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Pg(t,r)}switch(e){case xe.bool:return Eg(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return Cg(t);case xe.json:case xe.jsonb:return Ig(t);case xe.timestamp:return Og(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return qa(t);default:return qa(t)}},qa=e=>e,Eg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Cg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ig=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Pg=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>mf(t,a))}return e},Og=e=>typeof e=="string"?e.replace(" ","T"):e,gf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Mo{constructor(t,r,n={},s=ff){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yc||(yc={}));class is{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=is.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=is.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=is.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const p=i[c];if(p){const y=d.map(b=>b.presence_ref),f=p.map(b=>b.presence_ref),x=d.filter(b=>f.indexOf(b.presence_ref)<0),m=p.filter(b=>y.indexOf(b.presence_ref)<0);x.length>0&&(a[c]=x),m.length>0&&(u[c]=m)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),d.length>0){const p=t[a].map(f=>f.presence_ref),y=d.filter(f=>p.indexOf(f.presence_ref)<0);t[a].unshift(...y)}n(a,d,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const d=u.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),t[a]=c,s(a,c,u),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vc||(vc={}));var wc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wc||(wc={}));var Ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class Ql{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mo(this,St.join,this.params,this.timeout),this.rejoinTimer=new pf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(St.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new is(this),this.broadcastEndpointURL=gf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Ft.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ft.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){t==null||t(Ft.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,f=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,x=[];for(let m=0;m<f;m++){const b=y[m],{filter:{event:h,schema:g,table:w,filter:k}}=b,j=d&&d[m];if(j&&j.event===h&&j.schema===g&&j.table===w&&j.filter===k)x.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=Ke.errored,t==null||t(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ft.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ke.errored,t==null||t(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ke.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(St.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Mo(this,St.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mo(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=St;if(n&&[a,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var x,m,b;return((x=f.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(m=f.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(y,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var x,m,b,h,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,j=(x=f.filter)===null||x===void 0?void 0:x.event;return k&&((m=r.ids)===null||m===void 0?void 0:m.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(g=(h=f==null?void 0:f.filter)===null||h===void 0?void 0:h.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return k==="*"||k===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:m,table:b,commit_timestamp:h,type:g,errors:w}=x;y=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:h,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(x))}f.callback(y,n)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ql.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(St.close,{},t)}_onError(t){this._on(St.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gc(t.columns,t.old_record)),r}}const xc=()=>{},Tg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ag{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ff,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xc,this.ref=0,this.logger=xc,this.conn=null,this.sendBuffer=[],this.serializer=new Sg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ze(async()=>{const{default:u}=await Promise.resolve().then(()=>On);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Va.websocket}`,this.httpEndpoint=gf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=xg),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kg}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return Ir.Connecting;case ss.open:return Ir.Open;case ss.closing:return Ir.Closing;default:return Ir.Closed}}isConnected(){return this.connectionState()===Ir.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ql(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:_g};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(St.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(jg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(St.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Tg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Yl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Rg extends Yl{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Za extends Yl{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Lg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const yf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ze(async()=>{const{default:n}=await Promise.resolve().then(()=>On);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zg=()=>Lg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ze(()=>Promise.resolve().then(()=>On),void 0)).Response:Response}),Ja=e=>{if(Array.isArray(e))return e.map(r=>Ja(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ja(n)}),t};var Hr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const Wo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ug=(e,t,r)=>Hr(void 0,void 0,void 0,function*(){const n=yield zg();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Rg(Wo(s),e.status||500))}).catch(s=>{t(new Za(Wo(s),s))}):t(new Za(Wo(e),e))}),$g=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ts(e,t,r,n,s,i){return Hr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,$g(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Ug(u,a,n))})})}function Mi(e,t,r,n){return Hr(this,void 0,void 0,function*(){return Ts(e,"GET",t,r,n)})}function rr(e,t,r,n,s){return Hr(this,void 0,void 0,function*(){return Ts(e,"POST",t,n,s,r)})}function Bg(e,t,r,n,s){return Hr(this,void 0,void 0,function*(){return Ts(e,"PUT",t,n,s,r)})}function Dg(e,t,r,n){return Hr(this,void 0,void 0,function*(){return Ts(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vf(e,t,r,n,s){return Hr(this,void 0,void 0,function*(){return Ts(e,"DELETE",t,n,s,r)})}var et=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const Fg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mg{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=yf(s)}uploadOrUpdate(t,r,n,s){return et(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},bc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),y=yield p.json();return p.ok?{data:{path:c,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}upload(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return et(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:bc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const p=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:d}),y=yield p.json();return p.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(u){if(Le(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield rr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Yl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}update(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}copy(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield rr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return et(this,void 0,void 0,function*(){try{const s=yield rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}download(t,r){return et(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Mi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}info(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Mi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ja(n),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}exists(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Dg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Le(n)&&n instanceof Za){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return et(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}list(t,r,n){return et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Fg),r),{prefix:t||""});return{data:yield rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Wg="2.7.1",Kg={"X-Client-Info":`storage-js/${Wg}`};var Vr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class Hg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Kg),r),this.fetch=yf(n)}listBuckets(){return Vr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Le(t))return{data:null,error:t};throw t}})}getBucket(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Vr(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Vr(this,void 0,void 0,function*(){try{return{data:yield Bg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}}class Gg extends Hg{constructor(t,r={},n){super(t,r,n)}from(t){return new Mg(this.url,this.headers,t,this.fetch)}}const Vg="2.50.2";let qn="";typeof Deno<"u"?qn="deno":typeof document<"u"?qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qn="react-native":qn="node";const qg={"X-Client-Info":`supabase-js-${qn}/${Vg}`},Zg={headers:qg},Jg={schema:"public"},Qg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yg={};var Xg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const ey=e=>{let t;return e?t=e:typeof fetch>"u"?t=tf:t=fetch,(...r)=>t(...r)},ty=()=>typeof Headers>"u"?rf:Headers,ry=(e,t,r)=>{const n=ey(r),s=ty();return(i,o)=>Xg(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var ny=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};function sy(e){return e.endsWith("/")?e:e+"/"}function iy(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:u,auth:c,realtime:d,global:p}=t,y={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ny(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}const wf="2.70.0",Xr=30*1e3,Qa=3,Ko=Qa*Xr,oy="http://localhost:9999",ay="supabase.auth.token",ly={"X-Client-Info":`gotrue-js/${wf}`},Ya="X-Supabase-Api-Version",xf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cy=6e5;class Xl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class dy extends Xl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function hy(e){return le(e)&&e.name==="AuthApiError"}class bf extends Xl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class kr extends Xl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Xt extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fy(e){return le(e)&&e.name==="AuthSessionMissingError"}class Ys extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xs extends kr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ei extends kr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function py(e){return le(e)&&e.name==="AuthImplicitGrantRedirectError"}class _c extends kr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xa extends kr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ho(e){return le(e)&&e.name==="AuthRetryableFetchError"}class kc extends kr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class os extends kr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jc=` 	
\r=`.split(""),my=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jc.length;t+=1)e[jc[t].charCodeAt(0)]=-2;for(let t=0;t<Wi.length;t+=1)e[Wi[t].charCodeAt(0)]=t;return e})();function Sc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wi[n]),t.queuedBits-=6}}function _f(e,t,r){const n=my[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Nc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{vy(o,n,r)};for(let o=0;o<e.length;o+=1)_f(e.charCodeAt(o),s,i);return t.join("")}function gy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}gy(n,t)}}function vy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)_f(e.charCodeAt(s),r,n);return new Uint8Array(t)}function xy(e){const t=[];return yy(e,r=>t.push(r)),new Uint8Array(t)}function by(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Sc(s,r,n)),Sc(null,r,n),t.join("")}function _y(e){return Math.round(Date.now()/1e3)+e}function ky(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",Sr={tested:!1,writable:!1},as=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sr.tested)return Sr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sr.tested=!0,Sr.writable=!0}catch{Sr.tested=!0,Sr.writable=!1}return Sr.writable};function jy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const kf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ze(async()=>{const{default:n}=await Promise.resolve().then(()=>On);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Sy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ti=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ri=async(e,t)=>{await e.removeItem(t)};class fo{constructor(){this.promise=new fo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fo.promiseConstructor=Promise;function Go(e){const t=e.split(".");if(t.length!==3)throw new os("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!uy.test(t[n]))throw new os("JWT not in base64url format");return{header:JSON.parse(Nc(t[0])),payload:JSON.parse(Nc(t[1])),signature:wy(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ny(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ey(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Cy(e){return("0"+e.toString(16)).substr(-2)}function Iy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Cy).join("")}async function Py(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Oy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Py(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qr(e,t,r=!1){const n=Iy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await jf(e,`${t}-code-verifier`,s);const i=await Oy(n);return[i,n===i?"plain":"s256"]}const Ty=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ay(e){const t=e.headers.get(Ya);if(!t||!t.match(Ty))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ry(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ly(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zr(e){if(!zy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Uy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Cr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$y=[502,503,504];async function Ec(e){var t;if(!Sy(e))throw new Xa(Cr(e),0);if($y.includes(e.status))throw new Xa(Cr(e),e.status);let r;try{r=await e.json()}catch(i){throw new bf(Cr(i),i)}let n;const s=Ay(e);if(s&&s.getTime()>=xf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new kc(Cr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new kc(Cr(r),e.status,r.weak_password.reasons);throw new dy(Cr(r),e.status||500,n)}const By=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function he(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ya]||(i[Ya]=xf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Dy(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Dy(e,t,r,n,s,i){const o=By(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new Xa(Cr(u),0)}if(a.ok||await Ec(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Ec(u)}}function Bt(e){var t;let r=null;Ky(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_y(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Cc(e){const t=Bt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ir(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Fy(e){return{data:e,error:null}}function My(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Uy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function Wy(e){return e}function Ky(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vo=["global","local","others"];var Hy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Gy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=kf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Vo[0]){if(Vo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vo.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ir})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Hy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:My,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ir})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Wy});if(d.error)throw d.error;const p=await d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return f.length>0&&(f.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(le(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Zr(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ir})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Zr(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ir})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Zr(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ir})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Zr(t.userId);try{const{data:r,error:n}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Zr(t.userId),Zr(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}}const Vy={getItem:e=>as()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{as()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{as()&&globalThis.localStorage.removeItem(e)}};function Ic(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function qy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jr={debug:!!(globalThis&&as()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Zy extends Sf{}async function Jy(e,t,r){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Zy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}qy();const Qy={url:oy,storageKey:ay,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ly,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pc(e,t,r){return await r()}class Ss{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ss.nextInstanceID,Ss.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Qy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Gy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=kf(s.fetch),this.lock=s.lock||Pc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:_t()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Jy:this.lock=Pc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:as()?this.storage=Vy:(this.memoryStorage={},this.storage=Ic(this.memoryStorage)):(this.memoryStorage={},this.storage=Ic(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=jy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),_t()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),py(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return le(r)?{error:r}:{error:new bf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Bt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:p,options:y}=t;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await qr(this.storage,this.storageKey)),i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:d,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:f,code_challenge_method:x},xform:Bt})}else if("phone"in t){const{phone:d,password:p,options:y}=t;i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Bt})}else throw new Xs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cc})}else throw new Xs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ys}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,u,c,d,p,y,f;let x,m;if("message"in t)x=t.message,m=t.signature;else{const{chain:b,wallet:h,statement:g,options:w}=t;let k;if(_t())if(typeof h=="object")k=h;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))k=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof h!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=h}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const P=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let O;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")O=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)O=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),m=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((p=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...w.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const P=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=P}}try{const{data:b,error:h}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:by(m)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Bt});if(h)throw h;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ys}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:h})}catch(b){if(le(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Bt});if(await ri(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(le(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bt}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ys}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await qr(this.storage,this.storageKey));const{error:p}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:d}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Xs("You must provide either an email or phone number.")}catch(a){if(le(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Bt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qr(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Fy})}catch(i){if(le(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xt;const{error:s}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Xs("You must provide either an email or phone number and a type")}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ko:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ir}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ir})})}catch(r){if(le(r))return fy(r)&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Xt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await qr(this.storage,this.storageKey));const{data:c,error:d}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:ir});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Go(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(le(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!_t())throw new ei("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ei(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _c("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ei("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _c("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!i||!a||!o||!c)throw new ei("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(a);let y=d+p;u&&(y=parseInt(u));const f=y-d;f*1e3<=Xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${p}s`);const x=y-p;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,d);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const h={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:y,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:h,redirectType:t.type},error:null}}catch(n){if(le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(hy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ky(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qr(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(le(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:p,error:y}=i;if(y)throw y;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return _t()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(le(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ey(async s=>(s>0&&await Ny(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ho(i)&&Date.now()+o-n<Xr})}catch(n){if(this._debug(r,"error",n),le(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),_t()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ti(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ko;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ko}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ho(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),le(i)){const o={session:null,error:i};return Ho(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ri(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xr}ms, refresh threshold is ${Qa} ticks`),s<=Qa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Sf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await qr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await he(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(le(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(le(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Go(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+cy>Date.now()))return n;const{data:s,error:i}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new os("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new os("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:f,error:x}=await this.getSession();if(x||!f.session)return{data:null,error:x};n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=Go(n);if(Ry(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const c=Ly(s.alg),d=await this.fetchJwk(s.kid,r),p=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,p,o,xy(`${a}.${u}`)))throw new os("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}}Ss.nextInstanceID=0;const Yy=Ss;class Xy extends Yy{constructor(t){super(t)}}var ev=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class tv{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=sy(t),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Jg,realtime:Yg,auth:Object.assign(Object.assign({},Qg),{storageKey:c}),global:Zg},p=iy(n??{},d);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=ry(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new vg(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new qm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gg(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return ev(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:u},c,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xy({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ag(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rv=(e,t,r)=>new tv(e,t,r),nv="https://hdnzkcwkgukbrkqjygbd.supabase.co",Nf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkbnprY3drZ3VrYnJrcWp5Z2JkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyNzc4NTksImV4cCI6MjA2Njg1Mzg1OX0.nQxZF-oXyHJqAMZ262pvADMBCQYy3u-7EFXqaE0O4DI",At=!!Nf,Ae=rv(nv,Nf),sv=async(e,t,r)=>{try{const{data:n,error:s}=await Ae.auth.signUp({email:e,password:t});if(s)throw s;if(!n.user)throw new Error("No user returned from signup");const{error:i}=await Ae.from("users").insert({id:n.user.id,email:n.user.email,name:r.name,username:r.username,brand_name:r.brand_name||null,website_url:r.website_url||null,credits:100,is_admin:!1});if(i)throw console.error("Profile creation error:",i),new Error(`Failed to create user profile: ${i.message}`);return{user:n.user,session:n.session}}catch(n){throw console.error("Sign up error:",n),n}},iv=async(e,t)=>{try{const{data:r,error:n}=await Ae.auth.signInWithPassword({email:e,password:t});if(n)throw n;if(!r.user)throw new Error("No user returned from signin");const{data:s,error:i}=await Ae.from("users").select("*").eq("id",r.user.id).single();if(i&&i.code!=="PGRST116")throw console.error("Profile fetch error:",i),new Error(`Failed to fetch user profile: ${i.message}`);if(!s){console.log("No profile found, creating one for user:",r.user.id);const{error:o}=await Ae.from("users").insert({id:r.user.id,email:r.user.email,name:r.user.email.split("@")[0],username:r.user.email.split("@")[0],credits:100,is_admin:!1});if(o){if(console.error("Profile creation error:",o),o.code==="23505"){console.log("Profile already exists, fetching it...");const{data:c,error:d}=await Ae.from("users").select("*").eq("id",r.user.id).single();if(d)throw new Error(`Failed to fetch existing profile: ${d.message}`);return{user:r.user,session:r.session,profile:c}}throw new Error(`Failed to create user profile: ${o.message}`)}const{data:a,error:u}=await Ae.from("users").select("*").eq("id",r.user.id).single();if(u)throw new Error(`Failed to fetch new profile: ${u.message}`);return{user:r.user,session:r.session,profile:a}}return{user:r.user,session:r.session,profile:s}}catch(r){throw console.error("Sign in error:",r),r}},ov=async()=>{const{error:e}=await Ae.auth.signOut();if(e)throw e},av=async()=>{try{const{data:{user:e},error:t}=await Ae.auth.getUser();if(t)throw t;if(!e)return{user:null,profile:null};const{data:r,error:n}=await Ae.from("users").select("*").eq("id",e.id).single();if(n&&n.code!=="PGRST116"){console.error("Profile fetch error:",n);const{error:s}=await Ae.from("users").insert({id:e.id,email:e.email,name:e.email.split("@")[0],username:e.email.split("@")[0],credits:100,is_admin:!1});if(s&&s.code!=="23505")throw new Error(`Failed to create missing profile: ${s.message}`);const{data:i,error:o}=await Ae.from("users").select("*").eq("id",e.id).single();if(o)throw new Error(`Failed to fetch profile after creation: ${o.message}`);return{user:e,profile:i}}return{user:e,profile:r}}catch(e){throw console.error("Get current user error:",e),e}},Ef=async(e,t)=>{const{data:r,error:n}=await Ae.from("users").update({credits:t}).eq("id",e).select().single();if(n)throw n;return r},lv=async(e,t)=>{const{data:r,error:n}=await Ae.from("users").update({credits:Ae.raw(`credits - ${t}`)}).eq("id",e).select("credits").single();if(n)throw n;return r.credits},Cf=async()=>{const{data:e,error:t}=await Ae.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},If=async()=>{const{data:e,error:t}=await Ae.from("image_generations").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},uv=async e=>{const{data:t,error:r}=await Ae.from("image_generations").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]},Lt=Object.freeze(Object.defineProperty({__proto__:null,deductCredits:lv,getAllImageGenerations:If,getAllUsers:Cf,getCurrentUser:av,getUserImageGenerations:uv,isSupabaseConfigured:At,signIn:iv,signOut:ov,signUp:sv,supabase:Ae,updateUserCredits:Ef},Symbol.toStringTag,{value:"Module"})),cv=({isOpen:e,onClose:t,currentUser:r})=>{const[n,s]=Y.useState([]),[i,o]=Y.useState([]),[a,u]=Y.useState("users"),[c,d]=Y.useState(""),[p,y]=Y.useState(!1),[f,x]=Y.useState(null),[m,b]=Y.useState("");Y.useEffect(()=>{e&&h()},[e]);const h=async()=>{y(!0);try{const[j,P]=await Promise.all([Cf(),If()]);s(j),o(P)}catch(j){console.error("Error loading admin data:",j)}y(!1)},g=async(j,P)=>{try{await Ef(j,P),s(O=>O.map(U=>U.id===j?{...U,credits:P}:U)),x(null),b("")}catch(O){console.error("Error updating credits:",O)}},w=n.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.email.toLowerCase().includes(c.toLowerCase())||j.user_id.toLowerCase().includes(c.toLowerCase())),k=i.filter(j=>{var P,O,U,$;return((P=j.users)==null?void 0:P.name.toLowerCase().includes(c.toLowerCase()))||((O=j.users)==null?void 0:O.email.toLowerCase().includes(c.toLowerCase()))||((U=j.title)==null?void 0:U.toLowerCase().includes(c.toLowerCase()))||(($=j.content)==null?void 0:$.toLowerCase().includes(c.toLowerCase()))});return e?l.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white relative flex-shrink-0",children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:l.jsx(wr,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 mr-4",children:l.jsx(pc,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Admin Panel"}),l.jsx("p",{className:"text-purple-100",children:"Manage users and monitor system activity"})]})]})]}),l.jsx("div",{className:"bg-gray-50 border-b border-gray-200 flex-shrink-0",children:l.jsxs("div",{className:"flex",children:[l.jsxs("button",{onClick:()=>u("users"),className:`px-6 py-4 font-medium text-sm transition-colors ${a==="users"?"text-purple-600 border-b-2 border-purple-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(pc,{className:"w-4 h-4 mr-2 inline"}),"Users (",n.length,")"]}),l.jsxs("button",{onClick:()=>u("images"),className:`px-6 py-4 font-medium text-sm transition-colors ${a==="images"?"text-purple-600 border-b-2 border-purple-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(Fr,{className:"w-4 h-4 mr-2 inline"}),"Image Generations (",i.length,")"]})]})}),l.jsx("div",{className:"p-4 border-b border-gray-200 flex-shrink-0",children:l.jsxs("div",{className:"relative",children:[l.jsx(Sm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:c,onChange:j=>d(j.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:a==="users"?"Search users...":"Search image generations..."})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:p?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):a==="users"?l.jsx("div",{className:"space-y-4",children:w.map(j=>l.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:j.name}),j.is_admin&&l.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Admin"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[l.jsxs("div",{children:["Email: ",j.email]}),l.jsxs("div",{children:["User ID: ",j.user_id]}),j.brand_name&&l.jsxs("div",{children:["Brand: ",j.brand_name]}),j.website_url&&l.jsxs("div",{children:["Website: ",j.website_url]}),l.jsxs("div",{children:["Joined: ",new Date(j.created_at).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:j.credits}),l.jsx("div",{className:"text-xs text-gray-500",children:"Credits"})]}),l.jsxs("button",{onClick:()=>x(j),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx(Ma,{className:"w-4 h-4 mr-2 inline"}),"Manage Credits"]})]})]})},j.id))}):l.jsx("div",{className:"space-y-4",children:k.map(j=>{var P,O;return l.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("img",{src:`data:image/png;base64,${j.image_data}`,alt:j.title||"Generated image",className:"w-20 h-20 object-cover rounded-lg border border-gray-200"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:j.title||`${j.image_type} Image`}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j.image_type==="blog"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:j.image_type})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-2",children:[l.jsxs("div",{children:["User: ",(P=j.users)==null?void 0:P.name," (",(O=j.users)==null?void 0:O.email,")"]}),l.jsxs("div",{children:["Credits Used: ",j.credits_used]}),l.jsxs("div",{children:["Created: ",new Date(j.created_at).toLocaleDateString()]}),j.style&&l.jsxs("div",{children:["Style: ",j.style]}),j.colour&&l.jsxs("div",{children:["Colour: ",j.colour]})]}),j.content&&l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:j.content})]}),l.jsx("button",{onClick:()=>{const U=document.createElement("a");U.href=`data:image/png;base64,${j.image_data}`,U.download=`${j.title||"image"}-${j.id}.png`,U.click()},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:l.jsx(gr,{className:"w-4 h-4"})})]})},j.id)})})})]}),f&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-60 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Manage Credits for ",f.name]}),l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-3xl font-bold text-purple-600",children:f.credits}),l.jsx("div",{className:"text-sm text-gray-500",children:"Current Credits"})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set New Credit Amount"}),l.jsx("input",{type:"number",value:m,onChange:j=>b(j.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter new credit amount"})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>{const j=parseInt(m);!isNaN(j)&&j>=0&&g(f.id,j)},disabled:!m||isNaN(parseInt(m)),className:"flex-1 py-2 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Update Credits"}),l.jsx("button",{onClick:()=>{x(null),b("")},className:"flex-1 py-2 px-4 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})})})]}):null},Pf=()=>{const[e,t]=Y.useState({user:null,isLoading:!0,isAuthenticated:!1});return Y.useEffect(()=>{console.log("Initializing Supabase auth hook...");const u=(async()=>{try{console.log("Supabase is configured, initializing auth...");const{getCurrentUser:c,supabase:d}=await Ze(async()=>{const{getCurrentUser:f,supabase:x}=await Promise.resolve().then(()=>Lt);return{getCurrentUser:f,supabase:x}},void 0);if(!d)throw new Error("Supabase client not available");const p=await c();p?(console.log("Found existing user session:",p.user.email),t({user:p.user,isLoading:!1,isAuthenticated:!0})):(console.log("No existing user session found"),t({user:null,isLoading:!1,isAuthenticated:!1}));const{data:{subscription:y}}=d.auth.onAuthStateChange(async(f,x)=>{var m;console.log("Auth state change:",f,((m=x==null?void 0:x.user)==null?void 0:m.email)||"no user");try{if(f==="SIGNED_IN"&&x){const b=await c();b&&t({user:b.user,isLoading:!1,isAuthenticated:!0})}else f==="SIGNED_OUT"&&t({user:null,isLoading:!1,isAuthenticated:!1})}catch(b){console.error("Auth state change error:",b),t(h=>({...h,isLoading:!1,error:"Authentication error occurred."}))}});return()=>{console.log("Cleaning up auth subscription"),y.unsubscribe()}}catch(c){return console.error("Auth initialization error:",c),t({user:null,isLoading:!1,isAuthenticated:!1,error:"Failed to initialize authentication. Please check your database connection."}),()=>{}}})();return()=>{u.then(c=>{c&&c()})}},[]),{...e,signUp:async a=>{try{console.log("Attempting sign up for:",a.email);const{signUp:u}=await Ze(async()=>{const{signUp:d}=await Promise.resolve().then(()=>Lt);return{signUp:d}},void 0),c=await u(a);return console.log("Sign up successful:",c.user.email),t({user:c.user,isLoading:!1,isAuthenticated:!0}),!0}catch(u){console.error("Sign up error:",u);const c=u instanceof Error?u.message:"Failed to create account";throw t(d=>({...d,error:c})),u}},signIn:async(a,u)=>{try{console.log("Attempting sign in for:",a);const{signIn:c}=await Ze(async()=>{const{signIn:p}=await Promise.resolve().then(()=>Lt);return{signIn:p}},void 0),d=await c(a,u);return console.log("Sign in successful:",d.user.email),t({user:d.user,isLoading:!1,isAuthenticated:!0}),{success:!0}}catch(c){console.error("Sign in error:",c);let d="Failed to sign in";return c instanceof Error&&(c.message.includes("Email not confirmed")?d="Please check your email and click the confirmation link to activate your account before signing in.":c.message.includes("Invalid login credentials")?d="Invalid email or password. Please check your credentials and try again.":d=c.message),t(p=>({...p,error:d})),{success:!1,error:d}}},signOut:async()=>{try{console.log("Signing out...");const{signOut:a}=await Ze(async()=>{const{signOut:u}=await Promise.resolve().then(()=>Lt);return{signOut:u}},void 0);await a(),t({user:null,isLoading:!1,isAuthenticated:!1})}catch(a){console.error("Sign out error:",a),t({user:null,isLoading:!1,isAuthenticated:!1})}},refreshUser:async()=>{try{const{getCurrentUser:a}=await Ze(async()=>{const{getCurrentUser:c}=await Promise.resolve().then(()=>Lt);return{getCurrentUser:c}},void 0),u=await a();u&&t(c=>({...c,user:u.user}))}catch(a){console.error("Refresh user error:",a)}},clearError:()=>{t(a=>({...a,error:void 0}))}}},Oc="seo_engine_image_history",dv=50,Of=()=>{const{user:e,isAuthenticated:t}=Pf(),[r,n]=Y.useState([]),[s,i]=Y.useState(!0),o=Y.useCallback(()=>e&&t&&At?`${Oc}_${e.id}`:Oc,[e,t]),a=Y.useCallback(async()=>{try{i(!0);const f=o();if(e&&t&&At)try{const{getUserImageGenerations:m}=await Ze(async()=>{const{getUserImageGenerations:g}=await Promise.resolve().then(()=>Lt);return{getUserImageGenerations:g}},void 0),h=(await m(e.id)).map(g=>({id:g.id,type:g.image_type,title:g.title||(g.image_type==="blog"?"Blog Image":"Infographic"),content:g.content,base64:g.image_data,timestamp:new Date(g.created_at).getTime(),style:g.style,colour:g.colour}));console.log("Loaded history from database:",h.length,"items"),n(h),localStorage.setItem(f,JSON.stringify(h));return}catch(m){console.error("Error loading from database, falling back to localStorage:",m)}const x=localStorage.getItem(f);if(console.log("Loading history from localStorage:",x),x){const m=JSON.parse(x);if(console.log("Parsed history:",m),Array.isArray(m)){const b=m.filter(h=>h&&typeof h=="object"&&h.id&&h.base64&&h.type&&h.timestamp);console.log("Valid history items:",b.length),n(b)}else console.log("Invalid history format, resetting"),n([])}else n([])}catch(f){console.error("Error loading image history:",f),n([]);const x=o();localStorage.removeItem(x)}finally{i(!1)}},[o,e,t]);Y.useEffect(()=>{a()},[a]);const u=Y.useCallback(f=>{try{const x=o();console.log("Saving history to localStorage:",f.length,"items"),localStorage.setItem(x,JSON.stringify(f)),window.dispatchEvent(new CustomEvent("historyUpdated",{detail:{history:f}}))}catch(x){console.error("Error saving image history:",x)}},[o]);Y.useEffect(()=>{const f=m=>{const b=o();m.key===b&&(console.log("Storage changed externally, reloading history"),a())},x=m=>{console.log("History updated event received"),n(b=>[...m.detail.history])};return window.addEventListener("storage",f),window.addEventListener("historyUpdated",x),()=>{window.removeEventListener("storage",f),window.removeEventListener("historyUpdated",x)}},[a,o]);const c=Y.useCallback(f=>(console.log("Adding to history:",{id:f.id,type:f.type,title:f.title,hasBase64:!!f.base64,timestamp:f.timestamp}),!f.id||!f.base64||!f.type||!f.timestamp?(console.error("Invalid image object:",f),f):(n(x=>{if(x.some(g=>g.id===f.id))return console.log("Image already exists in history"),x;const h=[f,...x].slice(0,dv);return console.log("Updated history length:",h.length),u(h),h}),f)),[u]),d=Y.useCallback(f=>{console.log("Removing image from history:",f),n(x=>{const m=x.filter(b=>b.id!==f);return console.log("History after removal:",m.length,"items"),u(m),m})},[u]),p=Y.useCallback(()=>{console.log("Clearing all history"),n([]);const f=o();localStorage.removeItem(f),window.dispatchEvent(new CustomEvent("historyUpdated",{detail:{history:[]}}))},[o]),y=Y.useCallback(f=>r.find(x=>x.id===f),[r]);return console.log("Current history state:",{length:r.length,isLoading:s,userId:e==null?void 0:e.id,storageKey:o(),items:r.map(f=>({id:f.id,type:f.type,title:f.title}))}),{history:r,isLoading:s,addToHistory:c,removeImage:d,clearHistory:p,getImageById:y,forceRefresh:a}},hv=({isOpen:e,onClose:t})=>{const{history:r,isLoading:n,clearHistory:s,removeImage:i,forceRefresh:o}=Of(),[a,u]=Y.useState(!1);Y.useEffect(()=>{e&&(console.log("History sidebar opened, forcing refresh"),c())},[e]);const c=async()=>{u(!0),await o(),setTimeout(()=>u(!1),500)},d=y=>{var f;try{const x=atob(y.base64),m=new Array(x.length);for(let P=0;P<x.length;P++)m[P]=x.charCodeAt(P);const b=new Uint8Array(m),h=new Blob([b],{type:"image/png"}),g=URL.createObjectURL(h),w=document.createElement("a");w.href=g;const j=(y.title||((f=y.content)==null?void 0:f.substring(0,30))||"image").replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/\s+/g,"-").toLowerCase();w.download=`seo-engine-${y.type}-${j}-${Date.now()}.png`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(g)}catch(x){console.error("Download error:",x)}},p=y=>{try{return new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}};return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:t}),l.jsx("div",{className:`fixed inset-y-0 right-0 w-96 bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-50 to-indigo-50",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 mr-3",children:l.jsx(Yh,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Image History"}),l.jsx("p",{className:"text-sm text-gray-600",children:n?"Loading...":`${r.length} images generated`})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:c,disabled:a,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-50",title:"Refresh History",children:l.jsx(km,{className:`w-4 h-4 ${a?"animate-spin":""}`})}),l.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(wr,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.length===0?l.jsxs("div",{className:"text-center text-gray-500 py-12",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center mx-auto mb-4",children:l.jsx(Fr,{className:"w-8 h-8 text-gray-400"})}),l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Images Yet"}),l.jsx("p",{className:"text-sm",children:"Start creating to see your history here!"})]}):r.map(y=>{var f;return l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("img",{src:`data:image/png;base64,${y.base64}`,alt:y.title||y.content,className:"w-16 h-16 object-cover rounded-lg border border-gray-200 shadow-sm"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate mb-1",children:y.title||((f=y.content)==null?void 0:f.substring(0,40))+"..."}),l.jsx("div",{className:"flex items-center space-x-2 mb-1",children:l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${y.type==="blog"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:y.type==="blog"?"Blog Image":"Infographic"})}),l.jsx("p",{className:"text-xs text-gray-500",children:p(y.timestamp)}),(y.style||y.colour)&&l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[y.style&&l.jsx("span",{className:"text-xs text-gray-400 bg-gray-200 px-2 py-1 rounded",children:y.style}),y.colour&&l.jsx("span",{className:"text-xs text-gray-400 bg-gray-200 px-2 py-1 rounded",children:y.colour})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>d(y),className:"flex items-center px-3 py-2 text-sm font-medium text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download Image",children:[l.jsx(gr,{className:"w-4 h-4 mr-1"}),"Download"]}),l.jsxs("button",{onClick:()=>i(y.id),className:"flex items-center px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove from History",children:[l.jsx(Ka,{className:"w-4 h-4 mr-1"}),"Remove"]})]})]},y.id)})}),r.length>0&&l.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:l.jsxs("button",{onClick:()=>{confirm("Are you sure you want to clear all history? This action cannot be undone.")&&s()},className:"w-full py-3 px-4 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors flex items-center justify-center font-medium",children:[l.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Clear All History"]})})]})})]})};function ni(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Tf={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,s,i){function o(c,d){if(!s[c]){if(!n[c]){var p=typeof ni=="function"&&ni;if(!d&&p)return p(c,!0);if(a)return a(c,!0);var y=new Error("Cannot find module '"+c+"'");throw y.code="MODULE_NOT_FOUND",y}var f=s[c]={exports:{}};n[c][0].call(f.exports,function(x){var m=n[c][1][x];return o(m||x)},f,f.exports,r,n,s,i)}return s[c].exports}for(var a=typeof ni=="function"&&ni,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(r,n,s){var i=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(u){for(var c,d,p,y,f,x,m,b=[],h=0,g=u.length,w=g,k=i.getTypeOf(u)!=="string";h<u.length;)w=g-h,p=k?(c=u[h++],d=h<g?u[h++]:0,h<g?u[h++]:0):(c=u.charCodeAt(h++),d=h<g?u.charCodeAt(h++):0,h<g?u.charCodeAt(h++):0),y=c>>2,f=(3&c)<<4|d>>4,x=1<w?(15&d)<<2|p>>6:64,m=2<w?63&p:64,b.push(a.charAt(y)+a.charAt(f)+a.charAt(x)+a.charAt(m));return b.join("")},s.decode=function(u){var c,d,p,y,f,x,m=0,b=0,h="data:";if(u.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var g,w=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===a.charAt(64)&&w--,u.charAt(u.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=o.uint8array?new Uint8Array(0|w):new Array(0|w);m<u.length;)c=a.indexOf(u.charAt(m++))<<2|(y=a.indexOf(u.charAt(m++)))>>4,d=(15&y)<<4|(f=a.indexOf(u.charAt(m++)))>>2,p=(3&f)<<6|(x=a.indexOf(u.charAt(m++))),g[b++]=c,f!==64&&(g[b++]=d),x!==64&&(g[b++]=p);return g}},{"./support":30,"./utils":32}],2:[function(r,n,s){var i=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),u=r("./stream/DataLengthProbe");function c(d,p,y,f,x){this.compressedSize=d,this.uncompressedSize=p,this.crc32=y,this.compression=f,this.compressedContent=x}c.prototype={getContentWorker:function(){var d=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),p=this;return d.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,p,y){return d.pipe(new a).pipe(new u("uncompressedSize")).pipe(p.compressWorker(y)).pipe(new u("compressedSize")).withStreamInfo("compression",p)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var i=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var i=r("./utils"),o=function(){for(var a,u=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;u[c]=a}return u}();n.exports=function(a,u){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(c,d,p,y){var f=o,x=y+p;c^=-1;for(var m=y;m<x;m++)c=c>>>8^f[255&(c^d[m])];return-1^c}(0|u,a,a.length,0):function(c,d,p,y){var f=o,x=y+p;c^=-1;for(var m=y;m<x;m++)c=c>>>8^f[255&(c^d.charCodeAt(m))];return-1^c}(0|u,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),u=r("./stream/GenericWorker"),c=i?"uint8array":"array";function d(p,y){u.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=y,this.meta={}}s.magic="\b\0",a.inherits(d,u),d.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,p.data),!1)},d.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(y){p.push({data:y,meta:p.meta})}},s.compressWorker=function(p){return new d("Deflate",p)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function i(f,x){var m,b="";for(m=0;m<x;m++)b+=String.fromCharCode(255&f),f>>>=8;return b}function o(f,x,m,b,h,g){var w,k,j=f.file,P=f.compression,O=g!==c.utf8encode,U=a.transformTo("string",g(j.name)),$=a.transformTo("string",c.utf8encode(j.name)),M=j.comment,re=a.transformTo("string",g(M)),I=a.transformTo("string",c.utf8encode(M)),F=$.length!==j.name.length,_=I.length!==M.length,H="",se="",K="",A=j.dir,L=j.date,z={crc32:0,compressedSize:0,uncompressedSize:0};x&&!m||(z.crc32=f.crc32,z.compressedSize=f.compressedSize,z.uncompressedSize=f.uncompressedSize);var E=0;x&&(E|=8),O||!F&&!_||(E|=2048);var T=0,X=0;A&&(T|=16),h==="UNIX"?(X=798,T|=function(Z,ae){var ce=Z;return Z||(ce=ae?16893:33204),(65535&ce)<<16}(j.unixPermissions,A)):(X=20,T|=function(Z){return 63&(Z||0)}(j.dosPermissions)),w=L.getUTCHours(),w<<=6,w|=L.getUTCMinutes(),w<<=5,w|=L.getUTCSeconds()/2,k=L.getUTCFullYear()-1980,k<<=4,k|=L.getUTCMonth()+1,k<<=5,k|=L.getUTCDate(),F&&(se=i(1,1)+i(d(U),4)+$,H+="up"+i(se.length,2)+se),_&&(K=i(1,1)+i(d(re),4)+I,H+="uc"+i(K.length,2)+K);var q="";return q+=`
\0`,q+=i(E,2),q+=P.magic,q+=i(w,2),q+=i(k,2),q+=i(z.crc32,4),q+=i(z.compressedSize,4),q+=i(z.uncompressedSize,4),q+=i(U.length,2),q+=i(H.length,2),{fileRecord:p.LOCAL_FILE_HEADER+q+U+H,dirRecord:p.CENTRAL_FILE_HEADER+i(X,2)+q+i(re.length,2)+"\0\0\0\0"+i(T,4)+i(b,4)+U+H+re}}var a=r("../utils"),u=r("../stream/GenericWorker"),c=r("../utf8"),d=r("../crc32"),p=r("../signature");function y(f,x,m,b){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=m,this.encodeFileName=b,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(y,u),y.prototype.push=function(f){var x=f.meta.percent||0,m=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,u.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:m?(x+100*(m-b-1))/m:100}}))},y.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var x=this.streamFiles&&!f.file.dir;if(x){var m=o(f,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(f){this.accumulate=!1;var x=this.streamFiles&&!f.file.dir,m=o(f,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),x)this.push({data:function(b){return p.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var f=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var m=this.bytesWritten-f,b=function(h,g,w,k,j){var P=a.transformTo("string",j(k));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(h,2)+i(h,2)+i(g,4)+i(w,4)+i(P.length,2)+P}(this.dirRecords.length,m,f,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(f){this._sources.push(f);var x=this;return f.on("data",function(m){x.processChunk(m)}),f.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),f.on("error",function(m){x.error(m)}),this},y.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(f){var x=this._sources;if(!u.prototype.error.call(this,f))return!1;for(var m=0;m<x.length;m++)try{x[m].error(f)}catch{}return!0},y.prototype.lock=function(){u.prototype.lock.call(this);for(var f=this._sources,x=0;x<f.length;x++)f[x].lock()},n.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var i=r("../compressions"),o=r("./ZipFileWorker");s.generateWorker=function(a,u,c){var d=new o(u.streamFiles,c,u.platform,u.encodeFileName),p=0;try{a.forEach(function(y,f){p++;var x=function(g,w){var k=g||w,j=i[k];if(!j)throw new Error(k+" is not a valid compression method !");return j}(f.options.compression,u.compression),m=f.options.compressionOptions||u.compressionOptions||{},b=f.dir,h=f.date;f._compressWorker(x,m).withStreamInfo("file",{name:y,dir:b,date:h,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(d)}),d.entriesCount=p}catch(y){d.error(y)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var i=r("./utils"),o=r("./external"),a=r("./utf8"),u=r("./zipEntries"),c=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function p(y){return new o.Promise(function(f,x){var m=y.decompressed.getContentWorker().pipe(new c);m.on("error",function(b){x(b)}).on("end",function(){m.streamInfo.crc32!==y.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(y,f){var x=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(y)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",y,!0,f.optimizedBinaryString,f.base64).then(function(m){var b=new u(f);return b.load(m),b}).then(function(m){var b=[o.Promise.resolve(m)],h=m.files;if(f.checkCRC32)for(var g=0;g<h.length;g++)b.push(p(h[g]));return o.Promise.all(b)}).then(function(m){for(var b=m.shift(),h=b.files,g=0;g<h.length;g++){var w=h[g],k=w.fileNameStr,j=i.resolve(w.fileNameStr);x.file(j,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:f.createFolders}),w.dir||(x.file(j).unsafeOriginalName=k)}return b.zipComment.length&&(x.comment=b.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var i=r("../utils"),o=r("../stream/GenericWorker");function a(u,c){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(a,o),a.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var i=r("readable-stream").Readable;function o(a,u,c){i.call(this,u),this._helper=a;var d=this;a.on("data",function(p,y){d.push(p)||d._helper.pause(),c&&c(y)}).on("error",function(p){d.emit("error",p)}).on("end",function(){d.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,s){function i(j,P,O){var U,$=a.getTypeOf(P),M=a.extend(O||{},d);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(j=h(j)),M.createFolders&&(U=b(j))&&g.call(this,U,!0);var re=$==="string"&&M.binary===!1&&M.base64===!1;O&&O.binary!==void 0||(M.binary=!re),(P instanceof p&&P.uncompressedSize===0||M.dir||!P||P.length===0)&&(M.base64=!1,M.binary=!0,P="",M.compression="STORE",$="string");var I=null;I=P instanceof p||P instanceof u?P:x.isNode&&x.isStream(P)?new m(j,P):a.prepareContent(j,P,M.binary,M.optimizedBinaryString,M.base64);var F=new y(j,I,M);this.files[j]=F}var o=r("./utf8"),a=r("./utils"),u=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),d=r("./defaults"),p=r("./compressedObject"),y=r("./zipObject"),f=r("./generate"),x=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),b=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var P=j.lastIndexOf("/");return 0<P?j.substring(0,P):""},h=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},g=function(j,P){return P=P!==void 0?P:d.createFolders,j=h(j),this.files[j]||i.call(this,j,null,{dir:!0,createFolders:P}),this.files[j]};function w(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var P,O,U;for(P in this.files)U=this.files[P],(O=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&j(O,U)},filter:function(j){var P=[];return this.forEach(function(O,U){j(O,U)&&P.push(U)}),P},file:function(j,P,O){if(arguments.length!==1)return j=this.root+j,i.call(this,j,P,O),this;if(w(j)){var U=j;return this.filter(function(M,re){return!re.dir&&U.test(M)})}var $=this.files[this.root+j];return $&&!$.dir?$:null},folder:function(j){if(!j)return this;if(w(j))return this.filter(function($,M){return M.dir&&j.test($)});var P=this.root+j,O=g.call(this,P),U=this.clone();return U.root=O.name,U},remove:function(j){j=this.root+j;var P=this.files[j];if(P||(j.slice(-1)!=="/"&&(j+="/"),P=this.files[j]),P&&!P.dir)delete this.files[j];else for(var O=this.filter(function($,M){return M.name.slice(0,j.length)===j}),U=0;U<O.length;U++)delete this.files[O[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var P,O={};try{if((O=a.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");a.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var U=O.comment||this.comment||"";P=f.generateWorker(this,O,U)}catch($){(P=new u("error")).error($)}return new c(P,O.type||"string",O.mimeType)},generateAsync:function(j,P){return this.generateInternalStream(j).accumulate(P)},generateNodeStream:function(j,P){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(P)}};n.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var i=r("./DataReader");function o(a){i.call(this,a);for(var u=0;u<this.data.length;u++)a[u]=255&a[u]}r("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var u=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),p=a.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===u&&this.data[y+1]===c&&this.data[y+2]===d&&this.data[y+3]===p)return y-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var u=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),p=a.charCodeAt(3),y=this.readData(4);return u===y[0]&&c===y[1]&&d===y[2]&&p===y[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var i=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var u,c=0;for(this.checkOffset(a),u=this.index+a-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=a,c},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,s){var i=r("./Uint8ArrayReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var i=r("./DataReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var i=r("./ArrayReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var i=r("../utils"),o=r("../support"),a=r("./ArrayReader"),u=r("./StringReader"),c=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(p){var y=i.getTypeOf(p);return i.checkSupport(y),y!=="string"||o.uint8array?y==="nodebuffer"?new c(p):o.uint8array?new d(i.transformTo("uint8array",p)):new a(i.transformTo("array",p)):new u(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var i=r("./GenericWorker"),o=r("../utils");function a(u){i.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(a,i),a.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var i=r("./GenericWorker"),o=r("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,i),a.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var i=r("../utils"),o=r("./GenericWorker");function a(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(a,o),a.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var i=r("../utils"),o=r("./GenericWorker");function a(u){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=i.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(u){a.processChunk(u)}),o.on("end",function(){a.end()}),o.on("error",function(u){a.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,s){var i=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),u=r("../base64"),c=r("../support"),d=r("../external"),p=null;if(c.nodestream)try{p=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(x,m){return new d.Promise(function(b,h){var g=[],w=x._internalType,k=x._outputType,j=x._mimeType;x.on("data",function(P,O){g.push(P),m&&m(O)}).on("error",function(P){g=[],h(P)}).on("end",function(){try{var P=function(O,U,$){switch(O){case"blob":return i.newBlob(i.transformTo("arraybuffer",U),$);case"base64":return u.encode(U);default:return i.transformTo(O,U)}}(k,function(O,U){var $,M=0,re=null,I=0;for($=0;$<U.length;$++)I+=U[$].length;switch(O){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(re=new Uint8Array(I),$=0;$<U.length;$++)re.set(U[$],M),M+=U[$].length;return re;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+O+"'")}}(w,g),j);b(P)}catch(O){h(O)}g=[]}).resume()})}function f(x,m,b){var h=m;switch(m){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=m,this._mimeType=b,i.checkSupport(h),this._worker=x.pipe(new o(h)),x.lock()}catch(g){this._worker=new a("error"),this._worker.error(g)}}f.prototype={accumulate:function(x){return y(this,x)},on:function(x,m){var b=this;return x==="data"?this._worker.on(x,function(h){m.call(b,h.data,h.meta)}):this._worker.on(x,function(){i.delay(m,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},x)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var i=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),u=r("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function p(){u.call(this,"utf-8 decode"),this.leftOver=null}function y(){u.call(this,"utf-8 encode")}s.utf8encode=function(f){return o.nodebuffer?a.newBufferFrom(f,"utf-8"):function(x){var m,b,h,g,w,k=x.length,j=0;for(g=0;g<k;g++)(64512&(b=x.charCodeAt(g)))==55296&&g+1<k&&(64512&(h=x.charCodeAt(g+1)))==56320&&(b=65536+(b-55296<<10)+(h-56320),g++),j+=b<128?1:b<2048?2:b<65536?3:4;for(m=o.uint8array?new Uint8Array(j):new Array(j),g=w=0;w<j;g++)(64512&(b=x.charCodeAt(g)))==55296&&g+1<k&&(64512&(h=x.charCodeAt(g+1)))==56320&&(b=65536+(b-55296<<10)+(h-56320),g++),b<128?m[w++]=b:(b<2048?m[w++]=192|b>>>6:(b<65536?m[w++]=224|b>>>12:(m[w++]=240|b>>>18,m[w++]=128|b>>>12&63),m[w++]=128|b>>>6&63),m[w++]=128|63&b);return m}(f)},s.utf8decode=function(f){return o.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):function(x){var m,b,h,g,w=x.length,k=new Array(2*w);for(m=b=0;m<w;)if((h=x[m++])<128)k[b++]=h;else if(4<(g=c[h]))k[b++]=65533,m+=g-1;else{for(h&=g===2?31:g===3?15:7;1<g&&m<w;)h=h<<6|63&x[m++],g--;1<g?k[b++]=65533:h<65536?k[b++]=h:(h-=65536,k[b++]=55296|h>>10&1023,k[b++]=56320|1023&h)}return k.length!==b&&(k.subarray?k=k.subarray(0,b):k.length=b),i.applyFromCharCode(k)}(f=i.transformTo(o.uint8array?"uint8array":"array",f))},i.inherits(p,u),p.prototype.processChunk=function(f){var x=i.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=x;(x=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),x.set(m,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var b=function(g,w){var k;for((w=w||g.length)>g.length&&(w=g.length),k=w-1;0<=k&&(192&g[k])==128;)k--;return k<0||k===0?w:k+c[g[k]]>w?k:w}(x),h=x;b!==x.length&&(o.uint8array?(h=x.subarray(0,b),this.leftOver=x.subarray(b,x.length)):(h=x.slice(0,b),this.leftOver=x.slice(b,x.length))),this.push({data:s.utf8decode(h),meta:f.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=p,i.inherits(y,u),y.prototype.processChunk=function(f){this.push({data:s.utf8encode(f.data),meta:f.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var i=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),u=r("./external");function c(m){return m}function d(m,b){for(var h=0;h<m.length;++h)b[h]=255&m.charCodeAt(h);return b}r("setimmediate"),s.newBlob=function(m,b){s.checkSupport("blob");try{return new Blob([m],{type:b})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(m),h.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(m,b,h){var g=[],w=0,k=m.length;if(k<=h)return String.fromCharCode.apply(null,m);for(;w<k;)b==="array"||b==="nodebuffer"?g.push(String.fromCharCode.apply(null,m.slice(w,Math.min(w+h,k)))):g.push(String.fromCharCode.apply(null,m.subarray(w,Math.min(w+h,k)))),w+=h;return g.join("")},stringifyByChar:function(m){for(var b="",h=0;h<m.length;h++)b+=String.fromCharCode(m[h]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function y(m){var b=65536,h=s.getTypeOf(m),g=!0;if(h==="uint8array"?g=p.applyCanBeUsed.uint8array:h==="nodebuffer"&&(g=p.applyCanBeUsed.nodebuffer),g)for(;1<b;)try{return p.stringifyByChunk(m,h,b)}catch{b=Math.floor(b/2)}return p.stringifyByChar(m)}function f(m,b){for(var h=0;h<m.length;h++)b[h]=m[h];return b}s.applyFromCharCode=y;var x={};x.string={string:c,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return x.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,a.allocBuffer(m.length))}},x.array={string:y,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},x.arraybuffer={string:function(m){return y(new Uint8Array(m))},array:function(m){return f(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},x.uint8array={string:y,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return a.newBufferFrom(m)}},x.nodebuffer={string:y,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return x.nodebuffer.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:c},s.transformTo=function(m,b){if(b=b||"",!m)return b;s.checkSupport(m);var h=s.getTypeOf(b);return x[h][m](b)},s.resolve=function(m){for(var b=m.split("/"),h=[],g=0;g<b.length;g++){var w=b[g];w==="."||w===""&&g!==0&&g!==b.length-1||(w===".."?h.pop():h.push(w))}return h.join("/")},s.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(m){var b,h,g="";for(h=0;h<(m||"").length;h++)g+="\\x"+((b=m.charCodeAt(h))<16?"0":"")+b.toString(16).toUpperCase();return g},s.delay=function(m,b,h){setImmediate(function(){m.apply(h||null,b||[])})},s.inherits=function(m,b){function h(){}h.prototype=b.prototype,m.prototype=new h},s.extend=function(){var m,b,h={};for(m=0;m<arguments.length;m++)for(b in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],b)&&h[b]===void 0&&(h[b]=arguments[m][b]);return h},s.prepareContent=function(m,b,h,g,w){return u.Promise.resolve(b).then(function(k){return i.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new u.Promise(function(j,P){var O=new FileReader;O.onload=function(U){j(U.target.result)},O.onerror=function(U){P(U.target.error)},O.readAsArrayBuffer(k)}):k}).then(function(k){var j=s.getTypeOf(k);return j?(j==="arraybuffer"?k=s.transformTo("uint8array",k):j==="string"&&(w?k=o.decode(k):h&&g!==!0&&(k=function(P){return d(P,i.uint8array?new Uint8Array(P.length):new Array(P.length))}(k))),k):u.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var i=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),u=r("./zipEntry"),c=r("./support");function d(p){this.files=[],this.loadOptions=p}d.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(y)+", expected "+o.pretty(p)+")")}},isSignature:function(p,y){var f=this.reader.index;this.reader.setIndex(p);var x=this.reader.readString(4)===y;return this.reader.setIndex(f),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),y=c.uint8array?"uint8array":"array",f=o.transformTo(y,p);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,y,f,x=this.zip64EndOfCentralSize-44;0<x;)p=this.reader.readInt(2),y=this.reader.readInt(4),f=this.reader.readData(y),this.zip64ExtensibleData[p]={id:p,length:y,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,y;for(p=0;p<this.files.length;p++)y=this.files[p],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(p=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var y=p;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var x=y-f;if(0<x)this.isSignature(y,a.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(p){this.reader=i(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var i=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),u=r("./crc32"),c=r("./utf8"),d=r("./compressions"),p=r("./support");function y(f,x){this.options=f,this.loadOptions=x}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var x,m;if(f.skip(22),this.fileNameLength=f.readInt(2),m=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(b){for(var h in d)if(Object.prototype.hasOwnProperty.call(d,h)&&d[h].magic===b)return d[h];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,x,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var x=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(x),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var x,m,b,h=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<h;)x=f.readInt(2),m=f.readInt(2),b=f.readData(m),this.extraFields[x]={id:x,length:m,value:b};f.setIndex(h)},handleUTF8:function(){var f=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var m=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var h=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var x=i(f.value);return x.readInt(1)!==1||u(this.fileName)!==x.readInt(4)?null:c.utf8decode(x.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var x=i(f.value);return x.readInt(1)!==1||u(this.fileComment)!==x.readInt(4)?null:c.utf8decode(x.readData(f.length-5))}return null}},n.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function i(x,m,b){this.name=x,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=m,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),u=r("./utf8"),c=r("./compressedObject"),d=r("./stream/GenericWorker");i.prototype={internalStream:function(x){var m=null,b="string";try{if(!x)throw new Error("No output type specified.");var h=(b=x.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),m=this._decompressWorker();var g=!this._dataBinary;g&&!h&&(m=m.pipe(new u.Utf8EncodeWorker)),!g&&h&&(m=m.pipe(new u.Utf8DecodeWorker))}catch(w){(m=new d("error")).error(w)}return new o(m,b,"")},async:function(x,m){return this.internalStream(x).accumulate(m)},nodeStream:function(x,m){return this.internalStream(x||"nodebuffer").toNodejsStream(m)},_compressWorker:function(x,m){if(this._data instanceof c&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(b,x,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<p.length;f++)i.prototype[p[f]]=y;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(i){var o,a,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var c=0,d=new u(x),p=i.document.createTextNode("");d.observe(p,{characterData:!0}),o=function(){p.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){x(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(x,0)};else{var y=new i.MessageChannel;y.port1.onmessage=x,o=function(){y.port2.postMessage(0)}}var f=[];function x(){var m,b;a=!0;for(var h=f.length;h;){for(b=f,f=[],m=-1;++m<h;)b[m]();h=f.length}a=!1}n.exports=function(m){f.push(m)!==1||a||o()}}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var i=r("immediate");function o(){}var a={},u=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function p(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,h!==o&&m(this,h)}function y(h,g,w){this.promise=h,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function f(h,g,w){i(function(){var k;try{k=g(w)}catch(j){return a.reject(h,j)}k===h?a.reject(h,new TypeError("Cannot resolve promise with itself")):a.resolve(h,k)})}function x(h){var g=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof g=="function")return function(){g.apply(h,arguments)}}function m(h,g){var w=!1;function k(O){w||(w=!0,a.reject(h,O))}function j(O){w||(w=!0,a.resolve(h,O))}var P=b(function(){g(j,k)});P.status==="error"&&k(P.value)}function b(h,g){var w={};try{w.value=h(g),w.status="success"}catch(k){w.status="error",w.value=k}return w}(n.exports=p).prototype.finally=function(h){if(typeof h!="function")return this;var g=this.constructor;return this.then(function(w){return g.resolve(h()).then(function(){return w})},function(w){return g.resolve(h()).then(function(){throw w})})},p.prototype.catch=function(h){return this.then(null,h)},p.prototype.then=function(h,g){if(typeof h!="function"&&this.state===c||typeof g!="function"&&this.state===u)return this;var w=new this.constructor(o);return this.state!==d?f(w,this.state===c?h:g,this.outcome):this.queue.push(new y(w,h,g)),w},y.prototype.callFulfilled=function(h){a.resolve(this.promise,h)},y.prototype.otherCallFulfilled=function(h){f(this.promise,this.onFulfilled,h)},y.prototype.callRejected=function(h){a.reject(this.promise,h)},y.prototype.otherCallRejected=function(h){f(this.promise,this.onRejected,h)},a.resolve=function(h,g){var w=b(x,g);if(w.status==="error")return a.reject(h,w.value);var k=w.value;if(k)m(h,k);else{h.state=c,h.outcome=g;for(var j=-1,P=h.queue.length;++j<P;)h.queue[j].callFulfilled(g)}return h},a.reject=function(h,g){h.state=u,h.outcome=g;for(var w=-1,k=h.queue.length;++w<k;)h.queue[w].callRejected(g);return h},p.resolve=function(h){return h instanceof this?h:a.resolve(new this(o),h)},p.reject=function(h){var g=new this(o);return a.reject(g,h)},p.all=function(h){var g=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=h.length,k=!1;if(!w)return this.resolve([]);for(var j=new Array(w),P=0,O=-1,U=new this(o);++O<w;)$(h[O],O);return U;function $(M,re){g.resolve(M).then(function(I){j[re]=I,++P!==w||k||(k=!0,a.resolve(U,j))},function(I){k||(k=!0,a.reject(U,I))})}},p.race=function(h){var g=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=h.length,k=!1;if(!w)return this.resolve([]);for(var j=-1,P=new this(o);++j<w;)O=h[j],g.resolve(O).then(function(U){k||(k=!0,a.resolve(P,U))},function(U){k||(k=!0,a.reject(P,U))});var O;return P}},{immediate:36}],38:[function(r,n,s){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var i=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),u=r("./zlib/messages"),c=r("./zlib/zstream"),d=Object.prototype.toString,p=0,y=-1,f=0,x=8;function m(h){if(!(this instanceof m))return new m(h);this.options=o.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},h||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(w!==p)throw new Error(u[w]);if(g.header&&i.deflateSetHeader(this.strm,g.header),g.dictionary){var k;if(k=typeof g.dictionary=="string"?a.string2buf(g.dictionary):d.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(w=i.deflateSetDictionary(this.strm,k))!==p)throw new Error(u[w]);this._dict_set=!0}}function b(h,g){var w=new m(g);if(w.push(h,!0),w.err)throw w.msg||u[w.err];return w.result}m.prototype.push=function(h,g){var w,k,j=this.strm,P=this.options.chunkSize;if(this.ended)return!1;k=g===~~g?g:g===!0?4:0,typeof h=="string"?j.input=a.string2buf(h):d.call(h)==="[object ArrayBuffer]"?j.input=new Uint8Array(h):j.input=h,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(P),j.next_out=0,j.avail_out=P),(w=i.deflate(j,k))!==1&&w!==p)return this.onEnd(w),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(j.output,j.next_out))):this.onData(o.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&w!==1);return k===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===p):k!==2||(this.onEnd(p),!(j.avail_out=0))},m.prototype.onData=function(h){this.chunks.push(h)},m.prototype.onEnd=function(h){h===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},s.Deflate=m,s.deflate=b,s.deflateRaw=function(h,g){return(g=g||{}).raw=!0,b(h,g)},s.gzip=function(h,g){return(g=g||{}).gzip=!0,b(h,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var i=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),u=r("./zlib/constants"),c=r("./zlib/messages"),d=r("./zlib/zstream"),p=r("./zlib/gzheader"),y=Object.prototype.toString;function f(m){if(!(this instanceof f))return new f(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||m&&m.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var h=i.inflateInit2(this.strm,b.windowBits);if(h!==u.Z_OK)throw new Error(c[h]);this.header=new p,i.inflateGetHeader(this.strm,this.header)}function x(m,b){var h=new f(b);if(h.push(m,!0),h.err)throw h.msg||c[h.err];return h.result}f.prototype.push=function(m,b){var h,g,w,k,j,P,O=this.strm,U=this.options.chunkSize,$=this.options.dictionary,M=!1;if(this.ended)return!1;g=b===~~b?b:b===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof m=="string"?O.input=a.binstring2buf(m):y.call(m)==="[object ArrayBuffer]"?O.input=new Uint8Array(m):O.input=m,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(U),O.next_out=0,O.avail_out=U),(h=i.inflate(O,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&$&&(P=typeof $=="string"?a.string2buf($):y.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,h=i.inflateSetDictionary(this.strm,P)),h===u.Z_BUF_ERROR&&M===!0&&(h=u.Z_OK,M=!1),h!==u.Z_STREAM_END&&h!==u.Z_OK)return this.onEnd(h),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&h!==u.Z_STREAM_END&&(O.avail_in!==0||g!==u.Z_FINISH&&g!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(O.output,O.next_out),k=O.next_out-w,j=a.buf2string(O.output,w),O.next_out=k,O.avail_out=U-k,k&&o.arraySet(O.output,O.output,w,k,0),this.onData(j)):this.onData(o.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(M=!0)}while((0<O.avail_in||O.avail_out===0)&&h!==u.Z_STREAM_END);return h===u.Z_STREAM_END&&(g=u.Z_FINISH),g===u.Z_FINISH?(h=i.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===u.Z_OK):g!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(O.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},s.Inflate=f,s.inflate=x,s.inflateRaw=function(m,b){return(b=b||{}).raw=!0,x(m,b)},s.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var p in d)d.hasOwnProperty(p)&&(u[p]=d[p])}}return u},s.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var o={arraySet:function(u,c,d,p,y){if(c.subarray&&u.subarray)u.set(c.subarray(d,d+p),y);else for(var f=0;f<p;f++)u[y+f]=c[d+f]},flattenChunks:function(u){var c,d,p,y,f,x;for(c=p=0,d=u.length;c<d;c++)p+=u[c].length;for(x=new Uint8Array(p),c=y=0,d=u.length;c<d;c++)f=u[c],x.set(f,y),y+=f.length;return x}},a={arraySet:function(u,c,d,p,y){for(var f=0;f<p;f++)u[y+f]=c[d+f]},flattenChunks:function(u){return[].concat.apply([],u)}};s.setTyped=function(u){u?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(r,n,s){var i=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new i.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(p,y){if(y<65537&&(p.subarray&&a||!p.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(p,y));for(var f="",x=0;x<y;x++)f+=String.fromCharCode(p[x]);return f}u[254]=u[254]=1,s.string2buf=function(p){var y,f,x,m,b,h=p.length,g=0;for(m=0;m<h;m++)(64512&(f=p.charCodeAt(m)))==55296&&m+1<h&&(64512&(x=p.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(x-56320),m++),g+=f<128?1:f<2048?2:f<65536?3:4;for(y=new i.Buf8(g),m=b=0;b<g;m++)(64512&(f=p.charCodeAt(m)))==55296&&m+1<h&&(64512&(x=p.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(x-56320),m++),f<128?y[b++]=f:(f<2048?y[b++]=192|f>>>6:(f<65536?y[b++]=224|f>>>12:(y[b++]=240|f>>>18,y[b++]=128|f>>>12&63),y[b++]=128|f>>>6&63),y[b++]=128|63&f);return y},s.buf2binstring=function(p){return d(p,p.length)},s.binstring2buf=function(p){for(var y=new i.Buf8(p.length),f=0,x=y.length;f<x;f++)y[f]=p.charCodeAt(f);return y},s.buf2string=function(p,y){var f,x,m,b,h=y||p.length,g=new Array(2*h);for(f=x=0;f<h;)if((m=p[f++])<128)g[x++]=m;else if(4<(b=u[m]))g[x++]=65533,f+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&f<h;)m=m<<6|63&p[f++],b--;1<b?g[x++]=65533:m<65536?g[x++]=m:(m-=65536,g[x++]=55296|m>>10&1023,g[x++]=56320|1023&m)}return d(g,x)},s.utf8border=function(p,y){var f;for((y=y||p.length)>p.length&&(y=p.length),f=y-1;0<=f&&(192&p[f])==128;)f--;return f<0||f===0?y:f+u[p[f]]>y?f:y}},{"./common":41}],43:[function(r,n,s){n.exports=function(i,o,a,u){for(var c=65535&i|0,d=i>>>16&65535|0,p=0;a!==0;){for(a-=p=2e3<a?2e3:a;d=d+(c=c+o[u++]|0)|0,--p;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var i=function(){for(var o,a=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[u]=o}return a}();n.exports=function(o,a,u,c){var d=i,p=c+u;o^=-1;for(var y=c;y<p;y++)o=o>>>8^d[255&(o^a[y])];return-1^o}},{}],46:[function(r,n,s){var i,o=r("../utils/common"),a=r("./trees"),u=r("./adler32"),c=r("./crc32"),d=r("./messages"),p=0,y=4,f=0,x=-2,m=-1,b=4,h=2,g=8,w=9,k=286,j=30,P=19,O=2*k+1,U=15,$=3,M=258,re=M+$+1,I=42,F=113,_=1,H=2,se=3,K=4;function A(v,G){return v.msg=d[G],G}function L(v){return(v<<1)-(4<v?9:0)}function z(v){for(var G=v.length;0<=--G;)v[G]=0}function E(v){var G=v.state,B=G.pending;B>v.avail_out&&(B=v.avail_out),B!==0&&(o.arraySet(v.output,G.pending_buf,G.pending_out,B,v.next_out),v.next_out+=B,G.pending_out+=B,v.total_out+=B,v.avail_out-=B,G.pending-=B,G.pending===0&&(G.pending_out=0))}function T(v,G){a._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,G),v.block_start=v.strstart,E(v.strm)}function X(v,G){v.pending_buf[v.pending++]=G}function q(v,G){v.pending_buf[v.pending++]=G>>>8&255,v.pending_buf[v.pending++]=255&G}function Z(v,G){var B,N,S=v.max_chain_length,C=v.strstart,W=v.prev_length,D=v.nice_match,R=v.strstart>v.w_size-re?v.strstart-(v.w_size-re):0,V=v.window,ee=v.w_mask,J=v.prev,ne=v.strstart+M,de=V[C+W-1],oe=V[C+W];v.prev_length>=v.good_match&&(S>>=2),D>v.lookahead&&(D=v.lookahead);do if(V[(B=G)+W]===oe&&V[B+W-1]===de&&V[B]===V[C]&&V[++B]===V[C+1]){C+=2,B++;do;while(V[++C]===V[++B]&&V[++C]===V[++B]&&V[++C]===V[++B]&&V[++C]===V[++B]&&V[++C]===V[++B]&&V[++C]===V[++B]&&V[++C]===V[++B]&&V[++C]===V[++B]&&C<ne);if(N=M-(ne-C),C=ne-M,W<N){if(v.match_start=G,D<=(W=N))break;de=V[C+W-1],oe=V[C+W]}}while((G=J[G&ee])>R&&--S!=0);return W<=v.lookahead?W:v.lookahead}function ae(v){var G,B,N,S,C,W,D,R,V,ee,J=v.w_size;do{if(S=v.window_size-v.lookahead-v.strstart,v.strstart>=J+(J-re)){for(o.arraySet(v.window,v.window,J,J,0),v.match_start-=J,v.strstart-=J,v.block_start-=J,G=B=v.hash_size;N=v.head[--G],v.head[G]=J<=N?N-J:0,--B;);for(G=B=J;N=v.prev[--G],v.prev[G]=J<=N?N-J:0,--B;);S+=J}if(v.strm.avail_in===0)break;if(W=v.strm,D=v.window,R=v.strstart+v.lookahead,V=S,ee=void 0,ee=W.avail_in,V<ee&&(ee=V),B=ee===0?0:(W.avail_in-=ee,o.arraySet(D,W.input,W.next_in,ee,R),W.state.wrap===1?W.adler=u(W.adler,D,ee,R):W.state.wrap===2&&(W.adler=c(W.adler,D,ee,R)),W.next_in+=ee,W.total_in+=ee,ee),v.lookahead+=B,v.lookahead+v.insert>=$)for(C=v.strstart-v.insert,v.ins_h=v.window[C],v.ins_h=(v.ins_h<<v.hash_shift^v.window[C+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[C+$-1])&v.hash_mask,v.prev[C&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=C,C++,v.insert--,!(v.lookahead+v.insert<$)););}while(v.lookahead<re&&v.strm.avail_in!==0)}function ce(v,G){for(var B,N;;){if(v.lookahead<re){if(ae(v),v.lookahead<re&&G===p)return _;if(v.lookahead===0)break}if(B=0,v.lookahead>=$&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+$-1])&v.hash_mask,B=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),B!==0&&v.strstart-B<=v.w_size-re&&(v.match_length=Z(v,B)),v.match_length>=$)if(N=a._tr_tally(v,v.strstart-v.match_start,v.match_length-$),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=$){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+$-1])&v.hash_mask,B=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else N=a._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(N&&(T(v,!1),v.strm.avail_out===0))return _}return v.insert=v.strstart<$-1?v.strstart:$-1,G===y?(T(v,!0),v.strm.avail_out===0?se:K):v.last_lit&&(T(v,!1),v.strm.avail_out===0)?_:H}function ie(v,G){for(var B,N,S;;){if(v.lookahead<re){if(ae(v),v.lookahead<re&&G===p)return _;if(v.lookahead===0)break}if(B=0,v.lookahead>=$&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+$-1])&v.hash_mask,B=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=$-1,B!==0&&v.prev_length<v.max_lazy_match&&v.strstart-B<=v.w_size-re&&(v.match_length=Z(v,B),v.match_length<=5&&(v.strategy===1||v.match_length===$&&4096<v.strstart-v.match_start)&&(v.match_length=$-1)),v.prev_length>=$&&v.match_length<=v.prev_length){for(S=v.strstart+v.lookahead-$,N=a._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-$),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=S&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+$-1])&v.hash_mask,B=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=$-1,v.strstart++,N&&(T(v,!1),v.strm.avail_out===0))return _}else if(v.match_available){if((N=a._tr_tally(v,0,v.window[v.strstart-1]))&&T(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return _}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(N=a._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<$-1?v.strstart:$-1,G===y?(T(v,!0),v.strm.avail_out===0?se:K):v.last_lit&&(T(v,!1),v.strm.avail_out===0)?_:H}function pe(v,G,B,N,S){this.good_length=v,this.max_lazy=G,this.nice_length=B,this.max_chain=N,this.func=S}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*O),this.dyn_dtree=new o.Buf16(2*(2*j+1)),this.bl_tree=new o.Buf16(2*(2*P+1)),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(U+1),this.heap=new o.Buf16(2*k+1),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*k+1),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function me(v){var G;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=h,(G=v.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?I:F,v.adler=G.wrap===2?0:1,G.last_flush=p,a._tr_init(G),f):A(v,x)}function pt(v){var G=me(v);return G===f&&function(B){B.window_size=2*B.w_size,z(B.head),B.max_lazy_match=i[B.level].max_lazy,B.good_match=i[B.level].good_length,B.nice_match=i[B.level].nice_length,B.max_chain_length=i[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=$-1,B.match_available=0,B.ins_h=0}(v.state),G}function at(v,G,B,N,S,C){if(!v)return x;var W=1;if(G===m&&(G=6),N<0?(W=0,N=-N):15<N&&(W=2,N-=16),S<1||w<S||B!==g||N<8||15<N||G<0||9<G||C<0||b<C)return A(v,x);N===8&&(N=9);var D=new ye;return(v.state=D).strm=v,D.wrap=W,D.gzhead=null,D.w_bits=N,D.w_size=1<<D.w_bits,D.w_mask=D.w_size-1,D.hash_bits=S+7,D.hash_size=1<<D.hash_bits,D.hash_mask=D.hash_size-1,D.hash_shift=~~((D.hash_bits+$-1)/$),D.window=new o.Buf8(2*D.w_size),D.head=new o.Buf16(D.hash_size),D.prev=new o.Buf16(D.w_size),D.lit_bufsize=1<<S+6,D.pending_buf_size=4*D.lit_bufsize,D.pending_buf=new o.Buf8(D.pending_buf_size),D.d_buf=1*D.lit_bufsize,D.l_buf=3*D.lit_bufsize,D.level=G,D.strategy=C,D.method=B,pt(v)}i=[new pe(0,0,0,0,function(v,G){var B=65535;for(B>v.pending_buf_size-5&&(B=v.pending_buf_size-5);;){if(v.lookahead<=1){if(ae(v),v.lookahead===0&&G===p)return _;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var N=v.block_start+B;if((v.strstart===0||v.strstart>=N)&&(v.lookahead=v.strstart-N,v.strstart=N,T(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-re&&(T(v,!1),v.strm.avail_out===0))return _}return v.insert=0,G===y?(T(v,!0),v.strm.avail_out===0?se:K):(v.strstart>v.block_start&&(T(v,!1),v.strm.avail_out),_)}),new pe(4,4,8,4,ce),new pe(4,5,16,8,ce),new pe(4,6,32,32,ce),new pe(4,4,16,16,ie),new pe(8,16,32,32,ie),new pe(8,16,128,128,ie),new pe(8,32,128,256,ie),new pe(32,128,258,1024,ie),new pe(32,258,258,4096,ie)],s.deflateInit=function(v,G){return at(v,G,g,15,8,0)},s.deflateInit2=at,s.deflateReset=pt,s.deflateResetKeep=me,s.deflateSetHeader=function(v,G){return v&&v.state?v.state.wrap!==2?x:(v.state.gzhead=G,f):x},s.deflate=function(v,G){var B,N,S,C;if(!v||!v.state||5<G||G<0)return v?A(v,x):x;if(N=v.state,!v.output||!v.input&&v.avail_in!==0||N.status===666&&G!==y)return A(v,v.avail_out===0?-5:x);if(N.strm=v,B=N.last_flush,N.last_flush=G,N.status===I)if(N.wrap===2)v.adler=0,X(N,31),X(N,139),X(N,8),N.gzhead?(X(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),X(N,255&N.gzhead.time),X(N,N.gzhead.time>>8&255),X(N,N.gzhead.time>>16&255),X(N,N.gzhead.time>>24&255),X(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),X(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(X(N,255&N.gzhead.extra.length),X(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(v.adler=c(v.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(X(N,0),X(N,0),X(N,0),X(N,0),X(N,0),X(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),X(N,3),N.status=F);else{var W=g+(N.w_bits-8<<4)<<8;W|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(W|=32),W+=31-W%31,N.status=F,q(N,W),N.strstart!==0&&(q(N,v.adler>>>16),q(N,65535&v.adler)),v.adler=1}if(N.status===69)if(N.gzhead.extra){for(S=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>S&&(v.adler=c(v.adler,N.pending_buf,N.pending-S,S)),E(v),S=N.pending,N.pending!==N.pending_buf_size));)X(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>S&&(v.adler=c(v.adler,N.pending_buf,N.pending-S,S)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){S=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>S&&(v.adler=c(v.adler,N.pending_buf,N.pending-S,S)),E(v),S=N.pending,N.pending===N.pending_buf_size)){C=1;break}C=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,X(N,C)}while(C!==0);N.gzhead.hcrc&&N.pending>S&&(v.adler=c(v.adler,N.pending_buf,N.pending-S,S)),C===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){S=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>S&&(v.adler=c(v.adler,N.pending_buf,N.pending-S,S)),E(v),S=N.pending,N.pending===N.pending_buf_size)){C=1;break}C=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,X(N,C)}while(C!==0);N.gzhead.hcrc&&N.pending>S&&(v.adler=c(v.adler,N.pending_buf,N.pending-S,S)),C===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&E(v),N.pending+2<=N.pending_buf_size&&(X(N,255&v.adler),X(N,v.adler>>8&255),v.adler=0,N.status=F)):N.status=F),N.pending!==0){if(E(v),v.avail_out===0)return N.last_flush=-1,f}else if(v.avail_in===0&&L(G)<=L(B)&&G!==y)return A(v,-5);if(N.status===666&&v.avail_in!==0)return A(v,-5);if(v.avail_in!==0||N.lookahead!==0||G!==p&&N.status!==666){var D=N.strategy===2?function(R,V){for(var ee;;){if(R.lookahead===0&&(ae(R),R.lookahead===0)){if(V===p)return _;break}if(R.match_length=0,ee=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,ee&&(T(R,!1),R.strm.avail_out===0))return _}return R.insert=0,V===y?(T(R,!0),R.strm.avail_out===0?se:K):R.last_lit&&(T(R,!1),R.strm.avail_out===0)?_:H}(N,G):N.strategy===3?function(R,V){for(var ee,J,ne,de,oe=R.window;;){if(R.lookahead<=M){if(ae(R),R.lookahead<=M&&V===p)return _;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=$&&0<R.strstart&&(J=oe[ne=R.strstart-1])===oe[++ne]&&J===oe[++ne]&&J===oe[++ne]){de=R.strstart+M;do;while(J===oe[++ne]&&J===oe[++ne]&&J===oe[++ne]&&J===oe[++ne]&&J===oe[++ne]&&J===oe[++ne]&&J===oe[++ne]&&J===oe[++ne]&&ne<de);R.match_length=M-(de-ne),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=$?(ee=a._tr_tally(R,1,R.match_length-$),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(ee=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),ee&&(T(R,!1),R.strm.avail_out===0))return _}return R.insert=0,V===y?(T(R,!0),R.strm.avail_out===0?se:K):R.last_lit&&(T(R,!1),R.strm.avail_out===0)?_:H}(N,G):i[N.level].func(N,G);if(D!==se&&D!==K||(N.status=666),D===_||D===se)return v.avail_out===0&&(N.last_flush=-1),f;if(D===H&&(G===1?a._tr_align(N):G!==5&&(a._tr_stored_block(N,0,0,!1),G===3&&(z(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),E(v),v.avail_out===0))return N.last_flush=-1,f}return G!==y?f:N.wrap<=0?1:(N.wrap===2?(X(N,255&v.adler),X(N,v.adler>>8&255),X(N,v.adler>>16&255),X(N,v.adler>>24&255),X(N,255&v.total_in),X(N,v.total_in>>8&255),X(N,v.total_in>>16&255),X(N,v.total_in>>24&255)):(q(N,v.adler>>>16),q(N,65535&v.adler)),E(v),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?f:1)},s.deflateEnd=function(v){var G;return v&&v.state?(G=v.state.status)!==I&&G!==69&&G!==73&&G!==91&&G!==103&&G!==F&&G!==666?A(v,x):(v.state=null,G===F?A(v,-3):f):x},s.deflateSetDictionary=function(v,G){var B,N,S,C,W,D,R,V,ee=G.length;if(!v||!v.state||(C=(B=v.state).wrap)===2||C===1&&B.status!==I||B.lookahead)return x;for(C===1&&(v.adler=u(v.adler,G,ee,0)),B.wrap=0,ee>=B.w_size&&(C===0&&(z(B.head),B.strstart=0,B.block_start=0,B.insert=0),V=new o.Buf8(B.w_size),o.arraySet(V,G,ee-B.w_size,B.w_size,0),G=V,ee=B.w_size),W=v.avail_in,D=v.next_in,R=v.input,v.avail_in=ee,v.next_in=0,v.input=G,ae(B);B.lookahead>=$;){for(N=B.strstart,S=B.lookahead-($-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[N+$-1])&B.hash_mask,B.prev[N&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=N,N++,--S;);B.strstart=N,B.lookahead=$-1,ae(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=$-1,B.match_available=0,v.next_in=D,v.input=R,v.avail_in=W,B.wrap=C,f},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(i,o){var a,u,c,d,p,y,f,x,m,b,h,g,w,k,j,P,O,U,$,M,re,I,F,_,H;a=i.state,u=i.next_in,_=i.input,c=u+(i.avail_in-5),d=i.next_out,H=i.output,p=d-(o-i.avail_out),y=d+(i.avail_out-257),f=a.dmax,x=a.wsize,m=a.whave,b=a.wnext,h=a.window,g=a.hold,w=a.bits,k=a.lencode,j=a.distcode,P=(1<<a.lenbits)-1,O=(1<<a.distbits)-1;e:do{w<15&&(g+=_[u++]<<w,w+=8,g+=_[u++]<<w,w+=8),U=k[g&P];t:for(;;){if(g>>>=$=U>>>24,w-=$,($=U>>>16&255)===0)H[d++]=65535&U;else{if(!(16&$)){if(!(64&$)){U=k[(65535&U)+(g&(1<<$)-1)];continue t}if(32&$){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}M=65535&U,($&=15)&&(w<$&&(g+=_[u++]<<w,w+=8),M+=g&(1<<$)-1,g>>>=$,w-=$),w<15&&(g+=_[u++]<<w,w+=8,g+=_[u++]<<w,w+=8),U=j[g&O];r:for(;;){if(g>>>=$=U>>>24,w-=$,!(16&($=U>>>16&255))){if(!(64&$)){U=j[(65535&U)+(g&(1<<$)-1)];continue r}i.msg="invalid distance code",a.mode=30;break e}if(re=65535&U,w<($&=15)&&(g+=_[u++]<<w,(w+=8)<$&&(g+=_[u++]<<w,w+=8)),f<(re+=g&(1<<$)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(g>>>=$,w-=$,($=d-p)<re){if(m<($=re-$)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(F=h,(I=0)===b){if(I+=x-$,$<M){for(M-=$;H[d++]=h[I++],--$;);I=d-re,F=H}}else if(b<$){if(I+=x+b-$,($-=b)<M){for(M-=$;H[d++]=h[I++],--$;);if(I=0,b<M){for(M-=$=b;H[d++]=h[I++],--$;);I=d-re,F=H}}}else if(I+=b-$,$<M){for(M-=$;H[d++]=h[I++],--$;);I=d-re,F=H}for(;2<M;)H[d++]=F[I++],H[d++]=F[I++],H[d++]=F[I++],M-=3;M&&(H[d++]=F[I++],1<M&&(H[d++]=F[I++]))}else{for(I=d-re;H[d++]=H[I++],H[d++]=H[I++],H[d++]=H[I++],2<(M-=3););M&&(H[d++]=H[I++],1<M&&(H[d++]=H[I++]))}break}}break}}while(u<c&&d<y);u-=M=w>>3,g&=(1<<(w-=M<<3))-1,i.next_in=u,i.next_out=d,i.avail_in=u<c?c-u+5:5-(u-c),i.avail_out=d<y?y-d+257:257-(d-y),a.hold=g,a.bits=w}},{}],49:[function(r,n,s){var i=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),u=r("./inffast"),c=r("./inftrees"),d=1,p=2,y=0,f=-2,x=1,m=852,b=592;function h(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(I){var F;return I&&I.state?(F=I.state,I.total_in=I.total_out=F.total=0,I.msg="",F.wrap&&(I.adler=1&F.wrap),F.mode=x,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new i.Buf32(m),F.distcode=F.distdyn=new i.Buf32(b),F.sane=1,F.back=-1,y):f}function k(I){var F;return I&&I.state?((F=I.state).wsize=0,F.whave=0,F.wnext=0,w(I)):f}function j(I,F){var _,H;return I&&I.state?(H=I.state,F<0?(_=0,F=-F):(_=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?f:(H.window!==null&&H.wbits!==F&&(H.window=null),H.wrap=_,H.wbits=F,k(I))):f}function P(I,F){var _,H;return I?(H=new g,(I.state=H).window=null,(_=j(I,F))!==y&&(I.state=null),_):f}var O,U,$=!0;function M(I){if($){var F;for(O=new i.Buf32(512),U=new i.Buf32(32),F=0;F<144;)I.lens[F++]=8;for(;F<256;)I.lens[F++]=9;for(;F<280;)I.lens[F++]=7;for(;F<288;)I.lens[F++]=8;for(c(d,I.lens,0,288,O,0,I.work,{bits:9}),F=0;F<32;)I.lens[F++]=5;c(p,I.lens,0,32,U,0,I.work,{bits:5}),$=!1}I.lencode=O,I.lenbits=9,I.distcode=U,I.distbits=5}function re(I,F,_,H){var se,K=I.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new i.Buf8(K.wsize)),H>=K.wsize?(i.arraySet(K.window,F,_-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(H<(se=K.wsize-K.wnext)&&(se=H),i.arraySet(K.window,F,_-H,se,K.wnext),(H-=se)?(i.arraySet(K.window,F,_-H,H,0),K.wnext=H,K.whave=K.wsize):(K.wnext+=se,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=se))),0}s.inflateReset=k,s.inflateReset2=j,s.inflateResetKeep=w,s.inflateInit=function(I){return P(I,15)},s.inflateInit2=P,s.inflate=function(I,F){var _,H,se,K,A,L,z,E,T,X,q,Z,ae,ce,ie,pe,ye,me,pt,at,v,G,B,N,S=0,C=new i.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return f;(_=I.state).mode===12&&(_.mode=13),A=I.next_out,se=I.output,z=I.avail_out,K=I.next_in,H=I.input,L=I.avail_in,E=_.hold,T=_.bits,X=L,q=z,G=y;e:for(;;)switch(_.mode){case x:if(_.wrap===0){_.mode=13;break}for(;T<16;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if(2&_.wrap&&E===35615){C[_.check=0]=255&E,C[1]=E>>>8&255,_.check=a(_.check,C,2,0),T=E=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&E)<<8)+(E>>8))%31){I.msg="incorrect header check",_.mode=30;break}if((15&E)!=8){I.msg="unknown compression method",_.mode=30;break}if(T-=4,v=8+(15&(E>>>=4)),_.wbits===0)_.wbits=v;else if(v>_.wbits){I.msg="invalid window size",_.mode=30;break}_.dmax=1<<v,I.adler=_.check=1,_.mode=512&E?10:12,T=E=0;break;case 2:for(;T<16;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if(_.flags=E,(255&_.flags)!=8){I.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){I.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=E>>8&1),512&_.flags&&(C[0]=255&E,C[1]=E>>>8&255,_.check=a(_.check,C,2,0)),T=E=0,_.mode=3;case 3:for(;T<32;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}_.head&&(_.head.time=E),512&_.flags&&(C[0]=255&E,C[1]=E>>>8&255,C[2]=E>>>16&255,C[3]=E>>>24&255,_.check=a(_.check,C,4,0)),T=E=0,_.mode=4;case 4:for(;T<16;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}_.head&&(_.head.xflags=255&E,_.head.os=E>>8),512&_.flags&&(C[0]=255&E,C[1]=E>>>8&255,_.check=a(_.check,C,2,0)),T=E=0,_.mode=5;case 5:if(1024&_.flags){for(;T<16;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}_.length=E,_.head&&(_.head.extra_len=E),512&_.flags&&(C[0]=255&E,C[1]=E>>>8&255,_.check=a(_.check,C,2,0)),T=E=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(L<(Z=_.length)&&(Z=L),Z&&(_.head&&(v=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),i.arraySet(_.head.extra,H,K,Z,v)),512&_.flags&&(_.check=a(_.check,H,Z,K)),L-=Z,K+=Z,_.length-=Z),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(L===0)break e;for(Z=0;v=H[K+Z++],_.head&&v&&_.length<65536&&(_.head.name+=String.fromCharCode(v)),v&&Z<L;);if(512&_.flags&&(_.check=a(_.check,H,Z,K)),L-=Z,K+=Z,v)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(L===0)break e;for(Z=0;v=H[K+Z++],_.head&&v&&_.length<65536&&(_.head.comment+=String.fromCharCode(v)),v&&Z<L;);if(512&_.flags&&(_.check=a(_.check,H,Z,K)),L-=Z,K+=Z,v)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;T<16;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if(E!==(65535&_.check)){I.msg="header crc mismatch",_.mode=30;break}T=E=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),I.adler=_.check=0,_.mode=12;break;case 10:for(;T<32;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}I.adler=_.check=h(E),T=E=0,_.mode=11;case 11:if(_.havedict===0)return I.next_out=A,I.avail_out=z,I.next_in=K,I.avail_in=L,_.hold=E,_.bits=T,2;I.adler=_.check=1,_.mode=12;case 12:if(F===5||F===6)break e;case 13:if(_.last){E>>>=7&T,T-=7&T,_.mode=27;break}for(;T<3;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}switch(_.last=1&E,T-=1,3&(E>>>=1)){case 0:_.mode=14;break;case 1:if(M(_),_.mode=20,F!==6)break;E>>>=2,T-=2;break e;case 2:_.mode=17;break;case 3:I.msg="invalid block type",_.mode=30}E>>>=2,T-=2;break;case 14:for(E>>>=7&T,T-=7&T;T<32;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if((65535&E)!=(E>>>16^65535)){I.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&E,T=E=0,_.mode=15,F===6)break e;case 15:_.mode=16;case 16:if(Z=_.length){if(L<Z&&(Z=L),z<Z&&(Z=z),Z===0)break e;i.arraySet(se,H,K,Z,A),L-=Z,K+=Z,z-=Z,A+=Z,_.length-=Z;break}_.mode=12;break;case 17:for(;T<14;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if(_.nlen=257+(31&E),E>>>=5,T-=5,_.ndist=1+(31&E),E>>>=5,T-=5,_.ncode=4+(15&E),E>>>=4,T-=4,286<_.nlen||30<_.ndist){I.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;T<3;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}_.lens[W[_.have++]]=7&E,E>>>=3,T-=3}for(;_.have<19;)_.lens[W[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,B={bits:_.lenbits},G=c(0,_.lens,0,19,_.lencode,0,_.work,B),_.lenbits=B.bits,G){I.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;pe=(S=_.lencode[E&(1<<_.lenbits)-1])>>>16&255,ye=65535&S,!((ie=S>>>24)<=T);){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if(ye<16)E>>>=ie,T-=ie,_.lens[_.have++]=ye;else{if(ye===16){for(N=ie+2;T<N;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if(E>>>=ie,T-=ie,_.have===0){I.msg="invalid bit length repeat",_.mode=30;break}v=_.lens[_.have-1],Z=3+(3&E),E>>>=2,T-=2}else if(ye===17){for(N=ie+3;T<N;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}T-=ie,v=0,Z=3+(7&(E>>>=ie)),E>>>=3,T-=3}else{for(N=ie+7;T<N;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}T-=ie,v=0,Z=11+(127&(E>>>=ie)),E>>>=7,T-=7}if(_.have+Z>_.nlen+_.ndist){I.msg="invalid bit length repeat",_.mode=30;break}for(;Z--;)_.lens[_.have++]=v}}if(_.mode===30)break;if(_.lens[256]===0){I.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,B={bits:_.lenbits},G=c(d,_.lens,0,_.nlen,_.lencode,0,_.work,B),_.lenbits=B.bits,G){I.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,B={bits:_.distbits},G=c(p,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,B),_.distbits=B.bits,G){I.msg="invalid distances set",_.mode=30;break}if(_.mode=20,F===6)break e;case 20:_.mode=21;case 21:if(6<=L&&258<=z){I.next_out=A,I.avail_out=z,I.next_in=K,I.avail_in=L,_.hold=E,_.bits=T,u(I,q),A=I.next_out,se=I.output,z=I.avail_out,K=I.next_in,H=I.input,L=I.avail_in,E=_.hold,T=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;pe=(S=_.lencode[E&(1<<_.lenbits)-1])>>>16&255,ye=65535&S,!((ie=S>>>24)<=T);){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if(pe&&!(240&pe)){for(me=ie,pt=pe,at=ye;pe=(S=_.lencode[at+((E&(1<<me+pt)-1)>>me)])>>>16&255,ye=65535&S,!(me+(ie=S>>>24)<=T);){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}E>>>=me,T-=me,_.back+=me}if(E>>>=ie,T-=ie,_.back+=ie,_.length=ye,pe===0){_.mode=26;break}if(32&pe){_.back=-1,_.mode=12;break}if(64&pe){I.msg="invalid literal/length code",_.mode=30;break}_.extra=15&pe,_.mode=22;case 22:if(_.extra){for(N=_.extra;T<N;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}_.length+=E&(1<<_.extra)-1,E>>>=_.extra,T-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;pe=(S=_.distcode[E&(1<<_.distbits)-1])>>>16&255,ye=65535&S,!((ie=S>>>24)<=T);){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if(!(240&pe)){for(me=ie,pt=pe,at=ye;pe=(S=_.distcode[at+((E&(1<<me+pt)-1)>>me)])>>>16&255,ye=65535&S,!(me+(ie=S>>>24)<=T);){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}E>>>=me,T-=me,_.back+=me}if(E>>>=ie,T-=ie,_.back+=ie,64&pe){I.msg="invalid distance code",_.mode=30;break}_.offset=ye,_.extra=15&pe,_.mode=24;case 24:if(_.extra){for(N=_.extra;T<N;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}_.offset+=E&(1<<_.extra)-1,E>>>=_.extra,T-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){I.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(z===0)break e;if(Z=q-z,_.offset>Z){if((Z=_.offset-Z)>_.whave&&_.sane){I.msg="invalid distance too far back",_.mode=30;break}ae=Z>_.wnext?(Z-=_.wnext,_.wsize-Z):_.wnext-Z,Z>_.length&&(Z=_.length),ce=_.window}else ce=se,ae=A-_.offset,Z=_.length;for(z<Z&&(Z=z),z-=Z,_.length-=Z;se[A++]=ce[ae++],--Z;);_.length===0&&(_.mode=21);break;case 26:if(z===0)break e;se[A++]=_.length,z--,_.mode=21;break;case 27:if(_.wrap){for(;T<32;){if(L===0)break e;L--,E|=H[K++]<<T,T+=8}if(q-=z,I.total_out+=q,_.total+=q,q&&(I.adler=_.check=_.flags?a(_.check,se,q,A-q):o(_.check,se,q,A-q)),q=z,(_.flags?E:h(E))!==_.check){I.msg="incorrect data check",_.mode=30;break}T=E=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;T<32;){if(L===0)break e;L--,E+=H[K++]<<T,T+=8}if(E!==(4294967295&_.total)){I.msg="incorrect length check",_.mode=30;break}T=E=0}_.mode=29;case 29:G=1;break e;case 30:G=-3;break e;case 31:return-4;case 32:default:return f}return I.next_out=A,I.avail_out=z,I.next_in=K,I.avail_in=L,_.hold=E,_.bits=T,(_.wsize||q!==I.avail_out&&_.mode<30&&(_.mode<27||F!==4))&&re(I,I.output,I.next_out,q-I.avail_out)?(_.mode=31,-4):(X-=I.avail_in,q-=I.avail_out,I.total_in+=X,I.total_out+=q,_.total+=q,_.wrap&&q&&(I.adler=_.check=_.flags?a(_.check,se,q,I.next_out-q):o(_.check,se,q,I.next_out-q)),I.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(X==0&&q===0||F===4)&&G===y&&(G=-5),G)},s.inflateEnd=function(I){if(!I||!I.state)return f;var F=I.state;return F.window&&(F.window=null),I.state=null,y},s.inflateGetHeader=function(I,F){var _;return I&&I.state&&2&(_=I.state).wrap?((_.head=F).done=!1,y):f},s.inflateSetDictionary=function(I,F){var _,H=F.length;return I&&I.state?(_=I.state).wrap!==0&&_.mode!==11?f:_.mode===11&&o(1,F,H,0)!==_.check?-3:re(I,F,H,H)?(_.mode=31,-4):(_.havedict=1,y):f},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,p,y,f,x,m,b,h){var g,w,k,j,P,O,U,$,M,re=h.bits,I=0,F=0,_=0,H=0,se=0,K=0,A=0,L=0,z=0,E=0,T=null,X=0,q=new i.Buf16(16),Z=new i.Buf16(16),ae=null,ce=0;for(I=0;I<=15;I++)q[I]=0;for(F=0;F<f;F++)q[p[y+F]]++;for(se=re,H=15;1<=H&&q[H]===0;H--);if(H<se&&(se=H),H===0)return x[m++]=20971520,x[m++]=20971520,h.bits=1,0;for(_=1;_<H&&q[_]===0;_++);for(se<_&&(se=_),I=L=1;I<=15;I++)if(L<<=1,(L-=q[I])<0)return-1;if(0<L&&(d===0||H!==1))return-1;for(Z[1]=0,I=1;I<15;I++)Z[I+1]=Z[I]+q[I];for(F=0;F<f;F++)p[y+F]!==0&&(b[Z[p[y+F]]++]=F);if(O=d===0?(T=ae=b,19):d===1?(T=o,X-=257,ae=a,ce-=257,256):(T=u,ae=c,-1),I=_,P=m,A=F=E=0,k=-1,j=(z=1<<(K=se))-1,d===1&&852<z||d===2&&592<z)return 1;for(;;){for(U=I-A,M=b[F]<O?($=0,b[F]):b[F]>O?($=ae[ce+b[F]],T[X+b[F]]):($=96,0),g=1<<I-A,_=w=1<<K;x[P+(E>>A)+(w-=g)]=U<<24|$<<16|M|0,w!==0;);for(g=1<<I-1;E&g;)g>>=1;if(g!==0?(E&=g-1,E+=g):E=0,F++,--q[I]==0){if(I===H)break;I=p[y+b[F]]}if(se<I&&(E&j)!==k){for(A===0&&(A=se),P+=_,L=1<<(K=I-A);K+A<H&&!((L-=q[K+A])<=0);)K++,L<<=1;if(z+=1<<K,d===1&&852<z||d===2&&592<z)return 1;x[k=E&j]=se<<24|K<<16|P-m|0}}return E!==0&&(x[P+E]=I-A<<24|64<<16|0),h.bits=se,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var i=r("../utils/common"),o=0,a=1;function u(S){for(var C=S.length;0<=--C;)S[C]=0}var c=0,d=29,p=256,y=p+1+d,f=30,x=19,m=2*y+1,b=15,h=16,g=7,w=256,k=16,j=17,P=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(y+2));u(re);var I=new Array(2*f);u(I);var F=new Array(512);u(F);var _=new Array(256);u(_);var H=new Array(d);u(H);var se,K,A,L=new Array(f);function z(S,C,W,D,R){this.static_tree=S,this.extra_bits=C,this.extra_base=W,this.elems=D,this.max_length=R,this.has_stree=S&&S.length}function E(S,C){this.dyn_tree=S,this.max_code=0,this.stat_desc=C}function T(S){return S<256?F[S]:F[256+(S>>>7)]}function X(S,C){S.pending_buf[S.pending++]=255&C,S.pending_buf[S.pending++]=C>>>8&255}function q(S,C,W){S.bi_valid>h-W?(S.bi_buf|=C<<S.bi_valid&65535,X(S,S.bi_buf),S.bi_buf=C>>h-S.bi_valid,S.bi_valid+=W-h):(S.bi_buf|=C<<S.bi_valid&65535,S.bi_valid+=W)}function Z(S,C,W){q(S,W[2*C],W[2*C+1])}function ae(S,C){for(var W=0;W|=1&S,S>>>=1,W<<=1,0<--C;);return W>>>1}function ce(S,C,W){var D,R,V=new Array(b+1),ee=0;for(D=1;D<=b;D++)V[D]=ee=ee+W[D-1]<<1;for(R=0;R<=C;R++){var J=S[2*R+1];J!==0&&(S[2*R]=ae(V[J]++,J))}}function ie(S){var C;for(C=0;C<y;C++)S.dyn_ltree[2*C]=0;for(C=0;C<f;C++)S.dyn_dtree[2*C]=0;for(C=0;C<x;C++)S.bl_tree[2*C]=0;S.dyn_ltree[2*w]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function pe(S){8<S.bi_valid?X(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function ye(S,C,W,D){var R=2*C,V=2*W;return S[R]<S[V]||S[R]===S[V]&&D[C]<=D[W]}function me(S,C,W){for(var D=S.heap[W],R=W<<1;R<=S.heap_len&&(R<S.heap_len&&ye(C,S.heap[R+1],S.heap[R],S.depth)&&R++,!ye(C,D,S.heap[R],S.depth));)S.heap[W]=S.heap[R],W=R,R<<=1;S.heap[W]=D}function pt(S,C,W){var D,R,V,ee,J=0;if(S.last_lit!==0)for(;D=S.pending_buf[S.d_buf+2*J]<<8|S.pending_buf[S.d_buf+2*J+1],R=S.pending_buf[S.l_buf+J],J++,D===0?Z(S,R,C):(Z(S,(V=_[R])+p+1,C),(ee=O[V])!==0&&q(S,R-=H[V],ee),Z(S,V=T(--D),W),(ee=U[V])!==0&&q(S,D-=L[V],ee)),J<S.last_lit;);Z(S,w,C)}function at(S,C){var W,D,R,V=C.dyn_tree,ee=C.stat_desc.static_tree,J=C.stat_desc.has_stree,ne=C.stat_desc.elems,de=-1;for(S.heap_len=0,S.heap_max=m,W=0;W<ne;W++)V[2*W]!==0?(S.heap[++S.heap_len]=de=W,S.depth[W]=0):V[2*W+1]=0;for(;S.heap_len<2;)V[2*(R=S.heap[++S.heap_len]=de<2?++de:0)]=1,S.depth[R]=0,S.opt_len--,J&&(S.static_len-=ee[2*R+1]);for(C.max_code=de,W=S.heap_len>>1;1<=W;W--)me(S,V,W);for(R=ne;W=S.heap[1],S.heap[1]=S.heap[S.heap_len--],me(S,V,1),D=S.heap[1],S.heap[--S.heap_max]=W,S.heap[--S.heap_max]=D,V[2*R]=V[2*W]+V[2*D],S.depth[R]=(S.depth[W]>=S.depth[D]?S.depth[W]:S.depth[D])+1,V[2*W+1]=V[2*D+1]=R,S.heap[1]=R++,me(S,V,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],function(oe,Xe){var Qt,we,Pt,Se,As,po,$t=Xe.dyn_tree,eu=Xe.max_code,Af=Xe.stat_desc.static_tree,Rf=Xe.stat_desc.has_stree,Lf=Xe.stat_desc.extra_bits,tu=Xe.stat_desc.extra_base,An=Xe.stat_desc.max_length,Rs=0;for(Se=0;Se<=b;Se++)oe.bl_count[Se]=0;for($t[2*oe.heap[oe.heap_max]+1]=0,Qt=oe.heap_max+1;Qt<m;Qt++)An<(Se=$t[2*$t[2*(we=oe.heap[Qt])+1]+1]+1)&&(Se=An,Rs++),$t[2*we+1]=Se,eu<we||(oe.bl_count[Se]++,As=0,tu<=we&&(As=Lf[we-tu]),po=$t[2*we],oe.opt_len+=po*(Se+As),Rf&&(oe.static_len+=po*(Af[2*we+1]+As)));if(Rs!==0){do{for(Se=An-1;oe.bl_count[Se]===0;)Se--;oe.bl_count[Se]--,oe.bl_count[Se+1]+=2,oe.bl_count[An]--,Rs-=2}while(0<Rs);for(Se=An;Se!==0;Se--)for(we=oe.bl_count[Se];we!==0;)eu<(Pt=oe.heap[--Qt])||($t[2*Pt+1]!==Se&&(oe.opt_len+=(Se-$t[2*Pt+1])*$t[2*Pt],$t[2*Pt+1]=Se),we--)}}(S,C),ce(V,de,S.bl_count)}function v(S,C,W){var D,R,V=-1,ee=C[1],J=0,ne=7,de=4;for(ee===0&&(ne=138,de=3),C[2*(W+1)+1]=65535,D=0;D<=W;D++)R=ee,ee=C[2*(D+1)+1],++J<ne&&R===ee||(J<de?S.bl_tree[2*R]+=J:R!==0?(R!==V&&S.bl_tree[2*R]++,S.bl_tree[2*k]++):J<=10?S.bl_tree[2*j]++:S.bl_tree[2*P]++,V=R,de=(J=0)===ee?(ne=138,3):R===ee?(ne=6,3):(ne=7,4))}function G(S,C,W){var D,R,V=-1,ee=C[1],J=0,ne=7,de=4;for(ee===0&&(ne=138,de=3),D=0;D<=W;D++)if(R=ee,ee=C[2*(D+1)+1],!(++J<ne&&R===ee)){if(J<de)for(;Z(S,R,S.bl_tree),--J!=0;);else R!==0?(R!==V&&(Z(S,R,S.bl_tree),J--),Z(S,k,S.bl_tree),q(S,J-3,2)):J<=10?(Z(S,j,S.bl_tree),q(S,J-3,3)):(Z(S,P,S.bl_tree),q(S,J-11,7));V=R,de=(J=0)===ee?(ne=138,3):R===ee?(ne=6,3):(ne=7,4)}}u(L);var B=!1;function N(S,C,W,D){q(S,(c<<1)+(D?1:0),3),function(R,V,ee,J){pe(R),X(R,ee),X(R,~ee),i.arraySet(R.pending_buf,R.window,V,ee,R.pending),R.pending+=ee}(S,C,W)}s._tr_init=function(S){B||(function(){var C,W,D,R,V,ee=new Array(b+1);for(R=D=0;R<d-1;R++)for(H[R]=D,C=0;C<1<<O[R];C++)_[D++]=R;for(_[D-1]=R,R=V=0;R<16;R++)for(L[R]=V,C=0;C<1<<U[R];C++)F[V++]=R;for(V>>=7;R<f;R++)for(L[R]=V<<7,C=0;C<1<<U[R]-7;C++)F[256+V++]=R;for(W=0;W<=b;W++)ee[W]=0;for(C=0;C<=143;)re[2*C+1]=8,C++,ee[8]++;for(;C<=255;)re[2*C+1]=9,C++,ee[9]++;for(;C<=279;)re[2*C+1]=7,C++,ee[7]++;for(;C<=287;)re[2*C+1]=8,C++,ee[8]++;for(ce(re,y+1,ee),C=0;C<f;C++)I[2*C+1]=5,I[2*C]=ae(C,5);se=new z(re,O,p+1,y,b),K=new z(I,U,0,f,b),A=new z(new Array(0),$,0,x,g)}(),B=!0),S.l_desc=new E(S.dyn_ltree,se),S.d_desc=new E(S.dyn_dtree,K),S.bl_desc=new E(S.bl_tree,A),S.bi_buf=0,S.bi_valid=0,ie(S)},s._tr_stored_block=N,s._tr_flush_block=function(S,C,W,D){var R,V,ee=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=function(J){var ne,de=4093624447;for(ne=0;ne<=31;ne++,de>>>=1)if(1&de&&J.dyn_ltree[2*ne]!==0)return o;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return a;for(ne=32;ne<p;ne++)if(J.dyn_ltree[2*ne]!==0)return a;return o}(S)),at(S,S.l_desc),at(S,S.d_desc),ee=function(J){var ne;for(v(J,J.dyn_ltree,J.l_desc.max_code),v(J,J.dyn_dtree,J.d_desc.max_code),at(J,J.bl_desc),ne=x-1;3<=ne&&J.bl_tree[2*M[ne]+1]===0;ne--);return J.opt_len+=3*(ne+1)+5+5+4,ne}(S),R=S.opt_len+3+7>>>3,(V=S.static_len+3+7>>>3)<=R&&(R=V)):R=V=W+5,W+4<=R&&C!==-1?N(S,C,W,D):S.strategy===4||V===R?(q(S,2+(D?1:0),3),pt(S,re,I)):(q(S,4+(D?1:0),3),function(J,ne,de,oe){var Xe;for(q(J,ne-257,5),q(J,de-1,5),q(J,oe-4,4),Xe=0;Xe<oe;Xe++)q(J,J.bl_tree[2*M[Xe]+1],3);G(J,J.dyn_ltree,ne-1),G(J,J.dyn_dtree,de-1)}(S,S.l_desc.max_code+1,S.d_desc.max_code+1,ee+1),pt(S,S.dyn_ltree,S.dyn_dtree)),ie(S),D&&pe(S)},s._tr_tally=function(S,C,W){return S.pending_buf[S.d_buf+2*S.last_lit]=C>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&C,S.pending_buf[S.l_buf+S.last_lit]=255&W,S.last_lit++,C===0?S.dyn_ltree[2*W]++:(S.matches++,C--,S.dyn_ltree[2*(_[W]+p+1)]++,S.dyn_dtree[2*T(C)]++),S.last_lit===S.lit_bufsize-1},s._tr_align=function(S){q(S,2,3),Z(S,w,re),function(C){C.bi_valid===16?(X(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}(S)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(i){(function(o,a){if(!o.setImmediate){var u,c,d,p,y=1,f={},x=!1,m=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,u={}.toString.call(o.process)==="[object process]"?function(k){process.nextTick(function(){g(k)})}:function(){if(o.postMessage&&!o.importScripts){var k=!0,j=o.onmessage;return o.onmessage=function(){k=!1},o.postMessage("","*"),o.onmessage=j,k}}()?(p="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(k){o.postMessage(p+k,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(k){g(k.data)},function(k){d.port2.postMessage(k)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(k){var j=m.createElement("script");j.onreadystatechange=function(){g(k),j.onreadystatechange=null,c.removeChild(j),j=null},c.appendChild(j)}):function(k){setTimeout(g,0,k)},b.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var j=new Array(arguments.length-1),P=0;P<j.length;P++)j[P]=arguments[P+1];var O={callback:k,args:j};return f[y]=O,u(y),y++},b.clearImmediate=h}function h(k){delete f[k]}function g(k){if(x)setTimeout(g,0,k);else{var j=f[k];if(j){x=!0;try{(function(P){var O=P.callback,U=P.args;switch(U.length){case 0:O();break;case 1:O(U[0]);break;case 2:O(U[0],U[1]);break;case 3:O(U[0],U[1],U[2]);break;default:O.apply(a,U)}})(j)}finally{h(k),x=!1}}}}function w(k){k.source===o&&typeof k.data=="string"&&k.data.indexOf(p)===0&&g(+k.data.slice(p.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Tf);var fv=Tf.exports;const pv=Lc(fv),Tc="https://n8n.seoengine.agency/webhook/6e9e3b30-cb55-4d74-aa9d-68691983455f",Wn={blog:5,infographic:10};let Qr={};const mv=({isOpen:e,onClose:t,imageType:r,onProcessingStateChange:n,onProgressUpdate:s,onImageGenerated:i,onBulkCompleted:o,user:a,onRefreshUser:u})=>{const c=`bulk_${r}`,[d,p]=Y.useState(()=>{var A;return((A=Qr[c])==null?void 0:A.items)||[]}),[y,f]=Y.useState(()=>{var A;return((A=Qr[c])==null?void 0:A.globalStyle)||""}),[x,m]=Y.useState(()=>{var A;return((A=Qr[c])==null?void 0:A.globalColour)||""}),[b,h]=Y.useState(()=>{var A;return((A=Qr[c])==null?void 0:A.isProcessing)||!1}),[g,w]=Y.useState(()=>{var A;return((A=Qr[c])==null?void 0:A.currentProcessingIndex)||-1}),[k,j]=Y.useState(null);Y.useEffect(()=>{Qr[c]={items:d,isProcessing:b,currentProcessingIndex:g,globalStyle:y,globalColour:x}},[d,b,g,y,x,c]),Y.useEffect(()=>{if(n(b),b&&d.length>0){const A=d.filter(L=>L.status==="completed").length;s({completed:A,total:d.length})}},[b,d,n,s]);const P=()=>{const A={id:`bulk-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:r==="blog"?"":void 0,content:"",style:y||void 0,colour:x||void 0,status:"pending"};p(L=>[...L,A])},O=(A,L,z)=>{p(E=>E.map(T=>T.id===A?{...T,[L]:z}:T))},U=A=>{p(L=>L.filter(z=>z.id!==A))},$=()=>{p([]),h(!1),w(-1)},M=(A,L)=>{console.log("BULK: ========================================"),console.log("BULK: STARTING IMAGE EXTRACTION"),console.log("BULK: ========================================"),console.log("BULK: Response data type:",typeof A),console.log("BULK: Response data:",A),console.log("BULK: Response text length:",L.length),console.log("BULK: Response text (first 500 chars):",L.substring(0,500)),console.log("BULK: Response text (last 200 chars):",L.substring(Math.max(0,L.length-200)));let z=null;if(A&&typeof A=="object"&&A.image)console.log("BULK: ✅ Method 1: Found image property in response object"),console.log("BULK: Image property type:",typeof A.image),console.log("BULK: Image property length:",A.image.length),console.log("BULK: Image property (first 100 chars):",A.image.substring(0,100)),z=A.image;else if(typeof A=="string"){console.log("BULK: 🔄 Method 2: Response data is string, attempting JSON parse");try{const E=JSON.parse(A);console.log("BULK: Successfully parsed string as JSON"),console.log("BULK: Parsed object keys:",Object.keys(E)),E&&E.image?(console.log("BULK: ✅ Found image in parsed string"),console.log("BULK: Image length:",E.image.length),z=E.image):console.log("BULK: ❌ No image property in parsed object")}catch(E){console.log("BULK: ❌ Failed to parse string as JSON:",E),A.length>1e3&&(console.log("BULK: 🔄 Treating long string as potential raw base64"),z=A)}}else if(L&&L.includes('"image"')){console.log("BULK: 🔄 Method 3: Parsing response text for image property");try{const E=JSON.parse(L);console.log("BULK: Successfully parsed response text as JSON"),console.log("BULK: Parsed object keys:",Object.keys(E)),E&&E.image&&(console.log("BULK: ✅ Found image in parsed response text"),console.log("BULK: Image length:",E.image.length),z=E.image)}catch{console.log("BULK: ❌ Failed to parse response text as JSON, trying regex");const T=L.match(/"image"\s*:\s*"([^"]+)"/);T&&T[1]?(console.log("BULK: ✅ Found image using regex extraction"),console.log("BULK: Regex match length:",T[1].length),z=T[1]):console.log("BULK: ❌ Regex extraction failed")}}else{console.log("BULK: 🔄 Method 4: Looking for base64 patterns in response");const E=/[A-Za-z0-9+/]{1000,}={0,2}/g,T=L.match(E);T&&T.length>0?(console.log("BULK: ✅ Found base64 pattern, using first match"),console.log("BULK: Pattern match length:",T[0].length),z=T[0]):console.log("BULK: ❌ No base64 patterns found")}if(z){console.log("BULK: 🧹 Cleaning base64 string..."),console.log("BULK: Original length:",z.length),z.startsWith("data:image/")&&(console.log("BULK: Removing data URL prefix"),z=z.split(",")[1]);const E=z.length;if(z=z.replace(/[\s\n\r\t]/g,""),console.log("BULK: Removed whitespace, length change:",E,"->",z.length),console.log("BULK: Final cleaned length:",z.length),console.log("BULK: First 50 chars:",z.substring(0,50)),console.log("BULK: Last 20 chars:",z.substring(z.length-20)),!/^[A-Za-z0-9+/]*={0,2}$/.test(z))return console.log("BULK: ❌ Invalid base64 format detected"),console.log("BULK: Invalid characters found in base64 string"),null;if(z.length<1e3)return console.log("BULK: ❌ Base64 string too short:",z.length),null;try{atob(z.substring(0,100)),console.log("BULK: ✅ Base64 decode test passed")}catch(X){return console.log("BULK: ❌ Base64 decode test failed:",X),null}}return console.log("BULK: ========================================"),console.log("BULK: EXTRACTION RESULT:",{found:!!z,length:z?z.length:0,isValidLength:z?z.length>1e3:!1}),console.log("BULK: ========================================"),z},re=async(A,L)=>{console.log("BULK: =========================================="),console.log(`BULK: PROCESSING ITEM ${L+1}/${d.length}`),console.log("BULK: =========================================="),console.log("BULK: Item details:",{id:A.id,title:A.title,content:A.content.substring(0,100)+"...",style:A.style,colour:A.colour});try{p(ye=>ye.map(me=>me.id===A.id?{...me,status:"processing"}:me)),w(L);const z=Nn({title:A.title,content:A.content,style:A.style,colour:A.colour});let E="";r==="blog"?E=`Blog post title: '${z.title}', Content: ${z.content}`:E=z.content,z.style&&(E+=`, Style: ${z.style}`),z.colour&&(E+=`, Colour: ${z.colour}`);const T={image_type:r==="blog"?"Featured Image":"Infographic",image_detail:E};console.log("BULK: 📤 Sending request to webhook..."),console.log("BULK: Webhook URL:",Tc),console.log("BULK: Payload:",JSON.stringify(T,null,2));const X=new AbortController,q=setTimeout(()=>{X.abort(),console.error("BULK: ⏰ Request aborted due to timeout (2 minutes)")},12e4),Z=await fetch(Tc,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*","User-Agent":"SEO-Engine-Bulk-Generator/1.0"},body:JSON.stringify(T),signal:X.signal});if(clearTimeout(q),console.log("BULK: 📥 Response received"),console.log("BULK: Response status:",Z.status),console.log("BULK: Response ok:",Z.ok),console.log("BULK: Response status text:",Z.statusText),console.log("BULK: Response headers:",Object.fromEntries(Z.headers.entries())),!Z.ok){let ye="";try{ye=await Z.text(),console.error("BULK: Error response body:",ye)}catch{console.error("BULK: Could not read error response body")}throw new Error(`HTTP ${Z.status}: ${Z.statusText}. ${ye}`)}const ae=await Z.text();if(console.log("BULK: 📄 Raw response received"),console.log("BULK: Response text length:",ae.length),console.log("BULK: Response text type:",typeof ae),!ae||ae.trim()==="")throw new Error("Empty response received from server");let ce;try{ce=JSON.parse(ae),console.log("BULK: ✅ Successfully parsed response as JSON"),console.log("BULK: Parsed result type:",typeof ce),console.log("BULK: Parsed result keys:",ce&&typeof ce=="object"?Object.keys(ce):"Not an object")}catch(ye){console.log("BULK: ❌ Failed to parse response as JSON:",ye),console.log("BULK: Treating response as raw text"),ce=ae.trim()}const ie=M(ce,ae);if(!ie)throw console.error("BULK: 💥 CRITICAL: No image data extracted"),console.error("BULK: This means the extraction failed completely"),console.error("BULK: Full response for debugging:",{result:ce,responseText:ae.substring(0,1e3)+"..."}),new Error("No image data found in response. The image generation service may have failed.");console.log("BULK: ✅ Image extraction successful!"),console.log("BULK: Final image data length:",ie.length),p(ye=>ye.map(me=>me.id===A.id?{...me,status:"completed",imageData:ie}:me));const pe={id:`${A.id}-${Date.now()}`,type:r,title:A.title||(r==="blog"?"Blog Image":"Infographic"),content:A.content,base64:ie,timestamp:Date.now(),style:A.style,colour:A.colour};return i(pe),console.log(`BULK: ✅ Item ${L+1} completed successfully`),!0}catch(z){console.error(`BULK: 💥 Error processing item ${L+1}:`,z),console.error("BULK: Error type:",typeof z),console.error("BULK: Error name:",z instanceof Error?z.name:"Unknown"),console.error("BULK: Error message:",z instanceof Error?z.message:"Unknown error"),console.error("BULK: Error stack:",z instanceof Error?z.stack:"No stack trace");let E="Failed to generate image";return z instanceof Error&&(z.name==="AbortError"?E="Request timed out after 2 minutes":z.message.includes("JSON")?E="Invalid response format from server":z.message.includes("Empty response")?E="No response received from server":z.message.includes("base64")?E="Invalid image data received":(z.message.includes("HTTP"),E=z.message)),p(T=>T.map(X=>X.id===A.id?{...X,status:"failed",error:E}:X)),!1}},I=async()=>{var z;if(d.length===0)return;if(d.filter(E=>{var T,X,q;return r==="blog"?!((T=E.title)!=null&&T.trim())||!((X=E.content)!=null&&X.trim()):!((q=E.content)!=null&&q.trim())}).length>0){alert("Please fill in all required fields for all items before processing.");return}if(a){const E=d.length*Wn[r];if(a.credits<E){alert(`Insufficient credits. You need ${E} credits but only have ${a.credits}.`);return}}console.log("BULK: 🚀 Starting bulk processing..."),console.log("BULK: Total items to process:",d.length),console.log("BULK: Image type:",r),h(!0),w(-1);let L=0;for(let E=0;E<d.length;E++){const T=d[E];if(console.log(`BULK: 🔄 Starting item ${E+1}/${d.length}`),await re(T,E)){if(L++,console.log(`BULK: ✅ Item ${E+1} successful. Total successes: ${L}`),a)try{const{deductCredits:q}=await Ze(async()=>{const{deductCredits:Z}=await Promise.resolve().then(()=>Lt);return{deductCredits:Z}},void 0);await q(a.id,Wn[r]),u()}catch(q){console.error("BULK: Error deducting credits:",q)}if(a)try{const{saveImageGeneration:q}=await Ze(async()=>{const{saveImageGeneration:Z}=await Promise.resolve().then(()=>Lt);return{saveImageGeneration:Z}},void 0);await q({user_id:a.id,image_type:r,title:T.title,content:T.content,style:T.style,colour:T.colour,credits_used:Wn[r],image_data:((z=d.find(Z=>Z.id===T.id))==null?void 0:z.imageData)||""})}catch(q){console.error("BULK: Error saving to database:",q)}}else console.log(`BULK: ❌ Item ${E+1} failed`);E<d.length-1&&(console.log("BULK: ⏳ Waiting 1 second before next request..."),await new Promise(q=>setTimeout(q,1e3)))}h(!1),w(-1),o(L,d.length),console.log("BULK: 🏁 Bulk processing completed!"),console.log(`BULK: Final results: ${L}/${d.length} successful`)},F=A=>{var L;if(A.imageData)try{const z=atob(A.imageData),E=new Array(z.length);for(let ie=0;ie<z.length;ie++)E[ie]=z.charCodeAt(ie);const T=new Uint8Array(E),X=new Blob([T],{type:"image/png"}),q=URL.createObjectURL(X),Z=document.createElement("a");Z.href=q;const ce=(A.title||((L=A.content)==null?void 0:L.substring(0,30))||"image").replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/\s+/g,"-").toLowerCase();Z.download=`seo-engine-${r}-${ce}-${Date.now()}.png`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(q)}catch(z){console.error("Download error:",z)}},_=async()=>{const A=d.filter(L=>L.status==="completed"&&L.imageData);if(A.length===0){alert("No completed images to download");return}try{const L=new pv;A.forEach((X,q)=>{if(X.imageData){const Z=`${r}-${X.title||`image-${q+1}`}.png`.replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/\s+/g,"-").toLowerCase(),ae=atob(X.imageData),ce=new Uint8Array(ae.length);for(let ie=0;ie<ae.length;ie++)ce[ie]=ae.charCodeAt(ie);L.file(Z,ce)}});const z=await L.generateAsync({type:"blob"}),E=URL.createObjectURL(z),T=document.createElement("a");T.href=E,T.download=`seo-engine-bulk-${r}-images-${Date.now()}.zip`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(E)}catch(L){console.error("Error creating zip file:",L),alert("Failed to create download file")}},H=()=>{t()};if(!e)return null;const se=d.filter(A=>A.status==="completed").length,K=d.length*Wn[r];return l.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white relative flex-shrink-0",children:[l.jsx("button",{onClick:H,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",title:"Close",children:l.jsx(wr,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 mr-4",children:l.jsx(Mr,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Bulk Processing"}),l.jsxs("p",{className:"text-blue-100",children:["Generate multiple ",r," images at once"]})]})]}),a&&l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-blue-100",children:"Available Credits"}),l.jsx("div",{className:"text-2xl font-bold",children:a.credits})]})]})]}),l.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 p-4 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Processing Status"}),l.jsxs("span",{className:"text-sm text-gray-600",children:[se,"/",d.length," completed"]})]}),d.length>0&&l.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${d.length>0?se/d.length*100:0}%`}})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gray-100 flex items-center justify-center mx-auto mb-4",children:l.jsx(Mr,{className:"w-8 h-8 text-gray-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Get Started"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["Add your first ",r," item to begin bulk processing"]}),l.jsxs("button",{onClick:P,disabled:b,className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(fc,{className:"w-5 h-5 mr-2 inline"}),"Add First Item"]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:P,disabled:b,className:"w-full p-4 border-2 border-dashed border-blue-300 rounded-xl text-blue-600 hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(fc,{className:"w-5 h-5 mr-2 inline"}),"Add ",r==="blog"?"Blog Post":"Infographic"," Item"]}),d.map((A,L)=>l.jsxs("div",{className:`p-4 rounded-xl border transition-all duration-300 ${A.status==="completed"?"bg-green-50 border-green-200":A.status==="failed"?"bg-red-50 border-red-200":A.status==="processing"?"bg-blue-50 border-blue-200":"bg-white border-gray-200"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[A.status==="completed"&&l.jsx(Zh,{className:"w-5 h-5 text-green-600"}),A.status==="failed"&&l.jsx(Da,{className:"w-5 h-5 text-red-600"}),A.status==="processing"&&l.jsx(Fa,{className:"w-5 h-5 text-blue-600 animate-spin"}),A.status==="pending"&&l.jsx(Fa,{className:"w-5 h-5 text-gray-400"})]}),l.jsxs("h4",{className:"font-semibold text-gray-900",children:[r==="blog"?"Blog Post":"Infographic"," #",L+1]}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Cost: ",Wn[r]," credits"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[A.status==="completed"&&A.imageData&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>j({base64:A.imageData,title:A.title||A.content.substring(0,30)}),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Preview Image",children:l.jsx(Dr,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>F(A),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors",title:"Download Image",children:l.jsx(gr,{className:"w-4 h-4"})})]}),!b&&l.jsx("button",{onClick:()=>U(A.id),className:"p-2 text-gray-400 hover:text-red-600 rounded-lg transition-colors",title:"Remove Item",children:l.jsx(Ka,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[r==="blog"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Title *"}),l.jsx("input",{type:"text",value:A.title||"",onChange:z=>O(A.id,"title",z.target.value),disabled:b,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter blog title..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r==="blog"?"Blog Content / Keywords *":"Content to Visualize *"}),l.jsx("textarea",{value:A.content,onChange:z=>O(A.id,"content",z.target.value),disabled:b,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",rows:3,placeholder:r==="blog"?"Enter blog content, summary, or keywords...":"Enter content to visualize..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Style (Optional)"}),l.jsxs("select",{value:A.style||"",onChange:z=>O(A.id,"style",z.target.value),disabled:b,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("option",{value:"",children:"Default"}),l.jsx("option",{value:"minimalist",children:"Minimalist"}),l.jsx("option",{value:"modern",children:"Modern"}),l.jsx("option",{value:"professional",children:"Professional"}),l.jsx("option",{value:"creative",children:"Creative"}),l.jsx("option",{value:"elegant",children:"Elegant"}),l.jsx("option",{value:"bold",children:"Bold"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Colour (Optional)"}),l.jsxs("select",{value:A.colour||"",onChange:z=>O(A.id,"colour",z.target.value),disabled:b,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("option",{value:"",children:"Default"}),l.jsx("option",{value:"blue",children:"Blue"}),l.jsx("option",{value:"red",children:"Red"}),l.jsx("option",{value:"green",children:"Green"}),l.jsx("option",{value:"purple",children:"Purple"}),l.jsx("option",{value:"orange",children:"Orange"}),l.jsx("option",{value:"multicolor",children:"Multicolor"})]})]})]}),A.error&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:A.error})]})]},A.id))]})}),d.length>0&&l.jsx("div",{className:"bg-gray-50 border-t border-gray-200 p-6 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[l.jsxs("button",{onClick:I,disabled:b||d.length===0,className:"flex-1 py-3 px-6 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(ql,{className:"w-5 h-5 mr-2 inline"}),"Process All Items (",d.length,") - ",K," Credits"]}),se>0&&l.jsxs("button",{onClick:_,disabled:b,className:"py-3 px-6 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(gr,{className:"w-5 h-5 mr-2 inline"}),"Download ZIP (",se,")"]}),l.jsx("button",{onClick:$,disabled:b,className:"py-3 px-6 bg-gray-500 text-white rounded-xl hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Clear All"})]})})]}),k&&l.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-60 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-white",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Image Preview"}),l.jsx("button",{onClick:()=>j(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(wr,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 p-4",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("img",{src:`data:image/png;base64,${k.base64}`,alt:k.title,className:"max-w-full max-h-full rounded-lg shadow-lg"})})}),l.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:k.title}),l.jsxs("button",{onClick:()=>{const A=d.find(L=>L.imageData===k.base64);A&&F(A)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(gr,{className:"w-4 h-4 mr-2 inline"}),"Download"]})]})})]})})]})},Ac=({isVisible:e,onClose:t,imageType:r,onDownload:n,onPreview:s,autoHide:i=!0,duration:o=5e3,isBulkCompletion:a=!1,completedCount:u=0,totalCount:c=0})=>{const[d,p]=Y.useState(!1),[y,f]=Y.useState(100);Y.useEffect(()=>{if(e&&(p(!0),f(100),i)){const b=setInterval(()=>{f(g=>{const w=g-100/(o/100);return Math.max(0,w)})},100),h=setTimeout(()=>{x()},o);return()=>{clearTimeout(h),clearInterval(b)}}},[e,i,o]);const x=()=>{p(!1),setTimeout(()=>{t()},300)};if(!e)return null;const m=u>0&&c>0;return l.jsx("div",{className:"fixed top-4 right-4 z-50",children:l.jsxs("div",{className:`bg-white rounded-xl shadow-2xl border border-gray-200 p-4 max-w-sm transform transition-all duration-300 ${d?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${m?"bg-purple-100":"bg-green-100"}`,children:m?l.jsx(Mr,{className:"w-6 h-6 text-purple-600"}):l.jsx(Zh,{className:"w-6 h-6 text-green-600"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:m?"Bulk Processing Complete!":"Image Generated Successfully!"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:m?`Successfully generated ${u} out of ${c} images. Check your history to view all generated images.`:`Your ${r==="blog"?"blog featured image":"infographic"} has been created and added to your history.`}),l.jsxs("div",{className:"flex items-center space-x-2",children:[s&&l.jsxs("button",{onClick:s,className:"flex items-center px-3 py-1.5 text-xs font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[l.jsx(Dr,{className:"w-3 h-3 mr-1"}),m?"View History":"Preview"]}),n&&!m&&l.jsxs("button",{onClick:n,className:"flex items-center px-3 py-1.5 text-xs font-medium text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:[l.jsx(gr,{className:"w-3 h-3 mr-1"}),"Download"]})]})]}),l.jsx("button",{onClick:x,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:l.jsx(wr,{className:"w-4 h-4"})})]}),i&&l.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-1",children:l.jsx("div",{className:`h-1 rounded-full transition-all duration-100 ease-linear ${m?"bg-purple-500":"bg-green-500"}`,style:{width:`${y}%`}})})]})})},gv=()=>{const[e,t]=Y.useState(!1),[r,n]=Y.useState(!1),[s,i]=Y.useState(null),o=Y.useCallback(()=>{t(!1),n(!1),i(null)},[]);return{isProcessing:e,isBulkProcessing:r,bulkProgress:s,setIsProcessing:t,setIsBulkProcessing:n,setBulkProgress:i,resetProcessingState:o}},Rc="https://n8n.seoengine.agency/webhook/6e9e3b30-cb55-4d74-aa9d-68691983455f",Yr={blog:5,infographic:10};function yv(){const{user:e,isAuthenticated:t,isLoading:r,error:n,signUp:s,signIn:i,signOut:o,refreshUser:a,clearError:u}=Pf(),{addToHistory:c,history:d}=Of(),{isProcessing:p,isBulkProcessing:y,bulkProgress:f,setIsProcessing:x,setIsBulkProcessing:m,setBulkProgress:b}=gv(),[h,g]=Y.useState(!1),[w,k]=Y.useState(!1),[j,P]=Y.useState(!1),[O,U]=Y.useState(!1),[$,M]=Y.useState(!1),[re,I]=Y.useState(!1),[F,_]=Y.useState({show:!1,completed:0,total:0}),[H,se]=Y.useState("select"),[K,A]=Y.useState(null),[L,z]=Y.useState(null),[E,T]=Y.useState(null),[X,q]=Y.useState(null),Z=["Select Type","Provide Content","Generate Image"],ae=()=>{switch(H){case"select":return 0;case"form":return 1;case"result":return 2;default:return 0}};Y.useEffect(()=>{(h||w)&&(u(),q(null))},[h,w,u]);const ce=C=>{A(C),se("form"),z(null),T(null),q(null)},ie=C=>{H!=="select"?(A(C),se("form"),z(null),T(null),q(null)):ce(C)},pe=C=>{if(!e||!t||!At)return!0;const W=Yr[C];return e.credits<W?(q(`Insufficient credits. You need ${W} credits to generate a ${C} image. You currently have ${e.credits} credits.`),!1):!0},ye=(C,W)=>{console.log("=== EXTRACTING IMAGE DATA ==="),console.log("Response data type:",typeof C),console.log("Response text length:",W.length),console.log("Response data keys:",C&&typeof C=="object"?Object.keys(C):"Not an object");let D=null;if(C&&typeof C=="object"&&(C.image&&typeof C.image=="string"?(console.log("Found image in responseData.image"),D=C.image):C.data&&typeof C.data=="string"?(console.log("Found image in responseData.data"),D=C.data):C.base64&&typeof C.base64=="string"?(console.log("Found image in responseData.base64"),D=C.base64):C.data&&C.data.image&&(console.log("Found image in responseData.data.image"),D=C.data.image)),!D&&typeof C=="string"&&C.length>100&&(console.log("Treating entire response as base64 string"),D=C),!D&&W&&W.length>100){console.log("Searching response text for base64 patterns");const R=W.match(/data:image\/[^;]+;base64,([A-Za-z0-9+/=]+)/);if(R&&R[1])console.log("Found base64 in data URL"),D=R[1];else{const V=W.match(/"image"\s*:\s*"([A-Za-z0-9+/=]+)"/);if(V&&V[1])console.log("Found base64 in JSON image property"),D=V[1];else{const ee=W.match(/([A-Za-z0-9+/]{1000,}={0,2})/);ee&&ee[1]&&(console.log("Found standalone base64 pattern"),D=ee[1])}}}return D&&(D.startsWith("data:image/")&&(D=D.split(",")[1]),D=D.replace(/\s/g,""),console.log("Cleaned base64 length:",D.length),console.log("First 50 chars:",D.substring(0,50)),console.log("Last 10 chars:",D.substring(D.length-10))),console.log("Image extraction result:",{found:!!D,length:D?D.length:0,isValidLength:D?D.length>1e3:!1}),D},me=async C=>{if(!K||!pe(K))return;const W=new AbortController,D=setTimeout(()=>{W.abort(),console.error("Request aborted due to timeout")},12e4);x(!0),T(C),q(null);try{console.log("=== STARTING IMAGE GENERATION ==="),console.log("Selected type:",K),console.log("Raw form data:",C);const R=Nn(C);console.log("Sanitized data:",R);let V="";K==="blog"?V=`Blog post title: '${R.title}', Content: ${R.intro}`:V=R.content,R.style&&(V+=`, Style: ${R.style}`),R.colour&&(V+=`, Colour: ${R.colour}`);const ee={image_type:K==="blog"?"Featured Image":"Infographic",image_detail:V};console.log("=== SENDING TO WEBHOOK ==="),console.log("Webhook URL:",Rc),console.log("Payload:",JSON.stringify(ee,null,2));const J=await fetch(Rc,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*","User-Agent":"SEO-Engine-Image-Generator/1.0"},body:JSON.stringify(ee),signal:W.signal});if(clearTimeout(D),console.log("=== WEBHOOK RESPONSE ==="),console.log("Response status:",J.status),console.log("Response ok:",J.ok),console.log("Response status text:",J.statusText),console.log("Response headers:",Object.fromEntries(J.headers.entries())),!J.ok){let we="";try{we=await J.text(),console.error("Error response body:",we)}catch{console.error("Could not read error response body")}throw J.status===404?new Error("Image generation service not found. Please contact support."):J.status===500?new Error("Image generation service is experiencing issues. Please try again later."):J.status===503?new Error("Image generation service is temporarily unavailable. Please try again in a few minutes."):new Error(`Service error (${J.status}): ${J.statusText}. ${we?`Details: ${we}`:""}`)}const ne=await J.text();if(console.log("=== RAW RESPONSE ==="),console.log("Response text length:",ne.length),console.log("First 200 chars:",ne.substring(0,200)),console.log("Last 100 chars:",ne.substring(Math.max(0,ne.length-100))),!ne||ne.trim()==="")throw new Error("Empty response received from image generation service. Please try again.");let de;try{de=JSON.parse(ne),console.log("=== PARSED JSON ==="),console.log("Result type:",typeof de),console.log("Result keys:",de&&typeof de=="object"?Object.keys(de):"Not an object")}catch(we){console.error("JSON parse error:",we),console.log("Response was not valid JSON. Treating as raw data..."),de=ne.trim()}const oe=ye(de,ne);if(console.log("=== IMAGE DATA VALIDATION ==="),console.log("Image base64 found:",!!oe),console.log("Image base64 length:",oe?oe.length:0),!oe)throw console.error("=== NO IMAGE DATA FOUND ==="),console.error("Full response structure:",JSON.stringify(de,null,2)),console.error("Response text sample:",ne.substring(0,1e3)),new Error("No image data found in response. The image generation service may have failed. Please try again.");if(oe.length<1e3)throw new Error("Received image data is too short to be valid. Please try again.");try{atob(oe.substring(0,100)),console.log("Base64 validation passed")}catch(we){throw console.error("Base64 validation failed:",we),new Error("Received data is not valid base64 format. Please try again.")}if(console.log("=== PROCESSING CREDITS AND DATABASE ==="),e&&t&&At)try{console.log("Deducting credits for user:",e.id,"Amount:",Yr[K]);const{deductCredits:we}=await Ze(async()=>{const{deductCredits:Se}=await Promise.resolve().then(()=>Lt);return{deductCredits:Se}},void 0),Pt=await we(e.id,Yr[K]);console.log("Credits deducted successfully. New balance:",Pt),await a()}catch(we){console.error("Error deducting credits:",we)}if(e&&t&&At)try{console.log("Saving image generation to database");const{saveImageGeneration:we}=await Ze(async()=>{const{saveImageGeneration:Pt}=await Promise.resolve().then(()=>Lt);return{saveImageGeneration:Pt}},void 0);await we({user_id:e.id,image_type:K,title:K==="blog"?R.title:void 0,content:K==="blog"?R.intro:R.content,style:R.style,colour:R.colour,credits_used:Yr[K],image_data:oe}),console.log("Image generation saved to database successfully")}catch(we){console.error("Error saving to database:",we)}console.log("=== FINALIZING IMAGE GENERATION ===");const Xe={base64:oe,type:K};console.log("Setting generated image"),z(Xe),se("result");const Qt={id:`img-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:K,base64:oe,title:K==="blog"?R.title:"Infographic",content:K==="blog"?R.intro:R.content,timestamp:Date.now(),style:R.style||void 0,colour:R.colour||void 0};console.log("Adding image to history:",Qt.id),c(Qt),I(!0),console.log("=== IMAGE GENERATION COMPLETED SUCCESSFULLY ===")}catch(R){console.error("=== IMAGE GENERATION ERROR ==="),console.error("Error details:",R),console.error("Error stack:",R instanceof Error?R.stack:"No stack trace");let V="Failed to generate image. Please try again.";R instanceof Error&&(R.name==="AbortError"?V="Request timed out. The image generation is taking longer than expected. Please try again in a few minutes.":R.message.includes("JSON")?V="Invalid response format from server. Please contact support if this persists.":R.message.includes("HTTP error")||R.message.includes("Service error")?V=R.message:R.message.includes("Empty response")?V="No response received from server. The service may be temporarily unavailable. Please try again.":R.message.includes("base64")?V="Invalid image data received. Please try again.":R.message.includes("timeout")||R.message.includes("timed out")?V="Request timed out. Please try again with a shorter description or try again later.":R.message.includes("fetch")?V="Network error. Please check your internet connection and try again.":V=R.message),q(V)}finally{clearTimeout(D),x(!1),console.log("=== PROCESSING COMPLETED ===")}},pt=()=>{se("form"),z(null),q(null)},at=()=>{H==="form"?(se("select"),A(null),T(null),z(null),q(null)):H==="result"&&(se("form"),z(null),q(null))},v=()=>{K&&pe(K)&&M(!0)},G=(C,W)=>{console.log("Bulk processing completed notification:",C,W),_({show:!0,completed:C,total:W}),e&&t&&At&&a()},B=()=>{var C;if(L)try{const W=atob(L.base64),D=new Array(W.length);for(let oe=0;oe<W.length;oe++)D[oe]=W.charCodeAt(oe);const R=new Uint8Array(D),V=new Blob([R],{type:"image/png"}),ee=URL.createObjectURL(V),J=document.createElement("a");J.href=ee;const de=((E==null?void 0:E.title)||((C=E==null?void 0:E.content)==null?void 0:C.substring(0,30))||"image").replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/\s+/g,"-").toLowerCase();J.download=`seo-engine-${L.type}-${de}-${Date.now()}.png`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(ee)}catch(W){console.error("Download error:",W)}},N=H==="form"||H==="result",S=H!=="select";return r?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 mx-auto mb-4",children:l.jsx(Ue,{className:"w-8 h-8 text-white animate-pulse"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.jsx("a",{href:"https://seoengine.agency/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 transition-colors",children:"SEO Engine"})}),l.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-red-100 mx-auto mb-4",children:l.jsx(Da,{className:"w-8 h-8 text-red-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connection Error"}),l.jsx("p",{className:"text-gray-600 mb-4",children:n}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"To fix this:"}),' Please click the "Connect to Supabase" button in the top right corner to set up your database connection.']})}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:"Retry Connection"})]})}):t?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[l.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-gray-200/50 sticky top-0 z-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 mr-3",children:l.jsx(Ue,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AI Image Generator"}),l.jsx("p",{className:"text-sm text-gray-600 hidden sm:block",children:"Create stunning visuals with AI"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"hidden sm:flex items-center text-sm text-gray-500",children:[l.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Powered by"," ",l.jsx("a",{href:"https://seoengine.agency/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-600 ml-1 hover:text-blue-700 transition-colors",children:"SEO Engine"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[e&&At&&l.jsxs("div",{className:"flex items-center px-3 py-2 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:[l.jsx(Ma,{className:"w-4 h-4 mr-2 text-green-600"}),l.jsxs("span",{className:"text-sm font-semibold text-green-700",children:[e.credits," Credits"]})]}),l.jsxs("button",{onClick:()=>U(!0),disabled:p||y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed relative",title:"View History",children:[l.jsx(Yh,{className:"w-4 h-4"}),d.length>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:d.length>9?"9+":d.length})]}),e&&e.is_admin&&At&&l.jsx("button",{onClick:()=>P(!0),disabled:p||y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Admin Panel",children:l.jsx(Nm,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ef,{className:"w-4 h-4 mr-2"}),(e==null?void 0:e.name)||(e==null?void 0:e.email)||"User"]}),l.jsx("button",{onClick:o,disabled:p||y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Sign Out",children:l.jsx(bm,{className:"w-4 h-4"})})]})]})]})})}),(p||y)&&l.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center text-blue-700",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-3"}),l.jsx("span",{className:"text-sm font-medium",children:y?`Bulk processing is currently active. Please wait for completion before starting another process.${f?` (${f.completed}/${f.total} completed)`:""}`:"Single image generation is currently active. Please wait..."})]})})})}),l.jsx(Dm,{currentType:K,onTypeSelect:ie,isVisible:S,disabled:p||y}),l.jsx("div",{className:"bg-white/50 backdrop-blur-sm border-b border-gray-200/50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:l.jsx(Bm,{currentStep:ae(),steps:Z})})}),X&&l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(Da,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-red-600 text-sm font-medium mb-1",children:"Image Generation Failed"}),l.jsx("p",{className:"text-red-600 text-sm",children:X}),l.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>q(null),className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Dismiss"}),l.jsx("button",{onClick:()=>{q(null),E&&me(E)},className:"text-sm bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})]})]})})}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:N?l.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 min-h-[calc(100vh-300px)]",children:[l.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200/50 overflow-hidden",children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"p-4 sm:p-8 border-b border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:K==="blog"?"Blog Featured Image":"Infographic Image"}),l.jsx("button",{onClick:at,disabled:p||y,className:"px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"← Back"})]}),l.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:K==="blog"?`Provide your blog details to generate a stunning featured image${` (${Yr.blog} credits)`}`:`Provide your content to create a visual infographic${` (${Yr.infographic} credits)`}`})]}),l.jsxs("div",{className:"flex-1 p-4 sm:p-8 overflow-y-auto",children:[K==="blog"&&l.jsx(Am,{onSubmit:me,isLoading:p,disabled:p||y,onOpenBulkModal:v}),K==="infographic"&&l.jsx(zm,{onSubmit:me,isLoading:p,disabled:p||y,onOpenBulkModal:v})]})]})}),l.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200/50 overflow-hidden","data-preview":!0,children:l.jsx($m,{isLoading:p,generatedImage:L,formData:E,imageType:K,onGenerateNew:pt,isBulkProcessing:y,bulkProgress:f,onOpenBulkModal:v})})]}):l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(Im,{selectedType:K,onTypeSelect:ce,disabled:p||y})})}),l.jsx("footer",{className:"bg-white/80 backdrop-blur-xl border-t border-gray-200/50 mt-16",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-4",children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 mr-3",children:l.jsx(Ue,{className:"w-4 h-4 text-white"})}),l.jsx("a",{href:"https://seoengine.agency/",target:"_blank",rel:"noopener noreferrer",className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent hover:from-blue-700 hover:to-indigo-700 transition-all duration-300",children:"SEO Engine"})]}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Empowering content creators with AI-driven visual solutions"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["© 2025"," ",l.jsx("a",{href:"https://seoengine.agency/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 transition-colors",children:"SEO Engine"}),". All rights reserved. | Transforming ideas into stunning visuals."]})]})})}),l.jsx(hv,{isOpen:O,onClose:()=>U(!1)}),l.jsx(mv,{isOpen:$,onClose:()=>M(!1),imageType:K||"blog",onProcessingStateChange:m,onProgressUpdate:b,onImageGenerated:c,onBulkCompleted:G,user:e,onRefreshUser:a}),e&&e.is_admin&&At&&l.jsx(cv,{isOpen:j,onClose:()=>P(!1),currentUser:e}),l.jsx(Ac,{isVisible:re,onClose:()=>I(!1),imageType:(L==null?void 0:L.type)||"blog",onDownload:B,onPreview:()=>{const C=document.querySelector("[data-preview]");C&&C.scrollIntoView({behavior:"smooth"})}}),l.jsx(Ac,{isVisible:F.show,onClose:()=>_({show:!1,completed:0,total:0}),imageType:"blog",autoHide:!0,duration:8e3,isBulkCompletion:!0,completedCount:F.completed,totalCount:F.total,onPreview:()=>{U(!0),_({show:!1,completed:0,total:0})}})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800 relative overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-r from-emerald-400/20 to-teal-500/20 rounded-full blur-xl animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 bg-gradient-to-r from-amber-400/20 to-orange-500/20 rounded-full blur-xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-32 w-40 h-40 bg-gradient-to-r from-violet-400/20 to-purple-500/20 rounded-full blur-xl animate-pulse delay-2000"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 bg-gradient-to-r from-rose-400/20 to-pink-500/20 rounded-full blur-xl animate-pulse delay-3000"}),l.jsx("div",{className:"absolute inset-0",children:l.jsxs("svg",{className:"w-full h-full opacity-10",viewBox:"0 0 1000 1000",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"neuralGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:"#10b981"}),l.jsx("stop",{offset:"50%",stopColor:"#f59e0b"}),l.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})}),l.jsx("path",{d:"M100,200 Q300,100 500,200 T900,200",stroke:"url(#neuralGradient)",strokeWidth:"2",fill:"none",className:"animate-pulse"}),l.jsx("path",{d:"M100,400 Q300,300 500,400 T900,400",stroke:"url(#neuralGradient)",strokeWidth:"2",fill:"none",className:"animate-pulse delay-1000"}),l.jsx("path",{d:"M100,600 Q300,500 500,600 T900,600",stroke:"url(#neuralGradient)",strokeWidth:"2",fill:"none",className:"animate-pulse delay-2000"}),l.jsx("path",{d:"M100,800 Q300,700 500,800 T900,800",stroke:"url(#neuralGradient)",strokeWidth:"2",fill:"none",className:"animate-pulse delay-3000"})]})})]}),l.jsx("header",{className:"bg-slate-900/50 backdrop-blur-xl border-b border-slate-700/50 relative z-10 flex-shrink-0",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-600 mr-3 shadow-lg",children:l.jsx(Fo,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"AI Image Generator"}),l.jsx("p",{className:"text-sm text-emerald-200 hidden sm:block",children:"Create stunning visuals with AI"})]})]}),l.jsx("button",{onClick:()=>g(!0),className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Sign In"})]})})}),l.jsx("main",{className:"flex-1 flex items-center justify-center relative z-10 px-4 sm:px-6 py-8 overflow-y-auto",children:l.jsxs("div",{className:"text-center max-w-5xl mx-auto w-full",children:[l.jsxs("div",{className:"relative flex items-center justify-center w-32 h-32 mx-auto mb-8",children:[l.jsx("div",{className:"relative w-24 h-24 rounded-3xl bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 flex items-center justify-center shadow-2xl",children:l.jsx(Fo,{className:"w-12 h-12 text-white"})}),l.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full animate-bounce delay-300",children:l.jsx(ym,{className:"w-4 h-4 text-white m-1"})}),l.jsx("div",{className:"absolute -bottom-2 -left-2 w-6 h-6 bg-gradient-to-r from-violet-400 to-purple-500 rounded-full animate-bounce delay-700",children:l.jsx(Xh,{className:"w-4 h-4 text-white m-1"})}),l.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 bg-gradient-to-r from-rose-400 to-pink-500 rounded-full animate-bounce delay-1000",children:l.jsx(wm,{className:"w-4 h-4 text-white m-1"})}),l.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full animate-bounce delay-1500",children:l.jsx(Ue,{className:"w-4 h-4 text-white m-1"})})]}),l.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl font-bold mb-6 leading-tight",children:[l.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent",children:"AI Image"}),l.jsx("br",{}),l.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-orange-400 to-rose-400 bg-clip-text text-transparent",children:"Generator"})]}),l.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-slate-300 mb-8 max-w-4xl mx-auto leading-relaxed",children:"Create stunning blog featured images and infographics with the power of AI"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center mb-8",children:[l.jsxs("div",{className:"flex items-center px-4 py-2 bg-slate-800/50 backdrop-blur-sm rounded-full border border-slate-600/50 text-slate-200",children:[l.jsx(Ha,{className:"w-4 h-4 mr-2 text-emerald-400"}),"Powered by"," ",l.jsx("a",{href:"https://seoengine.agency/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 font-semibold text-emerald-300 hover:text-emerald-200 transition-colors",children:"SEO Engine"})]}),l.jsx("div",{className:"hidden sm:block w-2 h-2 bg-slate-500 rounded-full"}),l.jsxs("div",{className:"flex items-center px-4 py-2 bg-slate-800/50 backdrop-blur-sm rounded-full border border-slate-600/50 text-slate-200",children:[l.jsx(Fo,{className:"w-4 h-4 mr-2 text-violet-400"}),"Neural Networks"]}),l.jsx("div",{className:"hidden sm:block w-2 h-2 bg-slate-500 rounded-full"}),l.jsxs("div",{className:"flex items-center px-4 py-2 bg-slate-800/50 backdrop-blur-sm rounded-full border border-slate-600/50 text-slate-200",children:[l.jsx(Ma,{className:"w-4 h-4 mr-2 text-amber-400"}),"100 Free Credits"]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-8 max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-emerald-400 mb-1",children:"10K+"}),l.jsx("div",{className:"text-xs sm:text-sm text-slate-400",children:"Images Generated"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-amber-400 mb-1",children:"99.9%"}),l.jsx("div",{className:"text-xs sm:text-sm text-slate-400",children:"Uptime"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-violet-400 mb-1",children:"30s"}),l.jsx("div",{className:"text-xs sm:text-sm text-slate-400",children:"Avg Generation"})]})]}),l.jsx("button",{onClick:()=>g(!0),className:"px-8 sm:px-10 py-3 sm:py-4 rounded-xl bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 text-white font-bold hover:from-emerald-600 hover:via-teal-600 hover:to-cyan-600 transition-all duration-300 transform hover:scale-105 shadow-2xl text-base sm:text-lg border border-emerald-400/20",children:"Start Creating Free"})]})}),l.jsx(Fm,{isOpen:h,onClose:()=>g(!1),onSignInWithEmail:i,onSignInAnonymously:async()=>(q("Please create an account to use the service and get 100 free credits!"),!1),onOpenSignUp:()=>k(!0)}),l.jsx(Mm,{isOpen:w,onClose:()=>k(!1),onSignUp:s})]})}qh(document.getElementById("root")).render(l.jsx(Y.StrictMode,{children:l.jsx(yv,{})}));
